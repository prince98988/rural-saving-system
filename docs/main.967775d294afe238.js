(self.webpackChunkbrahmani_saving_system=self.webpackChunkbrahmani_saving_system||[]).push([[179],{6304:(Le,Ce,P)=>{"use strict";P.d(Ce,{Dh:()=>V,GT:()=>W,cc:()=>$,hO:()=>B,on:()=>N,pX:()=>ee,xv:()=>H});var a=P(5879),L=P(120),O=P(2793);Le=P.hmd(Le);const z=["ngOnDestroy"],ee=(Z,J,_e,G={})=>new Proxy(Z,{get:(he,Y)=>_e.runOutsideAngular(()=>{var ge;if(Z[Y])return!(null===(ge=G?.spy)||void 0===ge)&&ge.get&&G.spy.get(Y,Z[Y]),Z[Y];if(z.indexOf(Y)>-1)return()=>{};const be=J.toPromise().then(ue=>{const Ee=ue&&ue[Y];return"function"==typeof Ee?Ee.bind(ue):Ee&&Ee.then?Ee.then(ye=>_e.run(()=>ye)):_e.run(()=>Ee)});return new Proxy(()=>{},{get:(ue,Ee)=>be[Ee],apply:(ue,Ee,ye)=>be.then(Ne=>{var Xe;const Ze=Ne&&Ne(...ye);return!(null===(Xe=G?.spy)||void 0===Xe)&&Xe.apply&&G.spy.apply(Y,ye,Ze),Ze})})})}),W=(Z,J)=>{J.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(G=>{Object.defineProperty(Z.prototype,G,Object.getOwnPropertyDescriptor(_e.prototype||_e,G))})})};class X{constructor(J){return J}}const V=new a.OlP("angularfire2.app.options"),H=new a.OlP("angularfire2.app.name");function N(Z,J,_e){const he="object"==typeof _e&&_e||{};he.name=he.name||"string"==typeof _e&&_e||"[DEFAULT]";const ge=L.Z.apps.filter(be=>be&&be.name===he.name)[0]||J.runOutsideAngular(()=>L.Z.initializeApp(Z,he));try{JSON.stringify(Z)!==JSON.stringify(ge.options)&&M("error",`${ge.name} Firebase App already initialized with different options${Le.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new X(ge)}const M=(Z,...J)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Z](...J)},U={provide:X,useFactory:N,deps:[V,a.R0b,[new a.FiY,H]]};let B=(()=>{class Z{constructor(_e){L.Z.registerVersion("angularfire",O.q4.full,"core"),L.Z.registerVersion("angularfire",O.q4.full,"app-compat"),L.Z.registerVersion("angular",a.q4F.full,_e.toString())}static initializeApp(_e,G){return{ngModule:Z,providers:[{provide:V,useValue:_e},{provide:H,useValue:G}]}}}return Z.\u0275fac=function(_e){return new(_e||Z)(a.LFG(a.Lbi))},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({providers:[U]}),Z})();function $(Z,J,_e,G,he){const[,Y,ge]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===Z)||[];if(Y)return function ne(Z,J){try{return Z.toString()===J.toString()}catch{return Z===J}}(he,ge)||(pe("error",`${J} was already initialized on the ${_e} Firebase App with different settings.${ae?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:he,was:ge})),Y;{const be=G();return globalThis.\u0275AngularfireInstanceCache.push([Z,be,he]),be}}const ae=!!Le.hot,pe=(Z,...J)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Z](...J)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Le,Ce,P)=>{"use strict";P.d(Ce,{q4:()=>Jo,iC:()=>Yu,HU:()=>Dh,vb:()=>Gs,JM:()=>qs});var a=P(5879),L=P(4097),O=P(5861),z=P(4303),ee=P(9058),W=P(4537),X=P(7879);const V=(E,I)=>I.some(A=>E instanceof A);let H,N;const B=new WeakMap,$=new WeakMap,ne=new WeakMap,ae=new WeakMap,pe=new WeakMap;let _e={get(E,I,A){if(E instanceof IDBTransaction){if("done"===I)return $.get(E);if("objectStoreNames"===I)return E.objectStoreNames||ne.get(E);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ge(E[I])},set:(E,I,A)=>(E[I]=A,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function Y(E){return"function"==typeof E?function he(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(be(this),I),ge(B.get(this))}:function(...I){return ge(E.apply(be(this),I))}:function(I,...A){const j=E.call(be(this),I,...A);return ne.set(j,I.sort?I.sort():[I]),ge(j)}}(E):(E instanceof IDBTransaction&&function J(E){if($.has(E))return;const I=new Promise((A,j)=>{const oe=()=>{E.removeEventListener("complete",Ie),E.removeEventListener("error",Pe),E.removeEventListener("abort",Pe)},Ie=()=>{A(),oe()},Pe=()=>{j(E.error||new DOMException("AbortError","AbortError")),oe()};E.addEventListener("complete",Ie),E.addEventListener("error",Pe),E.addEventListener("abort",Pe)});$.set(E,I)}(E),V(E,function M(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,_e):E)}function ge(E){if(E instanceof IDBRequest)return function Z(E){const I=new Promise((A,j)=>{const oe=()=>{E.removeEventListener("success",Ie),E.removeEventListener("error",Pe)},Ie=()=>{A(ge(E.result)),oe()},Pe=()=>{j(E.error),oe()};E.addEventListener("success",Ie),E.addEventListener("error",Pe)});return I.then(A=>{A instanceof IDBCursor&&B.set(A,E)}).catch(()=>{}),pe.set(I,E),I}(E);if(ae.has(E))return ae.get(E);const I=Y(E);return I!==E&&(ae.set(E,I),pe.set(I,E)),I}const be=E=>pe.get(E),ye=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],Xe=new Map;function Ze(E,I){var A;if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(Xe.get(I))return Xe.get(I);const j=I.replace(/FromIndex$/,""),oe=I!==j,Ie=Ne.includes(j);if(!(j in(oe?IDBIndex:IDBObjectStore).prototype)||!Ie&&!ye.includes(j))return;const Pe=function(Ye){return(A=A||(0,O.Z)(function*(ht,...Ct){const It=this.transaction(ht,Ie?"readwrite":"readonly");let zt=It.store;return oe&&(zt=zt.index(Ct.shift())),(yield Promise.all([zt[j](...Ct),Ie&&It.done]))[0]})).apply(this,arguments)};return Xe.set(I,Pe),Pe}var lt,gt,xt,kt,te,ce,fe,le,Ue,Re,nt,Be,On,wt,en,Ft;!function G(E){_e=E(_e)}(E=>({...E,get:(I,A,j)=>Ze(I,A)||E.get(I,A,j),has:(I,A)=>!!Ze(I,A)||E.has(I,A)}));const Jt="@firebase/installations",ln="0.6.4",Bn=1e4,Kn=`w:${ln}`,li="FIS_v2",Ir="https://firebaseinstallations.googleapis.com/v1",Yn=36e5,Nt=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vt(E){return E instanceof ee.ZR&&E.code.includes("request-failed")}function an({projectId:E}){return`${Ir}/projects/${E}/installations`}function dr(E){return{token:E.token,requestStatus:2,expiresIn:gn(E.expiresIn),creationTime:Date.now()}}function Xn(E,I){return(lt=lt||(0,O.Z)(function*(A,j){const Ie=(yield j.json()).error;return Nt.create("request-failed",{requestName:A,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function fn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Rr(E){return(gt=gt||(0,O.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function gn(E){return Number(E.replace("s","000"))}function ui(E){return new Promise(I=>{setTimeout(I,E)})}const $i=/^[cdef][\w-]{21}$/,Gr="";function Do(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function qe(E){return function Zi(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return $i.test(A)?A:Gr}catch{return Gr}}function me(E){return`${E.appName}!${E.appId}`}const Fe=new Map;function tt(E,I){const A=me(E);bn(A,I),function de(E,I){const A=function we(){return!se&&"BroadcastChannel"in self&&(se=new BroadcastChannel("[Firebase] FID Change"),se.onmessage=E=>{bn(E.data.key,E.data.fid)}),se}();A&&A.postMessage({key:E,fid:I}),function je(){0===Fe.size&&se&&(se.close(),se=null)}()}(A,I)}function bn(E,I){const A=Fe.get(E);if(A)for(const j of A)j(I)}let se=null;const Se="firebase-installations-database",at=1,Pt="firebase-installations-store";let jt=null;function ar(){return jt||(jt=function ue(E,I,{blocked:A,upgrade:j,blocking:oe,terminated:Ie}={}){const Pe=indexedDB.open(E,I),Ge=ge(Pe);return j&&Pe.addEventListener("upgradeneeded",Ye=>{j(ge(Pe.result),Ye.oldVersion,Ye.newVersion,ge(Pe.transaction))}),A&&Pe.addEventListener("blocked",()=>A()),Ge.then(Ye=>{Ie&&Ye.addEventListener("close",()=>Ie()),oe&&Ye.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ge}(Se,at,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Pt)}})),jt}function Zt(E,I){return(kt=kt||(0,O.Z)(function*(A,j){const oe=me(A),Pe=(yield ar()).transaction(Pt,"readwrite"),Ge=Pe.objectStore(Pt),Ye=yield Ge.get(oe);return yield Ge.put(j,oe),yield Pe.done,(!Ye||Ye.fid!==j.fid)&&tt(A,j.fid),j})).apply(this,arguments)}function kr(E){return(te=te||(0,O.Z)(function*(I){const A=me(I),oe=(yield ar()).transaction(Pt,"readwrite");yield oe.objectStore(Pt).delete(A),yield oe.done})).apply(this,arguments)}function qt(E,I){return(ce=ce||(0,O.Z)(function*(A,j){const oe=me(A),Pe=(yield ar()).transaction(Pt,"readwrite"),Ge=Pe.objectStore(Pt),Ye=yield Ge.get(oe),ht=j(Ye);return void 0===ht?yield Ge.delete(oe):yield Ge.put(ht,oe),yield Pe.done,ht&&(!Ye||Ye.fid!==ht.fid)&&tt(A,ht.fid),ht})).apply(this,arguments)}function Dr(E){return(fe=fe||(0,O.Z)(function*(I){let A;const j=yield qt(I.appConfig,oe=>{const Ie=function Zo(E){return zi(E||{fid:Do(),registrationStatus:0})}(oe),Pe=function _u(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Nt.create("app-offline"))};const A={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},j=function tp(E,I){return(le=le||(0,O.Z)(function*(A,j){try{const oe=yield function un(E,I){return(xt=xt||(0,O.Z)(function*({appConfig:A,heartbeatServiceProvider:j},{fid:oe}){const Ie=an(A),Pe=fn(A),Ge=j.getImmediate({optional:!0});if(Ge){const It=yield Ge.getHeartbeatsHeader();It&&Pe.append("x-firebase-client",It)}const ht={method:"POST",headers:Pe,body:JSON.stringify({fid:oe,authVersion:li,appId:A.appId,sdkVersion:Kn})},Ct=yield Rr(()=>fetch(Ie,ht));if(Ct.ok){const It=yield Ct.json();return{fid:It.fid||oe,registrationStatus:2,refreshToken:It.refreshToken,authToken:dr(It.authToken)}}throw yield Xn("Create Installation",Ct)})).apply(this,arguments)}(A,j);return Zt(A.appConfig,oe)}catch(oe){throw Vt(oe)&&409===oe.customData.serverCode?yield kr(A.appConfig):yield Zt(A.appConfig,{fid:j.fid,registrationStatus:0}),oe}})).apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:j}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:To(E)}:{installationEntry:I}}(I,Ie);return A=Pe.registrationPromise,Pe.installationEntry});return j.fid===Gr?{installationEntry:yield A}:{installationEntry:j,registrationPromise:A}})).apply(this,arguments)}function To(E){return(Ue=Ue||(0,O.Z)(function*(I){let A=yield ga(I.appConfig);for(;1===A.registrationStatus;)yield ui(100),A=yield ga(I.appConfig);if(0===A.registrationStatus){const{installationEntry:j,registrationPromise:oe}=yield Dr(I);return oe||j}return A})).apply(this,arguments)}function ga(E){return qt(E,I=>{if(!I)throw Nt.create("installation-not-found");return zi(I)})}function zi(E){return function So(E){return 1===E.registrationStatus&&E.registrationTime+Bn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function dn(E,I){return(Re=Re||(0,O.Z)(function*({appConfig:A,heartbeatServiceProvider:j},oe){const Ie=function $n(E,{fid:I}){return`${an(E)}/${I}/authTokens:generate`}(A,oe),Pe=function Dn(E,{refreshToken:I}){const A=fn(E);return A.append("Authorization",function Hi(E){return`${li} ${E}`}(I)),A}(A,oe),Ge=j.getImmediate({optional:!0});if(Ge){const It=yield Ge.getHeartbeatsHeader();It&&Pe.append("x-firebase-client",It)}const ht={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:Kn,appId:A.appId}})},Ct=yield Rr(()=>fetch(Ie,ht));if(Ct.ok)return dr(yield Ct.json());throw yield Xn("Generate Auth Token",Ct)})).apply(this,arguments)}function zn(E){return(nt=nt||(0,O.Z)(function*(I,A=!1){let j;const oe=yield qt(I.appConfig,Pe=>{if(!Je(Pe))throw Nt.create("not-registered");const Ge=Pe.authToken;if(!A&&function Ai(E){return 2===E.requestStatus&&!function Mi(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+Yn}(E)}(Ge))return Pe;if(1===Ge.requestStatus)return j=function dc(E,I){return(Be=Be||(0,O.Z)(function*(A,j){let oe=yield vs(A.appConfig);for(;1===oe.authToken.requestStatus;)yield ui(100),oe=yield vs(A.appConfig);const Ie=oe.authToken;return 0===Ie.requestStatus?zn(A,j):Ie})).apply(this,arguments)}(I,A),Pe;{if(!navigator.onLine)throw Nt.create("app-offline");const Ye=function Fr(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}(Pe);return j=function Ao(E,I){return(On=On||(0,O.Z)(function*(A,j){try{const oe=yield dn(A,j),Ie=Object.assign(Object.assign({},j),{authToken:oe});return yield Zt(A.appConfig,Ie),oe}catch(oe){if(!Vt(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Ie=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield Zt(A.appConfig,Ie)}else yield kr(A.appConfig);throw oe}})).apply(this,arguments)}(I,Ye),Ye}});return j?yield j:oe.authToken})).apply(this,arguments)}function vs(E){return qt(E,I=>{if(!Je(I))throw Nt.create("not-registered");return function ol(E){return 1===E.requestStatus&&E.requestTime+Bn<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Je(E){return void 0!==E&&2===E.registrationStatus}function Nn(E){return Nt.create("missing-app-config-values",{valueName:E})}const al="installations",rp=E=>{const I=E.getProvider("app").getImmediate(),A=function hn(E){if(!E||!E.options)throw Nn("App Configuration");if(!E.name)throw Nn("App Name");const I=["projectId","apiKey","appId"];for(const A of I)if(!E.options[A])throw Nn(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:A,heartbeatServiceProvider:(0,z.qX)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Qd=E=>{const I=E.getProvider("app").getImmediate(),A=(0,z.qX)(I,al).getImmediate();return{getId:()=>function sl(E){return(wt=wt||(0,O.Z)(function*(I){const A=I,{installationEntry:j,registrationPromise:oe}=yield Dr(A);return oe?oe.catch(console.error):zn(A).catch(console.error),j.fid})).apply(this,arguments)}(A),getToken:oe=>function hc(E){return(en=en||(0,O.Z)(function*(I,A=!1){const j=I;return yield function ys(E){return(Ft=Ft||(0,O.Z)(function*(I){const{registrationPromise:A}=yield Dr(I);A&&(yield A)})).apply(this,arguments)}(j),(yield zn(j,A)).token})).apply(this,arguments)}(A,oe)}};var Lr;(function fc(){(0,z.Xd)(new W.wA(al,rp,"PUBLIC")),(0,z.Xd)(new W.wA("installations-internal",Qd,"PRIVATE"))})(),(0,z.KN)(Jt,ln),(0,z.KN)(Jt,ln,"esm2017");const bu="@firebase/remote-config",Jn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class di{constructor(I,A,j,oe){this.client=I,this.storage=A,this.storageCache=j,this.logger=oe}isCachedDataFresh(I,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-A,oe=j<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${oe}.`),oe}fetch(I){var A=this;return(0,O.Z)(function*(){const[j,oe]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(oe&&A.isCachedDataFresh(I.cacheMaxAgeMillis,j))return oe;I.eTag=oe&&oe.eTag;const Ie=yield A.client.fetch(I),Pe=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&Pe.push(A.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(Pe),Ie})()}}function _s(E=navigator){return E.languages&&E.languages[0]||E.language}class Ar{constructor(I,A,j,oe,Ie,Pe){this.firebaseInstallations=I,this.sdkVersion=A,this.namespace=j,this.projectId=oe,this.apiKey=Ie,this.appId=Pe}fetch(I){var A=this;return(0,O.Z)(function*(){const[j,oe]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ye={sdk_version:A.sdkVersion,app_instance_id:j,app_instance_id_token:oe,app_id:A.appId,language_code:_s()},ht={method:"POST",headers:Ge,body:JSON.stringify(Ye)},Ct=fetch(Pe,ht),It=new Promise((Rt,Li)=>{I.signal.addEventListener(()=>{const fr=new Error("The operation was aborted.");fr.name="AbortError",Li(fr)})});let zt;try{yield Promise.race([Ct,It]),zt=yield Ct}catch(Rt){let Li="fetch-client-network";throw"AbortError"===Rt?.name&&(Li="fetch-timeout"),Jn.create(Li,{originalErrorMessage:Rt?.message})}let Gn=zt.status;const Rn=zt.headers.get("ETag")||void 0;let vn,br;if(200===zt.status){let Rt;try{Rt=yield zt.json()}catch(Li){throw Jn.create("fetch-client-parse",{originalErrorMessage:Li?.message})}vn=Rt.entries,br=Rt.state}if("INSTANCE_STATE_UNSPECIFIED"===br?Gn=500:"NO_CHANGE"===br?Gn=304:("NO_TEMPLATE"===br||"EMPTY_CONFIG"===br)&&(vn={}),304!==Gn&&200!==Gn)throw Jn.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:Rn,config:vn}})()}}class Ni{constructor(I,A){this.client=I,this.storage=A}fetch(I){var A=this;return(0,O.Z)(function*(){const j=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(I,j)})()}attemptFetch(I,{throttleEndTimeMillis:A,backoffCount:j}){var oe=this;return(0,O.Z)(function*(){yield function va(E,I){return new Promise((A,j)=>{const oe=Math.max(I-Date.now(),0),Ie=setTimeout(A,oe);E.addEventListener(()=>{clearTimeout(Ie),j(Jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,A);try{const Ie=yield oe.client.fetch(I);return yield oe.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function Sn(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Ie))throw Ie;const Pe={throttleEndTimeMillis:Date.now()+(0,ee.$s)(j),backoffCount:j+1};return yield oe.storage.setThrottleMetadata(Pe),oe.attemptFetch(I,Pe)}})()}}class Mo{constructor(I,A,j,oe,Ie){this.app=I,this._client=A,this._storageCache=j,this._storage=oe,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mc(E,I){const A=E.target.error||void 0;return Jn.create(I,{originalErrorMessage:A&&A?.message})}const Wr="app_namespace_store";class co{constructor(I,A,j,oe=function yc(){return new Promise((E,I)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=j=>{I(mc(j,"storage-open"))},A.onsuccess=j=>{E(j.target.result)},A.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Wr,{keyPath:"compositeKey"})}}catch(A){I(Jn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=I,this.appName=A,this.namespace=j,this.openDbPromise=oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var A=this;return(0,O.Z)(function*(){const j=yield A.openDbPromise;return new Promise((oe,Ie)=>{const Ge=j.transaction([Wr],"readonly").objectStore(Wr),Ye=A.createCompositeKey(I);try{const ht=Ge.get(Ye);ht.onerror=Ct=>{Ie(mc(Ct,"storage-get"))},ht.onsuccess=Ct=>{const It=Ct.target.result;oe(It?It.value:void 0)}}catch(ht){Ie(Jn.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(I,A){var j=this;return(0,O.Z)(function*(){const oe=yield j.openDbPromise;return new Promise((Ie,Pe)=>{const Ye=oe.transaction([Wr],"readwrite").objectStore(Wr),ht=j.createCompositeKey(I);try{const Ct=Ye.put({compositeKey:ht,value:A});Ct.onerror=It=>{Pe(mc(It,"storage-set"))},Ct.onsuccess=()=>{Ie()}}catch(Ct){Pe(Jn.create("storage-set",{originalErrorMessage:Ct?.message}))}})})()}delete(I){var A=this;return(0,O.Z)(function*(){const j=yield A.openDbPromise;return new Promise((oe,Ie)=>{const Ge=j.transaction([Wr],"readwrite").objectStore(Wr),Ye=A.createCompositeKey(I);try{const ht=Ge.delete(Ye);ht.onerror=Ct=>{Ie(mc(Ct,"storage-delete"))},ht.onsuccess=()=>{oe()}}catch(ht){Ie(Jn.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class _c{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const A=I.storage.getLastFetchStatus(),j=I.storage.getLastSuccessfulFetchTimestampMillis(),oe=I.storage.getActiveConfig(),Ie=yield A;Ie&&(I.lastFetchStatus=Ie);const Pe=yield j;Pe&&(I.lastSuccessfulFetchTimestampMillis=Pe);const Ge=yield oe;Ge&&(I.activeConfig=Ge)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function lo(){return(Lr=Lr||(0,O.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Eu(){(0,z.Xd)(new W.wA("remote-config",function E(I,{instanceIdentifier:A}){const j=I.getProvider("app").getImmediate(),oe=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,ee.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:Ie,apiKey:Pe,appId:Ge}=j.options;if(!Ie)throw Jn.create("registration-project-id");if(!Pe)throw Jn.create("registration-api-key");if(!Ge)throw Jn.create("registration-app-id");const Ye=new co(Ge,j.name,A=A||"firebase"),ht=new _c(Ye),Ct=new X.Yd(bu);Ct.logLevel=X.in.ERROR;const It=new Ar(oe,z.Jn,A,Ie,Pe,Ge),zt=new Ni(It,Ye),Gn=new di(zt,Ye,ht,Ct),Rn=new Mo(j,Gn,ht,Ye,Ct);return function ma(E){const I=(0,ee.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Rn),Rn},"PUBLIC").setMultipleInstances(!0)),(0,z.KN)(bu,"0.4.4"),(0,z.KN)(bu,"0.4.4","esm2017")}();const bc=(E,I)=>I.some(A=>E instanceof A);let bs,nn;const Du=new WeakMap,Kr=new WeakMap,ya=new WeakMap,hi=new WeakMap,js=new WeakMap;let Ur={get(E,I,A){if(E instanceof IDBTransaction){if("done"===I)return Kr.get(E);if("objectStoreNames"===I)return E.objectStoreNames||ya.get(E);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Gi(E[I])},set:(E,I,A)=>(E[I]=A,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function ws(E){return"function"==typeof E?function Tu(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Iu(){return nn||(nn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(Wi(this),I),Gi(Du.get(this))}:function(...I){return Gi(E.apply(Wi(this),I))}:function(I,...A){const j=E.call(Wi(this),I,...A);return ya.set(j,I.sort?I.sort():[I]),Gi(j)}}(E):(E instanceof IDBTransaction&&function lr(E){if(Kr.has(E))return;const I=new Promise((A,j)=>{const oe=()=>{E.removeEventListener("complete",Ie),E.removeEventListener("error",Pe),E.removeEventListener("abort",Pe)},Ie=()=>{A(),oe()},Pe=()=>{j(E.error||new DOMException("AbortError","AbortError")),oe()};E.addEventListener("complete",Ie),E.addEventListener("error",Pe),E.addEventListener("abort",Pe)});Kr.set(E,I)}(E),bc(E,function ap(){return bs||(bs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ur):E)}function Gi(E){if(E instanceof IDBRequest)return function Mr(E){const I=new Promise((A,j)=>{const oe=()=>{E.removeEventListener("success",Ie),E.removeEventListener("error",Pe)},Ie=()=>{A(Gi(E.result)),oe()},Pe=()=>{j(E.error),oe()};E.addEventListener("success",Ie),E.addEventListener("error",Pe)});return I.then(A=>{A instanceof IDBCursor&&Du.set(A,E)}).catch(()=>{}),js.set(I,E),I}(E);if(hi.has(E))return hi.get(E);const I=ws(E);return I!==E&&(hi.set(E,I),js.set(I,E)),I}const Wi=E=>js.get(E);function wc(E,I,{blocked:A,upgrade:j,blocking:oe,terminated:Ie}={}){const Pe=indexedDB.open(E,I),Ge=Gi(Pe);return j&&Pe.addEventListener("upgradeneeded",Ye=>{j(Gi(Pe.result),Ye.oldVersion,Ye.newVersion,Gi(Pe.transaction))}),A&&Pe.addEventListener("blocked",()=>A()),Ge.then(Ye=>{Ie&&Ye.addEventListener("close",()=>Ie()),oe&&Ye.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ge}function Su(E,{blocked:I}={}){const A=indexedDB.deleteDatabase(E);return I&&A.addEventListener("blocked",()=>I()),Gi(A).then(()=>{})}const _a=["get","getKey","getAll","getAllKeys","count"],Fm=["put","add","delete","clear"],Au=new Map;function nh(E,I){var A;if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(Au.get(I))return Au.get(I);const j=I.replace(/FromIndex$/,""),oe=I!==j,Ie=Fm.includes(j);if(!(j in(oe?IDBIndex:IDBObjectStore).prototype)||!Ie&&!_a.includes(j))return;const Pe=function(Ye){return(A=A||(0,O.Z)(function*(ht,...Ct){const It=this.transaction(ht,Ie?"readwrite":"readonly");let zt=It.store;return oe&&(zt=zt.index(Ct.shift())),(yield Promise.all([zt[j](...Ct),Ie&&It.done]))[0]})).apply(this,arguments)};return Au.set(I,Pe),Pe}var Mu,cl,Lm,rh,jn,Um,Vm,Bm,ll,Cs,jm,Wo,Pu,ih,Hm,Zm,oh,fi,Ko,Ou;!function Yr(E){Ur=E(Ur)}(E=>({...E,get:(I,A,j)=>nh(I,A)||E.get(I,A,j),has:(I,A)=>!!nh(I,A)||E.has(I,A)}));const Cc="/firebase-messaging-sw.js",tr="/firebase-cloud-messaging-push-scope",ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ba="https://fcmregistrations.googleapis.com/v1",Nu="google.c.a.c_id",Ru="google.c.a.c_l",xc="google.c.a.ts";var wa=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(wa||{});function Ki(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sh(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(A),oe=new Uint8Array(j.length);for(let Ie=0;Ie<j.length;++Ie)oe[Ie]=j.charCodeAt(Ie);return oe}const Ca="fcm_token_details_db",pi=5,xa="fcm_token_object_Store",lp="firebase-messaging-database",dl=1,Es="firebase-messaging-store";let Hs=null;function Ec(){return Hs||(Hs=wc(lp,dl,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Es)}})),Hs}function up(E){return(cl=cl||(0,O.Z)(function*(I){const A=ku(I),oe=yield(yield Ec()).transaction(Es).objectStore(Es).get(A);if(oe)return oe;{const Ie=yield function Ea(E){return(Mu=Mu||(0,O.Z)(function*(I){var A;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(Ca))return null;let j=null;return(yield wc(Ca,pi,{upgrade:function(Pe,Ge,Ye,ht){return(A=A||(0,O.Z)(function*(Ct,It,zt,Gn){var Rn;if(It<2||!Ct.objectStoreNames.contains(xa))return;const vn=Gn.objectStore(xa),br=yield vn.index("fcmSenderId").get(I);if(yield vn.clear(),br)if(2===It){const Rt=br;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;j={token:Rt.fcmToken,createTime:null!==(Rn=Rt.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Ki(Rt.vapidKey)}}}else if(3===It){const Rt=br;j={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Ki(Rt.auth),p256dh:Ki(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Ki(Rt.vapidKey)}}}else if(4===It){const Rt=br;j={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Ki(Rt.auth),p256dh:Ki(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Ki(Rt.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Su(Ca),yield Su("fcm_vapid_details_db"),yield Su("undefined"),function ul(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(j)?j:null})).apply(this,arguments)}(I.appConfig.senderId);if(Ie)return yield hl(I,Ie),Ie}})).apply(this,arguments)}function hl(E,I){return(Lm=Lm||(0,O.Z)(function*(A,j){const oe=ku(A),Pe=(yield Ec()).transaction(Es,"readwrite");return yield Pe.objectStore(Es).put(j,oe),yield Pe.done,j})).apply(this,arguments)}function ku({appConfig:E}){return E.appId}const Jr=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ly(E,I){return(jn=jn||(0,O.Z)(function*(A,j){const oe=yield Po(A),Ie=Da(j),Pe={method:"POST",headers:oe,body:JSON.stringify(Ie)};let Ge;try{Ge=yield(yield fetch(Ia(A.appConfig),Pe)).json()}catch(Ye){throw Jr.create("token-subscribe-failed",{errorInfo:Ye?.toString()})}if(Ge.error)throw Jr.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Jr.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function fl(E,I){return(Vm=Vm||(0,O.Z)(function*(A,j){const Ie={method:"DELETE",headers:yield Po(A)};try{const Ge=yield(yield fetch(`${Ia(A.appConfig)}/${j}`,Ie)).json();if(Ge.error)throw Jr.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Pe){throw Jr.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function Ia({projectId:E}){return`${ba}/projects/${E}/registrations`}function Po(E){return(Bm=Bm||(0,O.Z)(function*({appConfig:I,installations:A}){const j=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${j}`})})).apply(this,arguments)}function Da({p256dh:E,auth:I,endpoint:A,vapidKey:j}){const oe={web:{endpoint:A,auth:I,p256dh:E}};return j!==ho&&(oe.web.applicationPubKey=j),oe}const dp=6048e5;function pl(E){return(ll=ll||(0,O.Z)(function*(I){const A=yield function lh(E,I){return(Pu=Pu||(0,O.Z)(function*(A,j){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sh(j)})})).apply(this,arguments)}(I.swRegistration,I.vapidKey),j={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Ki(A.getKey("auth")),p256dh:Ki(A.getKey("p256dh"))},oe=yield up(I.firebaseDependencies);if(oe){if(function uh(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}(oe.subscriptionOptions,j))return Date.now()>=oe.createTime+dp?function ah(E,I){return(jm=jm||(0,O.Z)(function*(A,j){try{const oe=yield function Is(E,I){return(Um=Um||(0,O.Z)(function*(A,j){const oe=yield Po(A),Ie=Da(j.subscriptionOptions),Pe={method:"PATCH",headers:oe,body:JSON.stringify(Ie)};let Ge;try{Ge=yield(yield fetch(`${Ia(A.appConfig)}/${j.token}`,Pe)).json()}catch(Ye){throw Jr.create("token-update-failed",{errorInfo:Ye?.toString()})}if(Ge.error)throw Jr.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Jr.create("token-update-no-token");return Ge.token})).apply(this,arguments)}(A.firebaseDependencies,j),Ie=Object.assign(Object.assign({},j),{token:oe,createTime:Date.now()});return yield hl(A.firebaseDependencies,Ie),oe}catch(oe){throw yield function Lu(E){return(Cs=Cs||(0,O.Z)(function*(I){const A=yield up(I.firebaseDependencies);A&&(yield fl(I.firebaseDependencies,A.token),yield function Ic(E){return(rh=rh||(0,O.Z)(function*(I){const A=ku(I),oe=(yield Ec()).transaction(Es,"readwrite");yield oe.objectStore(Es).delete(A),yield oe.done})).apply(this,arguments)}(I.firebaseDependencies));const j=yield I.swRegistration.pushManager.getSubscription();return!j||j.unsubscribe()})).apply(this,arguments)}(A),oe}})).apply(this,arguments)}(I,{token:oe.token,createTime:Date.now(),subscriptionOptions:j}):oe.token;try{yield fl(I.firebaseDependencies,oe.token)}catch(Ie){console.warn(Ie)}return ch(I.firebaseDependencies,j)}return ch(I.firebaseDependencies,j)})).apply(this,arguments)}function ch(E,I){return(Wo=Wo||(0,O.Z)(function*(A,j){const Ie={token:yield ly(A,j),createTime:Date.now(),subscriptionOptions:j};return yield hl(A,Ie),Ie.token})).apply(this,arguments)}function Dc(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function gl(E,I){if(!I.notification)return;E.notification={};const A=I.notification.title;A&&(E.notification.title=A);const j=I.notification.body;j&&(E.notification.body=j);const oe=I.notification.image;oe&&(E.notification.image=oe);const Ie=I.notification.icon;Ie&&(E.notification.icon=Ie)}(I,E),function dh(E,I){I.data&&(E.data=I.data)}(I,E),function Uu(E,I){var A,j,oe,Ie,Pe;if(!(I.fcmOptions||null!==(A=I.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const Ge=null!==(oe=null===(j=I.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==oe?oe:null===(Ie=I.notification)||void 0===Ie?void 0:Ie.click_action;Ge&&(E.fcmOptions.link=Ge);const Ye=null===(Pe=I.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;Ye&&(E.fcmOptions.analyticsLabel=Ye)}(I,E),I}function vl(E,I){const A=[];for(let j=0;j<E.length;j++)A.push(E.charAt(j)),j<I.length&&A.push(I.charAt(j));return A.join("")}function Tc(E){return Jr.create("missing-app-config-values",{valueName:E})}vl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fp{constructor(I,A,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const oe=function hp(E){if(!E||!E.options)throw Tc("App Configuration Object");if(!E.name)throw Tc("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const j of I)if(!A[j])throw Tc(j);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:oe,installations:A,analyticsProvider:j}}_delete(){return Promise.resolve()}}function mn(E,I){return(oh=oh||(0,O.Z)(function*(A,j){if(!navigator)throw Jr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jr.create("permission-blocked");return yield function hh(E,I){return(Zm=Zm||(0,O.Z)(function*(A,j){j?A.vapidKey=j:A.vapidKey||(A.vapidKey=ho)})).apply(this,arguments)}(A,j?.vapidKey),yield function Vu(E,I){return(Hm=Hm||(0,O.Z)(function*(A,j){if(!j&&!A.swRegistration&&(yield function fo(E){return(ih=ih||(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Cc,{scope:tr}),I.swRegistration.update().catch(()=>{})}catch(A){throw Jr.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}(A)),j||!A.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Jr.create("invalid-sw-registration");A.swRegistration=j}})).apply(this,arguments)}(A,j?.serviceWorkerRegistration),pl(A)})).apply(this,arguments)}function gi(E,I){return(Ko=Ko||(0,O.Z)(function*(A,j){const oe=j.data;if(!oe.isFirebaseMessaging)return;A.onMessageHandler&&oe.messageType===wa.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Dc(oe)):A.onMessageHandler.next(Dc(oe)));const Ie=oe.data;(function ml(E){return"object"==typeof E&&!!E&&Nu in E})(Ie)&&"1"===Ie["google.c.a.e"]&&(yield function Sc(E,I,A){return(fi=fi||(0,O.Z)(function*(j,oe,Ie){const Pe=function Ta(E){switch(E){case wa.NOTIFICATION_CLICKED:return"notification_open";case wa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(oe);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:Ie[Nu],message_name:Ie[Ru],message_time:Ie[xc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(A,oe.messageType,Ie))})).apply(this,arguments)}const pp="@firebase/messaging",Sa=E=>{const I=new fp(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>gi(I,A)),I},mi=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:j=>mn(I,j)}};function fh(){return(Ou=Ou||(0,O.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Oo,Bu,Lt,ju,mp,gh,_l,Zu,vp;!function gp(){(0,z.Xd)(new W.wA("messaging",Sa,"PUBLIC")),(0,z.Xd)(new W.wA("messaging-internal",mi,"PRIVATE")),(0,z.KN)(pp,"0.12.4"),(0,z.KN)(pp,"0.12.4","esm2017")}();const ze="analytics",pn="firebase_id",Yi="origin",yp=6e4,Hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ma="https://www.googletagmanager.com/gtag/js",qn=new X.Yd("@firebase/analytics"),Br=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nr(E){if(!E.startsWith(Ma)){const I=Br.create("invalid-gtag-resource",{gtagURL:E});return qn.warn(I.message),""}return E}function _h(E){return Promise.all(E.map(I=>I.catch(A=>A)))}const Pa=30,Pc=new class zm{constructor(I={},A=1e3){this.throttleMetadata=I,this.intervalMillis=A}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,A){this.throttleMetadata[I]=A}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function $u(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function zu(E){return(ju=ju||(0,O.Z)(function*(I,A=Pc,j){const{appId:oe,apiKey:Ie,measurementId:Pe}=I.options;if(!oe)throw Br.create("no-app-id");if(!Ie){if(Pe)return{measurementId:Pe,appId:oe};throw Br.create("no-api-key")}const Ge=A.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new mo;return setTimeout((0,O.Z)(function*(){Ye.abort()}),void 0!==j?j:yp),xp({appId:oe,apiKey:Ie,measurementId:Pe},Ge,Ye,A)})).apply(this,arguments)}function xp(E,I,A){return(mp=mp||(0,O.Z)(function*(j,{throttleEndTimeMillis:oe,backoffCount:Ie},Pe,Ge=Pc){var Ye;const{appId:ht,measurementId:Ct}=j;try{yield function Ep(E,I){return new Promise((A,j)=>{const oe=Math.max(I-Date.now(),0),Ie=setTimeout(A,oe);E.addEventListener(()=>{clearTimeout(Ie),j(Br.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(Pe,oe)}catch(It){if(Ct)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:ht,measurementId:Ct};throw It}try{const It=yield function Cp(E){return(Lt=Lt||(0,O.Z)(function*(I){var A;const{appId:j,apiKey:oe}=I,Ie={method:"GET",headers:$u(oe)},Pe=Hn.replace("{app-id}",j),Ge=yield fetch(Pe,Ie);if(200!==Ge.status&&304!==Ge.status){let Ye="";try{const ht=yield Ge.json();null!==(A=ht.error)&&void 0!==A&&A.message&&(Ye=ht.error.message)}catch{}throw Br.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:Ye})}return Ge.json()})).apply(this,arguments)}(j);return Ge.deleteThrottleMetadata(ht),It}catch(It){const zt=It;if(!function go(E){if(!(E instanceof ee.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(zt)){if(Ge.deleteThrottleMetadata(ht),Ct)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:ht,measurementId:Ct};throw It}const Gn=503===Number(null===(Ye=zt?.customData)||void 0===Ye?void 0:Ye.httpStatus)?(0,ee.$s)(Ie,Ge.intervalMillis,Pa):(0,ee.$s)(Ie,Ge.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+Gn,backoffCount:Ie+1};return Ge.setThrottleMetadata(ht,Rn),qn.debug(`Calling attemptFetch again in ${Gn} millis`),xp(j,Rn,Pe,Ge)}})).apply(this,arguments)}class mo{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let bl,Yo;function $t(E,I,A,j,oe,Ie,Pe){return(Zu=Zu||(0,O.Z)(function*(Ge,Ye,ht,Ct,It,zt,Gn){var Rn;const vn=zu(Ge);vn.then(ei=>{ht[ei.measurementId]=ei.appId,Ge.options.measurementId&&ei.measurementId!==Ge.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${Ge.options.measurementId}) does not match the measurement ID fetched from the server (${ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ei=>qn.error(ei)),Ye.push(vn);const br=function xl(){return(_l=_l||(0,O.Z)(function*(){if(!(0,ee.hl)())return qn.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(E){return qn.warn(Br.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(ei=>{if(ei)return Ct.getId()}),[Rt,Li]=yield Promise.all([vn,br]);(function wp(E){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Ma)&&A.src.includes(E))return A;return null})(zt)||function bp(E,I){const A=function _p(E,I){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,I)),A}("firebase-js-sdk-policy",{createScriptURL:nr}),j=document.createElement("script"),oe=`${Ma}?l=${E}&id=${I}`;j.src=A?A?.createScriptURL(oe):oe,j.async=!0,document.head.appendChild(j)}(zt,Rt.measurementId),Yo&&(It("consent","default",Yo),function Ln(E){Yo=E}(void 0)),It("js",new Date);const fr=null!==(Rn=Gn?.config)&&void 0!==Rn?Rn:{};return fr[Yi]="firebase",fr.update=!0,null!=Li&&(fr[pn]=Li),It("config",Rt.measurementId,fr),bl&&(It("set",bl),function Cl(E){bl=E}(void 0)),Rt.measurementId})).apply(this,arguments)}class Dp{constructor(I){this.app=I}_delete(){return delete vo[this.app.options.appId],Promise.resolve()}}let vo={},El=[];const Ro={};let Oc,Pr,Ji="dataLayer",Oa=!1;function Ts(E,I,A){!function wh(){const E=[];if((0,ee.ru)()&&E.push("This is a browser extension environment."),(0,ee.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((j,oe)=>`(${oe+1}) ${j}`).join(" "),A=Br.create("invalid-analytics-context",{errorInfo:I});qn.warn(A.message)}}();const j=E.options.appId;if(!j)throw Br.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Br.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vo[j])throw Br.create("already-exists",{id:j});if(!Oa){!function vi(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(Ji);const{wrappedGtag:Ie,gtagCore:Pe}=function po(E,I,A,j,oe){let Ie=function(...Pe){window[j].push(arguments)};return window[oe]&&"function"==typeof window[oe]&&(Ie=window[oe]),window[oe]=function Ac(E,I,A,j){var oe;return function Ie(Pe){return(oe=oe||(0,O.Z)(function*(Ge,...Ye){try{if("event"===Ge){const[ht,Ct]=Ye;yield function bh(E,I,A,j,oe){return(Bu=Bu||(0,O.Z)(function*(Ie,Pe,Ge,Ye,ht){try{let Ct=[];if(ht&&ht.send_to){let It=ht.send_to;Array.isArray(It)||(It=[It]);const zt=yield _h(Ge);for(const Gn of It){const Rn=zt.find(br=>br.measurementId===Gn),vn=Rn&&Pe[Rn.appId];if(!vn){Ct=[];break}Ct.push(vn)}}0===Ct.length&&(Ct=Object.values(Pe)),yield Promise.all(Ct),Ie("event",Ye,ht||{})}catch(Ct){qn.error(Ct)}})).apply(this,arguments)}(E,I,A,ht,Ct)}else if("config"===Ge){const[ht,Ct]=Ye;yield function Ds(E,I,A,j,oe,Ie){return(Oo=Oo||(0,O.Z)(function*(Pe,Ge,Ye,ht,Ct,It){const zt=ht[Ct];try{if(zt)yield Ge[zt];else{const Rn=(yield _h(Ye)).find(vn=>vn.measurementId===Ct);Rn&&(yield Ge[Rn.appId])}}catch(Gn){qn.error(Gn)}Pe("config",Ct,It)})).apply(this,arguments)}(E,I,A,j,ht,Ct)}else if("consent"===Ge){const[ht]=Ye;E("consent","update",ht)}else if("get"===Ge){const[ht,Ct,It]=Ye;E("get",ht,Ct,It)}else if("set"===Ge){const[ht]=Ye;E("set",ht)}else E(Ge,...Ye)}catch(ht){qn.error(ht)}})).apply(this,arguments)}}(Ie,E,I,A),{gtagCore:Ie,wrappedGtag:window[oe]}}(vo,El,Ro,Ji,"gtag");Pr=Ie,Oc=Pe,Oa=!0}return vo[j]=$t(E,El,Ro,I,Oc,Ji,A),new Dp(E)}function Fi(){return(vp=vp||(0,O.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Rc="@firebase/analytics";!function yr(){(0,z.Xd)(new W.wA(ze,(I,{options:A})=>Ts(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,z.Xd)(new W.wA("analytics-internal",function E(I){try{const A=I.getProvider(ze).getImmediate();return{logEvent:(j,oe,Ie)=>function Qi(E,I,A,j){E=(0,ee.m9)(E),function Zn(E,I,A,j,oe){return(gh=gh||(0,O.Z)(function*(Ie,Pe,Ge,Ye,ht){if(ht&&ht.global)Ie("event",Ge,Ye);else{const Ct=yield Pe;Ie("event",Ge,Object.assign(Object.assign({},Ye),{send_to:Ct}))}})).apply(this,arguments)}(Pr,vo[E.app.options.appId],I,A,j).catch(oe=>qn.error(oe))}(A,j,oe,Ie)}}catch(A){throw Br.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,z.KN)(Rc,"0.10.0"),(0,z.KN)(Rc,"0.10.0","esm2017")}();var _i=P(1954),Xr=P(2631);const kc=new class Hr extends Xr.v{}(class Na extends _i.o{constructor(I,A){super(I,A),this.scheduler=I,this.work=A}schedule(I,A=0){return A>0?super.schedule(I,A):(this.delay=A,this.state=I,this.scheduler.flush(this),this)}execute(I,A){return A>0||this.closed?super.execute(I,A):this._execute(I,A)}requestAsyncId(I,A,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(I,A,j):(I.flush(this),0)}});var Eh=P(6321),_r=P(9397),Ra=P(5137),hr=P(3093);const Jo=new a.GfV("7.6.1"),Tl="__angularfire_symbol__analyticsIsSupportedValue",Qo="__angularfire_symbol__analyticsIsSupported",$s="__angularfire_symbol__remoteConfigIsSupportedValue",Wu="__angularfire_symbol__remoteConfigIsSupported",zs="__angularfire_symbol__messagingIsSupportedValue",Xo="__angularfire_symbol__messagingIsSupported";function qs(E,I,A){if(I){if(1===I.length)return I[0];const Ie=I.filter(Pe=>Pe.app===A);if(1===Ie.length)return Ie[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[Qo]||(globalThis[Qo]=Fi().then(E=>globalThis[Tl]=E).catch(()=>globalThis[Tl]=!1)),globalThis[Xo]||(globalThis[Xo]=fh().then(E=>globalThis[zs]=E).catch(()=>globalThis[zs]=!1)),globalThis[Wu]||(globalThis[Wu]=lo().then(E=>globalThis[$s]=E).catch(()=>globalThis[$s]=!1));const Gs=(E,I)=>{const A=I?[I]:(0,L.C6)(),j=[];return A.forEach(oe=>{oe.container.getProvider(E).instances.forEach(Pe=>{j.includes(Pe)||j.push(Pe)})}),j};function Ws(){}class Ku{constructor(I,A=kc){this.zone=I,this.delegate=A}now(){return this.delegate.now()}schedule(I,A,j){const oe=this.zone;return this.delegate.schedule(function(Pe){oe.runGuarded(()=>{I.apply(this,[Pe])})},A,j)}}class bi{constructor(I){this.zone=I,this.task=null}call(I,A){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ws,{},Ws,Ws)),A.pipe((0,_r.b)({next:j,complete:j,error:j})).subscribe(I).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dh=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Ku(Zone.current)),this.insideAngular=A.run(()=>new Ku(Zone.current,Eh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Yu(E){return Qn(),function Al(E){return function(A){return(A=A.lift(new bi(E.ngZone))).pipe((0,Ra.R)(E.outsideAngular),(0,hr.Q)(E.insideAngular))}}(Qn())(E)}},9058:(Le,Ce,P)=>{"use strict";P.d(Ce,{$s:()=>tt,BH:()=>Y,G6:()=>kt,L:()=>H,LL:()=>Re,Pz:()=>he,Sg:()=>ge,UG:()=>Ee,US:()=>W,ZB:()=>U,ZR:()=>Ue,aH:()=>G,b$:()=>Xe,eu:()=>ce,hl:()=>te,jU:()=>ye,m9:()=>bn,ne:()=>an,pd:()=>Nt,r3:()=>ln,ru:()=>Ne,tV:()=>N,uI:()=>ue,vZ:()=>Ir,w1:()=>lt,xO:()=>Nr,xb:()=>Kn,z$:()=>be,zI:()=>fe,zd:()=>At});const z=function(de){const se=[];let we=0;for(let je=0;je<de.length;je++){let Se=de.charCodeAt(je);Se<128?se[we++]=Se:Se<2048?(se[we++]=Se>>6|192,se[we++]=63&Se|128):55296==(64512&Se)&&je+1<de.length&&56320==(64512&de.charCodeAt(je+1))?(Se=65536+((1023&Se)<<10)+(1023&de.charCodeAt(++je)),se[we++]=Se>>18|240,se[we++]=Se>>12&63|128,se[we++]=Se>>6&63|128,se[we++]=63&Se|128):(se[we++]=Se>>12|224,se[we++]=Se>>6&63|128,se[we++]=63&Se|128)}return se},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,se){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let Se=0;Se<de.length;Se+=3){const at=de[Se],Pt=Se+1<de.length,jt=Pt?de[Se+1]:0,ar=Se+2<de.length,Zt=ar?de[Se+2]:0;let Dr=(15&jt)<<2|Zt>>6,Zo=63&Zt;ar||(Zo=64,Pt||(Dr=64)),je.push(we[at>>2],we[(3&at)<<4|jt>>4],we[Dr],we[Zo])}return je.join("")},encodeString(de,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(de):this.encodeByteArray(z(de),se)},decodeString(de,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(de):function(de){const se=[];let we=0,je=0;for(;we<de.length;){const Se=de[we++];if(Se<128)se[je++]=String.fromCharCode(Se);else if(Se>191&&Se<224){const at=de[we++];se[je++]=String.fromCharCode((31&Se)<<6|63&at)}else if(Se>239&&Se<365){const ar=((7&Se)<<18|(63&de[we++])<<12|(63&de[we++])<<6|63&de[we++])-65536;se[je++]=String.fromCharCode(55296+(ar>>10)),se[je++]=String.fromCharCode(56320+(1023&ar))}else{const at=de[we++],Pt=de[we++];se[je++]=String.fromCharCode((15&Se)<<12|(63&at)<<6|63&Pt)}}return se.join("")}(this.decodeStringToByteArray(de,se))},decodeStringToByteArray(de,se){this.init_();const we=se?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let Se=0;Se<de.length;){const at=we[de.charAt(Se++)],jt=Se<de.length?we[de.charAt(Se)]:0;++Se;const Zt=Se<de.length?we[de.charAt(Se)]:64;++Se;const qt=Se<de.length?we[de.charAt(Se)]:64;if(++Se,null==at||null==jt||null==Zt||null==qt)throw new X;je.push(at<<2|jt>>4),64!==Zt&&(je.push(jt<<4&240|Zt>>2),64!==qt&&je.push(Zt<<6&192|qt))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class X extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H=function(de){return function(de){const se=z(de);return W.encodeByteArray(se,!0)}(de).replace(/\./g,"")},N=function(de){try{return W.decodeString(de,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function U(de,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return se}for(const we in se)!se.hasOwnProperty(we)||!B(we)||(de[we]=U(de[we],se[we]));return de}function B(de){return"__proto__"!==de}const Z=()=>{try{return function $(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=de&&N(de[1]);return se&&JSON.parse(se)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},G=()=>{var de;return null===(de=Z())||void 0===de?void 0:de.config},he=de=>{var se;return null===(se=Z())||void 0===se?void 0:se[`_${de}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,we)=>{this.resolve=se,this.reject=we})}wrapCallback(se){return(we,je)=>{we?this.reject(we):this.resolve(je),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(we):se(we,je))}}}function ge(de,se){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=se||"demo-project",Se=de.iat||0,at=de.sub||de.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:Se,exp:Se+3600,auth_time:Se,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},de);return[H(JSON.stringify({alg:"none",type:"JWT"})),H(JSON.stringify(Pt)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Ee(){var de;const se=null===(de=Z())||void 0===de?void 0:de.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function Ne(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const de=be();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function kt(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((de,se)=>{try{let we=!0;const je="validate-browser-context-for-indexeddb-analytics-module",Se=self.indexedDB.open(je);Se.onsuccess=()=>{Se.result.close(),we||self.indexedDB.deleteDatabase(je),de(!0)},Se.onupgradeneeded=()=>{we=!1},Se.onerror=()=>{var at;se((null===(at=Se.error)||void 0===at?void 0:at.message)||"")}}catch(we){se(we)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(se,we,je){super(we),this.code=se,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(se,we,je){this.service=se,this.serviceName=we,this.errors=je}create(se,...we){const je=we[0]||{},Se=`${this.service}/${se}`,at=this.errors[se],Pt=at?function nt(de,se){return de.replace(Be,(we,je)=>{const Se=se[je];return null!=Se?String(Se):`<${je}?>`})}(at,je):"Error";return new Ue(Se,`${this.serviceName}: ${Pt} (${Se}).`,je)}}const Be=/\{\$([^}]+)}/g;function ln(de,se){return Object.prototype.hasOwnProperty.call(de,se)}function Kn(de){for(const se in de)if(Object.prototype.hasOwnProperty.call(de,se))return!1;return!0}function Ir(de,se){if(de===se)return!0;const we=Object.keys(de),je=Object.keys(se);for(const Se of we){if(!je.includes(Se))return!1;const at=de[Se],Pt=se[Se];if(Yn(at)&&Yn(Pt)){if(!Ir(at,Pt))return!1}else if(at!==Pt)return!1}for(const Se of je)if(!we.includes(Se))return!1;return!0}function Yn(de){return null!==de&&"object"==typeof de}function Nr(de){const se=[];for(const[we,je]of Object.entries(de))Array.isArray(je)?je.forEach(Se=>{se.push(encodeURIComponent(we)+"="+encodeURIComponent(Se))}):se.push(encodeURIComponent(we)+"="+encodeURIComponent(je));return se.length?"&"+se.join("&"):""}function At(de){const se={};return de.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[Se,at]=je.split("=");se[decodeURIComponent(Se)]=decodeURIComponent(at)}}),se}function Nt(de){const se=de.indexOf("?");if(!se)return"";const we=de.indexOf("#",se);return de.substring(se,we>0?we:void 0)}function an(de,se){const we=new dr(de,se);return we.subscribe.bind(we)}class dr{constructor(se,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{se(this)}).catch(je=>{this.error(je)})}next(se){this.forEachObserver(we=>{we.next(se)})}error(se){this.forEachObserver(we=>{we.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,we,je){let Se;if(void 0===se&&void 0===we&&void 0===je)throw new Error("Missing Observer.");Se=function fn(de,se){if("object"!=typeof de||null===de)return!1;for(const we of se)if(we in de&&"function"==typeof de[we])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:we,complete:je},void 0===Se.next&&(Se.next=Dn),void 0===Se.error&&(Se.error=Dn),void 0===Se.complete&&(Se.complete=Dn);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Se.error(this.finalError):Se.complete()}catch{}}),this.observers.push(Se),at}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,se)}sendOne(se,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{we(this.observers[se])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const Do=1e3,qe=2,me=144e5,Fe=.5;function tt(de,se=Do,we=qe){const je=se*Math.pow(we,de),Se=Math.round(Fe*je*(Math.random()-.5)*2);return Math.min(me,je+Se)}function bn(de){return de&&de._delegate?de._delegate:de}},7886:(Le,Ce,P)=>{"use strict";var a=P(5879);let L=null;function O(){return L}class ee{}const W=new a.OlP("DocumentToken");let X=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return(0,a.f3M)(H)},providedIn:"platform"}),e})();const V=new a.OlP("Location Initialized");let H=(()=>{var t;class e extends X{constructor(){super(),this._doc=(0,a.f3M)(W),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(r){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,c){this._history.pushState(r,o,c)}replaceState(r,o,c){this._history.replaceState(r,o,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function N(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function M(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function U(t){return t&&"?"!==t[0]?"?"+t:t}let B=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return(0,a.f3M)(ne)},providedIn:"root"}),e})();const $=new a.OlP("appBaseHref");let ne=(()=>{var t;class e extends B{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return N(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+U(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${o}${c}`:o}pushState(r,o,c,d){const m=this.prepareExternalUrl(c+U(d));this._platformLocation.pushState(r,o,m)}replaceState(r,o,c,d){const m=this.prepareExternalUrl(c+U(d));this._platformLocation.replaceState(r,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(X),a.LFG($,8))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ae=(()=>{var t;class e extends B{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=N(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,c,d){let m=this.prepareExternalUrl(c+U(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,o,m)}replaceState(r,o,c,d){let m=this.prepareExternalUrl(c+U(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(X),a.LFG($,8))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})(),pe=(()=>{var t;class e{constructor(r){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const o=this._locationStrategy.getBaseHref();this._basePath=function G(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(M(_e(o))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+U(o))}normalize(r){return e.stripTrailingSlash(function J(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_e(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",c=null){this._locationStrategy.pushState(c,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+U(o)),c)}replaceState(r,o="",c=null){this._locationStrategy.replaceState(c,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+U(o)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(c=>c(r,o))}subscribe(r,o,c){return this._subject.subscribe({next:r,error:o,complete:c})}}return(t=e).normalizeQueryParams=U,t.joinWithSlash=N,t.stripTrailingSlash=M,t.\u0275fac=function(r){return new(r||t)(a.LFG(B))},t.\u0275prov=a.Yz7({token:t,factory:function(){return function Z(){return new pe((0,a.LFG)(B))}()},providedIn:"root"}),e})();function _e(t){return t.replace(/\/index.html$/,"")}function Je(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}const Ai=/\s+/,Mi=[];let Fr=(()=>{var t;class e{constructor(r,o,c,d){this._iterableDiffers=r,this._keyValueDiffers=o,this._ngEl=c,this._renderer=d,this.initialClasses=Mi,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Ai):Mi}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Ai):r}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const o of r)this._updateState(o,!0);else if(null!=r)for(const o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff()}_updateState(r,o){const c=this.stateMap.get(r);void 0!==c?(c.enabled!==o&&(c.changed=!0,c.enabled=o),c.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const o=r[0],c=r[1];c.changed?(this._toggleClass(o,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),c.touched=!1}}_toggleClass(r,o){(r=r.trim()).length>0&&r.split(Ai).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class hc{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ys=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,c){this._viewContainer=r,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((c,d,m)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new hc(c.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)o.remove(null===d?void 0:d);else if(null!==d){const y=o.get(d);o.move(y,m),Us(y,c)}});for(let c=0,d=o.length;c<d;c++){const y=o.get(c).context;y.index=c,y.count=d,y.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{Us(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Us(t,e){t.context.$implicit=e.item}let Pi=(()=>{var t;class e{constructor(r,o){this._viewContainer=r,this._context=new km,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){np("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){np("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.s_b),a.Y36(a.Rgc))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class km{constructor(){this.$implicit=null,this.ngIf=null}}function np(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let zo=(()=>{var t;class e{constructor(r,o,c){this._ngEl=r,this._differs=o,this._renderer=c,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){const r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,o){const[c,d]=r.split("."),m=-1===c.indexOf("-")?void 0:a.JOm.DashCase;null!=o?this._renderer.setStyle(this._ngEl.nativeElement,c,d?`${o}${d}`:o,m):this._renderer.removeStyle(this._ngEl.nativeElement,c,m)}_applyChanges(r){r.forEachRemovedItem(o=>this._setStyle(o.key,null)),r.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),r.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Sn=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({}),e})();const Ni="browser";function Wr(t){return"server"===t}let co=(()=>{var t;class e{}return(t=e).\u0275prov=(0,a.Yz7)({token:t,providedIn:"root",factory:()=>new _c((0,a.LFG)(W),window)}),e})();class _c{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Eu(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class lo{}class Ia extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Po extends Ia{static makeCurrent(){!function z(t){L||(L=t)}(new Po)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function dp(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}();return null==n?null:function Lu(t){pl=pl||document.createElement("a"),pl.setAttribute("href",t);const e=pl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Je(document.cookie,e)}}let pl,Da=null,ch=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const lh=new a.OlP("EventManagerPlugins");let uh=(()=>{var t;class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,c){return this._findPluginFor(o).addEventListener(r,o,c)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(d=>d.supports(r)),!o)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(lh),a.LFG(a.R0b))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();class Dc{constructor(e){this._doc=e}}const gl="ng-app-id";let dh=(()=>{var t;class e{constructor(r,o,c,d={}){this.doc=r,this.appId=o,this.nonce=c,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wr(d),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(c=>c.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${gl}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(c=>{null!=c.textContent&&o.set(c.textContent,c)}),o}return null}changeUsageCount(r,o){const c=this.styleRef;if(c.has(r)){const d=c.get(r);return d.usage+=o,d.usage}return c.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const c=this.styleNodesInDOM,d=c?.get(o);if(d?.parentNode===r)return c.delete(o),d.removeAttribute(gl),d;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=o,this.platformIsServer&&m.setAttribute(gl,this.appId),m}}addStyleToHost(r,o){const c=this.getStyleElement(r,o);r.appendChild(c);const d=this.styleRef,m=d.get(o)?.elements;m?m.push(c):d.set(o,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const Uu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ml=/%COMP%/g,fo=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mn(t,e){return e.map(n=>n.replace(ml,t))}let Sc=(()=>{var t;class e{constructor(r,o,c,d,m,y,w,T=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=c,this.removeStylesOnCompDestroy=d,this.doc=m,this.platformId=y,this.ngZone=w,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=Wr(y),this.defaultRenderer=new Ta(r,m,w,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===a.ifc.ShadowDom&&(o={...o,encapsulation:a.ifc.Emulated});const c=this.getOrCreateRenderer(r,o);return c instanceof gp?c.applyToHost(r):c instanceof mi&&c.applyStyles(),c}getOrCreateRenderer(r,o){const c=this.rendererByCompId;let d=c.get(o.id);if(!d){const m=this.doc,y=this.ngZone,w=this.eventManager,T=this.sharedStylesHost,R=this.removeStylesOnCompDestroy,Q=this.platformIsServer;switch(o.encapsulation){case a.ifc.Emulated:d=new gp(w,T,o,this.appId,R,m,y,Q);break;case a.ifc.ShadowDom:return new Sa(w,T,r,o,m,y,this.nonce,Q);default:d=new mi(w,T,o,R,m,y,Q)}c.set(o.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(uh),a.LFG(dh),a.LFG(a.AFp),a.LFG(fo),a.LFG(W),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();class Ta{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yl(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yl(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new a.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const c=Uu[o];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=Uu[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(n,r,o&a.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&a.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function yl(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Sa extends Ta{constructor(e,n,r,o,c,d,m,y){super(e,c,d,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=mn(o.id,o.styles);for(const T of w){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=T,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mi extends Ta{constructor(e,n,r,o,c,d,m,y){super(e,c,d,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=y?mn(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gp extends mi{constructor(e,n,r,o,c,d,m,y){const w=o+"-"+r.id;super(e,n,r,c,d,m,y,w),this.contentAttr=function Vu(t){return"_ngcontent-%COMP%".replace(ml,t)}(w),this.hostAttr=function hh(t){return"_nghost-%COMP%".replace(ml,t)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let fh=(()=>{var t;class e extends Dc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,c){return r.addEventListener(o,c,!1),()=>this.removeEventListener(r,o,c)}removeEventListener(r,o,c){return r.removeEventListener(o,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const ph=["alt","control","meta","shift"],Zs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$m={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uy=(()=>{var t;class e extends Dc{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,c){const d=e.parseEventName(o),m=e.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(r,d.domEventName,m))}static parseEventName(r){const o=r.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const d=e._normalizeKey(o.pop());let m="",y=o.indexOf("code");if(y>-1&&(o.splice(y,1),m="code."),ph.forEach(T=>{const R=o.indexOf(T);R>-1&&(o.splice(R,1),m+=T+".")}),m+=d,0!=o.length||0===d.length)return null;const w={};return w.domEventName=c,w.fullKey=m,w}static matchEventFullKeyCode(r,o){let c=Zs[r.key]||r.key,d="";return o.indexOf("code.")>-1&&(c=r.code,d="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),ph.forEach(m=>{m!==c&&(0,$m[m])(r)&&(d+=m+".")}),d+=c,d===o)}static eventCallback(r,o,c){return d=>{e.matchEventFullKeyCode(d,r)&&c.runGuarded(()=>o(d))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const mh=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Ni},{provide:a.g9A,useValue:function Lt(){Po.makeCurrent()},multi:!0},{provide:W,useFactory:function mp(){return(0,a.RDi)(document),document},deps:[]}]),vh=new a.OlP(""),Aa=[{provide:a.rWj,useClass:class ah{addToWindow(e){a.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new a.vHH(5103,!1);return c},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let c=o.length,d=!1;const m=function(y){d=d||y,c--,0==c&&r(d)};o.forEach(y=>{y.whenStable(m)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?O().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],No=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function ju(){return new a.qLn},deps:[]},{provide:lh,useClass:fh,multi:!0,deps:[W,a.R0b,a.Lbi]},{provide:lh,useClass:uy,multi:!0,deps:[W]},Sc,dh,uh,{provide:a.FYo,useExisting:Sc},{provide:lo,useClass:ch,deps:[]},[]];let Hu=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:a.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(vh,12))},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[...No,...Aa],imports:[Sn,a.hGG]}),e})(),ze=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W))},t.\u0275prov=a.Yz7({token:t,factory:function(r){let o=null;return o=r?new r:function yh(){return new ze((0,a.LFG)(W))}(),o},providedIn:"root"}),e})();typeof window<"u"&&window;var go=P(5592),mo=P(4674),Zn=P(2459),Mt=P(2096),ki=P(5619);const{isArray:Ip}=Array,{getPrototypeOf:wl,prototype:Qr,keys:Yo}=Object;function Ln(t){if(1===t.length){const e=t[0];if(Ip(e))return{args:e,keys:null};if(function Cl(t){return t&&"object"==typeof t&&wl(t)===Qr}(e)){const n=Yo(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var xl=P(2737),$t=P(7398);const{isArray:Dp}=Array;function El(t){return(0,$t.U)(e=>function vo(t,e){return Dp(e)?t(...e):t(e)}(t,e))}var Ro=P(4564);function Ji(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}var yi=P(8251),Oc=P(7103);function Pr(...t){const e=(0,Ro.yG)(t),n=(0,Ro.jO)(t),{args:r,keys:o}=Ln(t);if(0===r.length)return(0,Zn.D)([],e);const c=new go.y(function Oa(t,e,n=xl.y){return r=>{qu(e,()=>{const{length:o}=t,c=new Array(o);let d=o,m=o;for(let y=0;y<o;y++)qu(e,()=>{const w=(0,Zn.D)(t[y],e);let T=!1;w.subscribe((0,yi.x)(r,R=>{c[y]=R,T||(T=!0,m--),m||r.next(n(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Ji(o,d):xl.y));return n?c.pipe(El(n)):c}function qu(t,e,n){t?(0,Oc.f)(n,t,e):e()}const Ts=(0,P(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Il=P(7537);function Fi(...t){return function ko(){return(0,Il.J)(1)}()((0,Zn.D)(t,(0,Ro.yG)(t)))}var Nc=P(4829);function qm(t){return new go.y(e=>{(0,Nc.Xf)(t()).subscribe(e)})}var Ch=P(8407);function Gu(t,e){const n=(0,mo.m)(t)?t:()=>t,r=o=>o.error(n());return new go.y(e?o=>e.schedule(r,0,o):r)}var Ss=P(6232),xh=P(7394),Qi=P(9360);function Tp(){return(0,Qi.e)((t,e)=>{let n=null;t._refCount++;const r=(0,yi.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,c=n;n=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Rc extends go.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Qi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xh.w0;const n=this.getSubject();e.add(this.source.subscribe((0,yi.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xh.w0.EMPTY)}return e}refCount(){return Tp()(this)}}var jr=P(8645),yr=P(4664);function _i(t){return t<=0?()=>Ss.E:(0,Qi.e)((e,n)=>{let r=0;e.subscribe((0,yi.x)(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function Na(...t){const e=(0,Ro.yG)(t);return(0,Qi.e)((n,r)=>{(e?Fi(t,n,e):Fi(t,n)).subscribe(r)})}function Xr(t,e){return(0,Qi.e)((n,r)=>{let o=0;n.subscribe((0,yi.x)(r,c=>t.call(e,c,o++)&&r.next(c)))})}var Hr=P(1631);function kc(t){return(0,Qi.e)((e,n)=>{let r=!1;e.subscribe((0,yi.x)(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Dl(t=Eh){return(0,Qi.e)((e,n)=>{let r=!1;e.subscribe((0,yi.x)(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function Eh(){return new Ts}function _r(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((o,c)=>t(o,c,r)):xl.y,_i(1),n?kc(e):Dl(()=>new Ts))}function Ra(t,e){return(0,mo.m)(e)?(0,Hr.z)(t,e,1):(0,Hr.z)(t,1)}var hr=P(9397);function Jo(t){return(0,Qi.e)((e,n)=>{let c,r=null,o=!1;r=e.subscribe((0,yi.x)(n,void 0,void 0,d=>{c=(0,Nc.Xf)(t(d,Jo(t)(e))),r?(r.unsubscribe(),r=null,c.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(n))})}function Qo(t,e){return(0,Qi.e)(function Tl(t,e,n,r,o){return(c,d)=>{let m=n,y=e,w=0;c.subscribe((0,yi.x)(d,T=>{const R=w++;y=m?t(y,T,R):(m=!0,T),r&&d.next(y)},o&&(()=>{m&&d.next(y),d.complete()})))}}(t,e,arguments.length>=2,!0))}function $s(t){return t<=0?()=>Ss.E:(0,Qi.e)((e,n)=>{let r=[];e.subscribe((0,yi.x)(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Xo(t){return(0,Qi.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var Sl=P(2420);const Gt="primary",As=Symbol("RouteTitle");class qs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gs(t){return new qs(t)}function Ws(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],m=t[c];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function bi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let c=0;c<n.length;c++)if(o=n[c],!Dh(t[o],e[o]))return!1;return!0}function Dh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,c)=>r[c]===o)}return t===e}function Qn(t){return t.length>0?t[t.length-1]:null}function es(t){return function bl(t){return!!t&&(t instanceof go.y||(0,mo.m)(t.lift)&&(0,mo.m)(t.subscribe))}(t)?t:(0,a.QGY)(t)?(0,Zn.D)(Promise.resolve(t)):(0,Mt.of)(t)}const Ms={exact:function Al(t,e,n){if(!Pe(t.segments,e.segments)||!I(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Al(t.children[r],e.children[r],n))return!1;return!0},subset:La},ka={exact:function Yu(t,e){return bi(t,e)},subset:function Fa(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dh(t[n],e[n]))},ignored:()=>!0};function Sp(t,e,n){return Ms[n.paths](t.root,e.root,n.matrixParams)&&ka[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function La(t,e,n){return E(t,e,e.segments,n)}function E(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!Pe(o,n)||e.hasChildren()||!I(o,n,r))}if(t.segments.length===n.length){if(!Pe(t.segments,n)||!I(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!La(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!!(Pe(t.segments,o)&&I(t.segments,o,r)&&t.children[Gt])&&E(t.children[Gt],e,c,r)}}function I(t,e,n){return e.every((r,o)=>ka[n](t[o].parameters,r.parameters))}class A{constructor(e=new j([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class j{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class oe{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Gs(this.parameters)),this._parameterMap}toString(){return fr(this)}}function Pe(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return new ht},providedIn:"root"}),e})();class ht{parse(e){const n=new Ml(e);return new A(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zt(e.root,!0)}`,r=function Gm(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(o=>`${Rn(n)}=${Rn(o)}`).join("&"):`${Rn(n)}=${Rn(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vn(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ct=new ht;function It(t){return t.segments.map(e=>fr(e)).join("/")}function zt(t,e){if(!t.hasChildren())return It(t);if(e){const n=t.children[Gt]?zt(t.children[Gt],!1):"",r=[];return Object.entries(t.children).forEach(([o,c])=>{o!==Gt&&r.push(`${o}:${zt(c,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ge(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===Gt&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Gt&&(n=n.concat(e(o,r)))}),n}(t,(r,o)=>o===Gt?[zt(t.children[Gt],!1)]:[`${o}:${zt(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Gt]?`${It(t)}/${n[0]}`:`${It(t)}/(${n.join("//")})`}}function Gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rn(t){return Gn(t).replace(/%3B/gi,";")}function br(t){return Gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(t){return decodeURIComponent(t)}function Li(t){return Rt(t.replace(/\+/g,"%20"))}function fr(t){return`${br(t.path)}${function ei(t){return Object.keys(t).map(e=>`;${br(e)}=${br(t[e])}`).join("")}(t.parameters)}`}const Ap=/^[^\/()?;#]+/;function Ks(t){const e=t.match(Ap);return e?e[0]:""}const Wm=/^[^\/()?;=#]+/,Km=/^[^=?&#]+/,yo=/^[^&#]+/;class Ml{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Gt]=new j(e,n)),r}parseSegment(){const e=Ks(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new oe(Rt(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Mp(t){const e=t.match(Wm);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Ks(this.remaining);o&&(r=o,this.capture(r))}e[Rt(n)]=Rt(r)}parseQueryParam(e){const n=function fy(t){const e=t.match(Km);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const d=function Pp(t){const e=t.match(yo);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Li(n),c=Li(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(c)}else e[o]=c}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ks(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Gt);const d=this.parseChildren();n[c]=1===Object.keys(d).length?d[Gt]:new j([],d),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function py(t){return t.segments.length>0?new j([],{[Gt]:t}):t}function Op(t){const e={};for(const r of Object.keys(t.children)){const c=Op(t.children[r]);if(r===Gt&&0===c.segments.length&&c.hasChildren())for(const[d,m]of Object.entries(c.children))e[d]=m;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function Ym(t){if(1===t.numberOfChildren&&t.children[Gt]){const e=t.children[Gt];return new j(t.segments.concat(e.segments),e.children)}return t}(new j(t.segments,e))}function Fc(t){return t instanceof A}function Np(t){let e;const o=py(function n(c){const d={};for(const y of c.children){const w=n(y);d[y.outlet]=w}const m=new j(c.url,d);return c===t&&(e=m),m}(t.root));return e??o}function Rp(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(0===e.length)return Lc(o,o,o,n,r);const c=function gy(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qu(!0,0,t);let e=0,n=!1;const r=t.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Object.entries(c.outlets).forEach(([y,w])=>{m[y]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?n=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new Qu(n,e,r)}(e);if(c.toRoot())return Lc(o,o,new j([],{}),n,r);const d=function my(t,e,n){if(t.isAbsolute)return new Uc(e,!0,0);if(!n)return new Uc(e,!1,NaN);if(null===n.parent)return new Uc(n,!0,0);const r=Ju(t.commands[0])?0:1;return function Jm(t,e,n){let r=t,o=e,c=n;for(;c>o;){if(c-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new Uc(r,!1,o-c)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(c,o,t),m=d.processChildren?Pl(d.segmentGroup,d.index,c.commands):Xu(d.segmentGroup,d.index,c.commands);return Lc(o,d.segmentGroup,m,n,r)}function Ju(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ua(t){return"object"==typeof t&&null!=t&&t.outlets}function Lc(t,e,n,r,o){let d,c={};r&&Object.entries(r).forEach(([y,w])=>{c[y]=Array.isArray(w)?w.map(T=>`${T}`):`${w}`}),d=t===e?n:Va(t,e,n);const m=py(Op(d));return new A(m,c,o)}function Va(t,e,n){const r={};return Object.entries(t.children).forEach(([o,c])=>{r[o]=c===e?n:Va(c,e,n)}),new j(t.segments,r)}class Qu{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ju(r[0]))throw new a.vHH(4003,!1);const o=r.find(Ua);if(o&&o!==Qn(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uc{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Xu(t,e,n){if(t||(t=new j([],{})),0===t.segments.length&&t.hasChildren())return Pl(t,e,n);const r=function vy(t,e,n){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return c;const d=t.segments[o],m=n[r];if(Ua(m))break;const y=`${m}`,w=r<n.length-1?n[r+1]:null;if(o>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Lp(y,w,d))return c;r+=2}else{if(!Lp(y,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const c=new j(t.segments.slice(0,r.pathIndex),{});return c.children[Gt]=new j(t.segments.slice(r.pathIndex),t.children),Pl(c,0,o)}return r.match&&0===o.length?new j(t.segments,{}):r.match&&!t.hasChildren()?Fp(t,e,n):r.match?Pl(t,0,o):Fp(t,e,n)}function Pl(t,e,n){if(0===n.length)return new j(t.segments,{});{const r=function kp(t){return Ua(t[0])?t[0].outlets:{[Gt]:t}}(n),o={};if(Object.keys(r).some(c=>c!==Gt)&&t.children[Gt]&&1===t.numberOfChildren&&0===t.children[Gt].segments.length){const c=Pl(t.children[Gt],e,n);return new j(t.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[c]=Xu(t.children[c],e,d))}),Object.entries(t.children).forEach(([c,d])=>{void 0===r[c]&&(o[c]=d)}),new j(t.segments,o)}}function Fp(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const c=n[o];if(Ua(c)){const y=Ol(c.outlets);return new j(r,y)}if(0===o&&Ju(n[0])){r.push(new oe(t.segments[e].path,Nl(n[0]))),o++;continue}const d=Ua(c)?c.outlets[Gt]:`${c}`,m=o<n.length-1?n[o+1]:null;d&&m&&Ju(m)?(r.push(new oe(d,Nl(m))),o+=2):(r.push(new oe(d,{})),o++)}return new j(r,{})}function Ol(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Fp(new j([],{}),0,r))}),e}function Nl(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Lp(t,e,n){return t==n.path&&bi(e,n.parameters)}const Th="imperative";class ts{constructor(e,n){this.id=e,this.url=n}}class Rl extends ts{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends ts{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ed extends ts{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kl extends ts{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}}class Vc extends ts{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class td extends ts{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qm extends ts{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yy extends ts{constructor(e,n,r,o,c){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Up extends ts{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oC extends ts{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _y{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class by{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nd{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rd{}class jp{constructor(e){this.url=e}}class aC{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sh,this.attachRef=null}}let Sh=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){const c=this.getOrCreateContext(r);c.outlet=o,this.contexts.set(r,c)}onChildOutletDestroyed(r){const o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new aC,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class wy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ah(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ah(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ba(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ba(e,this._root).map(n=>n.value)}}function Ah(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ah(t,n);if(r)return r}return null}function Ba(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ba(t,n);if(r.length)return r.unshift(e),r}return[]}class Xi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ja(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Hp extends wy{constructor(e,n){super(e),this.snapshot=n,Oh(this,e)}toString(){return this.snapshot.toString()}}function Zp(t,e){const n=function Zr(t,e){const d=new Js([],{},{},"",{},Gt,e,null,{});return new id("",new Xi(d,[]))}(0,e),r=new ki.X([new oe("",{})]),o=new ki.X({}),c=new ki.X({}),d=new ki.X({}),m=new ki.X(""),y=new ns(r,o,d,m,c,Gt,e,n.root);return y.snapshot=n.root,new Hp(new Xi(y,[]),n)}class ns{constructor(e,n,r,o,c,d,m,y){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=c,this.outlet=d,this.component=m,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,$t.U)(w=>w[As]))??(0,Mt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>Gs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>Gs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const o=n[r],c=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function Ph(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Js{get title(){return this.data?.[As]}constructor(e,n,r,o,c,d,m,y,w){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=m,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class id extends wy{constructor(e,n){super(n),this.url=e,Oh(this,n)}toString(){return e0(this._root)}}function Oh(t,e){e.value._routerState=t,e.children.forEach(n=>Oh(t,n))}function e0(t){const e=t.children.length>0?` { ${t.children.map(e0).join(", ")} } `:"";return`${t.value}${e}`}function Ps(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bi(e.params,n.params)||t.paramsSubject.next(n.params),function Ku(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),bi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function od(t,e){const n=bi(t.params,e.params)&&function Ie(t,e){return Pe(t,e)&&t.every((n,r)=>bi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||od(t.parent,e.parent))}let sd=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Sh),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Nh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:o,previousValue:c}=r.name;if(o)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=r;const c=this.location,m=r.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new Cy(r,y,c.injector);this.activated=c.createComponent(m,{index:c.length,injector:w,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=a.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),e})();class Cy{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ns?this.route:e===Sh?this.childContexts:this.parent.get(e,n)}}const Nh=new a.OlP("");let $p=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:o}=r,c=Pr([o.queryParams,o.params,o.data]).pipe((0,yr.w)(([d,m,y],w)=>(y={...d,...m,...y},0===w?(0,Mt.of)(y):Promise.resolve(y)))).subscribe(d=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(r);const m=(0,a.qFp)(o.component);if(m)for(const{templateName:y}of m.inputs)r.activatedComponentRef.setInput(y,d[y]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,c)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();function Bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function xy(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Bc(t,r,o);return Bc(t,r)})}(t,e,n);return new Xi(r,o)}{if(t.shouldAttach(e.value)){const c=t.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Bc(t,m)),d}}const r=function ur(t){return new ns(new ki.X(t.url),new ki.X(t.params),new ki.X(t.queryParams),new ki.X(t.fragment),new ki.X(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(c=>Bc(t,c));return new Xi(r,o)}}const Qs="ngNavigationCancelingError";function Rh(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=ad(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function ad(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Qs]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Ha(t){return t&&t[Qs]}let zp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(r,o){1&r&&a._UZ(0,"router-outlet")},dependencies:[sd],encapsulation:2}),e})();function q(t){const e=t.children&&t.children.map(q),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Gt&&(n.component=zp),n}function re(t){return t.outlet||Gt}function ke(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Et{constructor(e,n,r,o,c){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=c}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ps(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=ja(n);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Object.values(o).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,n,r){const o=e.value,c=n?n.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,n,d.children)}else this.deactivateChildRoutes(e,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,c=ja(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,c=ja(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const o=ja(n);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new sC(c.value.snapshot))}),e.children.length&&this.forwardEvent(new by(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,c=n?n.value:null;if(Ps(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,d.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Ps(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=ke(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Qt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class An{constructor(e,n){this.component=e,this.route=n}}function pr(t,e,n){const r=t._root;return Za(r,e?e._root:null,n,[r.value])}function Fo(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,a.Z0I)(t)?e.get(t):t:r}function Za(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=ja(e);return t.children.forEach(d=>{(function Fl(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,d=e?e.value:null,m=n?n.getContext(t.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const y=function n0(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pe(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pe(t.url,e.url)||!bi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(t,e)||!bi(t.queryParams,e.queryParams);default:return!od(t,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new Qt(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Za(t,e,c.component?m?m.children:null:n,r,o),y&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new An(m.outlet.component,d))}else d&&Ll(e,m,o),o.canActivateChecks.push(new Qt(r)),Za(t,null,c.component?m?m.children:null:n,r,o)})(d,c[d.value.outlet],n,r.concat([d.value]),o),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,m])=>Ll(m,n.getContext(d),o)),o}function Ll(t,e,n){const r=ja(t),o=t.value;Object.entries(r).forEach(([c,d])=>{Ll(d,o.component?e?e.children.getContext(c):null:e,n)}),n.canDeactivateChecks.push(new An(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function jc(t){return"function"==typeof t}function uC(t){return t instanceof Ts||"EmptyError"===t?.name}const kh=Symbol("INITIAL_VALUE");function cd(){return(0,yr.w)(t=>Pr(t.map(e=>e.pipe(_i(1),Na(kh)))).pipe((0,$t.U)(e=>{for(const n of e)if(!0!==n){if(n===kh)return kh;if(!1===n||n instanceof A)return n}return!0}),Xr(e=>e!==kh),_i(1)))}function Ty(t){return(0,Ch.z)((0,hr.b)(e=>{if(Fc(e))throw Rh(0,e)}),(0,$t.U)(e=>!0===e))}class Gp{constructor(e){this.segmentGroup=e||null}}class Wp{constructor(e){this.urlTree=e}}function $a(t){return Gu(new Gp(t))}function Ay(t){return Gu(new Wp(t))}class gC{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Mt.of)(r);if(o.numberOfChildren>1||!o.children[Gt])return Gu(new a.vHH(4e3,!1));o=o.children[Gt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,o){const c=this.createSegmentGroup(e,n.root,r,o);return new A(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([o,c])=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);r[o]=n[m]}else r[o]=c}),r}createSegmentGroup(e,n,r,o){const c=this.createSegments(e,n.segments,r,o);let d={};return Object.entries(n.children).forEach(([m,y])=>{d[m]=this.createSegmentGroup(e,y,r,o)}),new j(c,d)}createSegments(e,n,r,o){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new a.vHH(4001,!1);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}const Kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yp(t,e,n,r,o){const c=Py(t,e,n);return c.matched?(r=function t0(t,e){return t.providers&&!t._injector&&(t._injector=(0,a.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Sy(t,e,n,r){const o=e.canMatch;if(!o||0===o.length)return(0,Mt.of)(!0);const c=o.map(d=>{const m=Fo(d,t);return es(function Dy(t){return t&&jc(t.canMatch)}(m)?m.canMatch(e,n):t.runInContext(()=>m(e,n)))});return(0,Mt.of)(c).pipe(cd(),Ty())}(r,e,n).pipe((0,$t.U)(d=>!0===d?c:{...Kp}))):(0,Mt.of)(c)}function Py(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Kp}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Ws)(n,t,e);if(!o)return{...Kp};const c={};Object.entries(o.posParams??{}).forEach(([m,y])=>{c[m]=y.path});const d=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Oy(t,e,n,r){return n.length>0&&function _D(t,e,n){return n.some(r=>Jp(t,e,r)&&re(r)!==Gt)}(t,n,r)?{segmentGroup:new j(e,yD(r,new j(n,t.children))),slicedSegments:[]}:0===n.length&&function mC(t,e,n){return n.some(r=>Jp(t,e,r))}(t,n,r)?{segmentGroup:new j(t.segments,vD(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new j(t.segments,t.children),slicedSegments:n}}function vD(t,e,n,r,o){const c={};for(const d of r)if(Jp(t,n,d)&&!o[re(d)]){const m=new j([],{});c[re(d)]=m}return{...o,...c}}function yD(t,e){const n={};n[Gt]=e;for(const r of t)if(""===r.path&&re(r)!==Gt){const o=new j([],{});n[re(r)]=o}return n}function Jp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class bD{constructor(e,n,r,o,c,d,m){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new gC(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=Oy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe(Jo(n=>{if(n instanceof Wp)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Gp?this.noMatchError(n):n}),(0,$t.U)(n=>{const r=new Js([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),o=new Xi(r,n),c=new id("",o),d=function iC(t,e,n=null,r=null){return Rp(Np(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(c._root),{state:c,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Gt).pipe(Jo(r=>{throw r instanceof Gp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Mh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0)}processChildren(e,n,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Zn.D)(o).pipe(Ra(c=>{const d=r.children[c],m=function Te(t,e){const n=t.filter(r=>re(r)===e);return n.push(...t.filter(r=>re(r)!==e)),n}(n,c);return this.processSegmentGroup(e,m,d,c)}),Qo((c,d)=>(c.push(...d),c)),kc(null),function Wu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((o,c)=>t(o,c,r)):xl.y,$s(1),n?kc(e):Dl(()=>new Ts))}(),(0,Hr.z)(c=>{if(null===c)return $a(r);const d=vC(c);return function wD(t){t.sort((e,n)=>e.value.outlet===Gt?-1:n.value.outlet===Gt?1:e.value.outlet.localeCompare(n.value.outlet))}(d),(0,Mt.of)(d)}))}processSegment(e,n,r,o,c,d){return(0,Zn.D)(n).pipe(Ra(m=>this.processSegmentAgainstRoute(m._injector??e,n,m,r,o,c,d).pipe(Jo(y=>{if(y instanceof Gp)return(0,Mt.of)(null);throw y}))),_r(m=>!!m),Jo(m=>{if(uC(m))return function Ny(t,e,n){return 0===e.length&&!t.children[n]}(r,o,c)?(0,Mt.of)([]):$a(r);throw m}))}processSegmentAgainstRoute(e,n,r,o,c,d,m){return function l0(t,e,n,r){return!!(re(t)===r||r!==Gt&&Jp(e,n,t))&&("**"===t.path||Py(e,t,n).matched)}(r,o,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,c,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,c,d):$a(o):$a(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,c,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ay(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,Hr.z)(d=>{const m=new j(d,{});return this.processSegment(e,n,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,c,d){const{matched:m,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=Py(n,o,c);if(!m)return $a(n);const R=this.applyRedirects.applyRedirectCommands(y,o.redirectTo,T);return o.redirectTo.startsWith("/")?Ay(R):this.applyRedirects.lineralizeSegments(o,R).pipe((0,Hr.z)(Q=>this.processSegment(e,r,n,Q.concat(w),d,!1)))}matchSegmentAgainstRoute(e,n,r,o,c,d){let m;if("**"===r.path){const y=o.length>0?Qn(o).parameters:{},w=new Js(o,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_C(r),re(r),r.component??r._loadedComponent??null,r,ud(r));m=(0,Mt.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),n.children={}}else m=Yp(n,r,o,e).pipe((0,$t.U)(({matched:y,consumedSegments:w,remainingSegments:T,parameters:R})=>y?{snapshot:new Js(w,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_C(r),re(r),r.component??r._loadedComponent??null,r,ud(r)),consumedSegments:w,remainingSegments:T}:null));return m.pipe((0,yr.w)(y=>null===y?$a(n):this.getChildConfig(e=r._injector??e,r,o).pipe((0,yr.w)(({routes:w})=>{const T=r._loadedInjector??e,{snapshot:R,consumedSegments:Q,remainingSegments:ie}=y,{segmentGroup:Me,slicedSegments:$e}=Oy(n,Q,ie,w);if(0===$e.length&&Me.hasChildren())return this.processChildren(T,w,Me).pipe((0,$t.U)(rt=>null===rt?null:[new Xi(R,rt)]));if(0===w.length&&0===$e.length)return(0,Mt.of)([new Xi(R,[])]);const He=re(r)===c;return this.processSegment(T,w,Me,$e,He?Gt:c,!0).pipe((0,$t.U)(rt=>[new Xi(R,rt)]))}))))}getChildConfig(e,n,r){return n.children?(0,Mt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,Mt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function pC(t,e,n,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Mt.of)(!0);const c=o.map(d=>{const m=Fo(d,t);return es(function Iy(t){return t&&jc(t.canLoad)}(m)?m.canLoad(e,n):t.runInContext(()=>m(e,n)))});return(0,Mt.of)(c).pipe(cd(),Ty())}(e,n,r).pipe((0,Hr.z)(o=>o?this.configLoader.loadChildren(e,n).pipe((0,hr.b)(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function c0(t){return Gu(ad(!1,3))}())):(0,Mt.of)({routes:[],injector:e})}}function eM(t){const e=t.value.routeConfig;return e&&""===e.path}function vC(t){const e=[],n=new Set;for(const r of t){if(!eM(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=vC(r.children);e.push(new Xi(r.value,o))}return e.filter(r=>!n.has(r))}function _C(t){return t.data||{}}function ud(t){return t.resolve||{}}function EC(t){return"string"==typeof t.title||null===t.title}function ky(t){return(0,yr.w)(e=>{const n=t(e);return n?(0,Zn.D)(n).pipe((0,$t.U)(()=>e)):(0,Mt.of)(e)})}const Lh=new a.OlP("ROUTES");let Fy=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,Mt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=es(r.loadComponent()).pipe((0,$t.U)(Hc),(0,hr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=d}),Xo(()=>{this.componentLoaders.delete(r)})),c=new Rc(o,()=>new jr.x).pipe(Tp());return this.componentLoaders.set(r,c),c}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,Mt.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const d=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,$t.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(o);let w,T;return Array.isArray(y)?T=y:(w=y.create(r).injector,T=w.get(Lh,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:T.map(q),injector:w}}),Xo(()=>{this.childrenLoaders.delete(o)})),m=new Rc(d,()=>new jr.x).pipe(Tp());return this.childrenLoaders.set(o,m),m}loadModuleFactoryOrRoutes(r){return es(r()).pipe((0,$t.U)(Hc),(0,Hr.z)(o=>o instanceof a.YKP||Array.isArray(o)?(0,Mt.of)(o):(0,Zn.D)(this.compiler.compileModuleAsync(o))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Hc(t){return function CD(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ul=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jr.x,this.transitionAbortSubject=new jr.x,this.configLoader=(0,a.f3M)(Fy),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Ye),this.rootContexts=(0,a.f3M)(Sh),this.inputBindingEnabled=null!==(0,a.f3M)(Nh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Mt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=c=>this.events.next(new _y(c)),this.configLoader.onLoadStartListener=c=>this.events.next(new Vp(c))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:o})}setupNavigations(r,o,c){return this.transitions=new ki.X({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:r.urlHandlingStrategy.extract(o),urlAfterRedirects:r.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Th,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xr(d=>0!==d.id),(0,$t.U)(d=>({...d,extractedUrl:r.urlHandlingStrategy.extract(d.rawUrl)})),(0,yr.w)(d=>{this.currentTransition=d;let m=!1,y=!1;return(0,Mt.of)(d).pipe((0,hr.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,yr.w)(w=>{const T=w.currentBrowserUrl.toString(),R=!r.navigated||w.extractedUrl.toString()!==T||T!==w.currentUrlTree.toString();if(!R&&"reload"!==(w.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const ie="";return this.events.next(new kl(w.id,this.urlSerializer.serialize(w.rawUrl),ie,0)),w.resolve(null),Ss.E}if(r.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,Mt.of)(w).pipe((0,yr.w)(ie=>{const Me=this.transitions?.getValue();return this.events.next(new Rl(ie.id,this.urlSerializer.serialize(ie.extractedUrl),ie.source,ie.restoredState)),Me!==this.transitions?.getValue()?Ss.E:Promise.resolve(ie)}),function u0(t,e,n,r,o,c){return(0,Hr.z)(d=>function Fh(t,e,n,r,o,c,d="emptyOnly"){return new bD(t,e,n,r,o,d,c).recognize()}(t,e,n,r,d.extractedUrl,o,c).pipe((0,$t.U)(({state:m,tree:y})=>({...d,targetSnapshot:m,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,hr.b)(ie=>{d.targetSnapshot=ie.targetSnapshot,d.urlAfterRedirects=ie.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ie.urlAfterRedirects};const Me=new td(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects),ie.targetSnapshot);this.events.next(Me)}));if(R&&r.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:ie,extractedUrl:Me,source:$e,restoredState:He,extras:rt}=w,bt=new Rl(ie,this.urlSerializer.serialize(Me),$e,He);this.events.next(bt);const ft=Zp(0,this.rootComponentType).snapshot;return this.currentTransition=d={...w,targetSnapshot:ft,urlAfterRedirects:Me,extras:{...rt,skipLocationChange:!1,replaceUrl:!1}},(0,Mt.of)(d)}{const ie="";return this.events.next(new kl(w.id,this.urlSerializer.serialize(w.extractedUrl),ie,1)),w.resolve(null),Ss.E}}),(0,hr.b)(w=>{const T=new Qm(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}),(0,$t.U)(w=>(this.currentTransition=d={...w,guards:pr(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},d)),function ld(t,e){return(0,Hr.z)(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=n;return 0===d.length&&0===c.length?(0,Mt.of)({...n,guardsResult:!0}):function dC(t,e,n,r){return(0,Zn.D)(t).pipe((0,Hr.z)(o=>function fC(t,e,n,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Mt.of)(!0);const d=c.map(m=>{const y=ke(e)??o,w=Fo(m,y);return es(function s0(t){return t&&jc(t.canDeactivate)}(w)?w.canDeactivate(t,e,n,r):y.runInContext(()=>w(t,e,n,r))).pipe(_r())});return(0,Mt.of)(d).pipe(cd())}(o.component,o.route,n,e,r)),_r(o=>!0!==o,!0))}(d,r,o,t).pipe((0,Hr.z)(m=>m&&function r0(t){return"boolean"==typeof t}(m)?function hC(t,e,n,r){return(0,Zn.D)(e).pipe(Ra(o=>Fi(function XA(t,e){return null!==t&&e&&e(new Xm(t)),(0,Mt.of)(!0)}(o.route.parent,r),function gD(t,e){return null!==t&&e&&e(new Bp(t)),(0,Mt.of)(!0)}(o.route,r),function mD(t,e,n){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function ti(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(d)).filter(d=>null!==d).map(d=>qm(()=>{const m=d.guards.map(y=>{const w=ke(d.node)??n,T=Fo(y,w);return es(function o0(t){return t&&jc(t.canActivateChild)}(T)?T.canActivateChild(r,t):w.runInContext(()=>T(r,t))).pipe(_r())});return(0,Mt.of)(m).pipe(cd())}));return(0,Mt.of)(c).pipe(cd())}(t,o.path,n),function a0(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Mt.of)(!0);const o=r.map(c=>qm(()=>{const d=ke(e)??n,m=Fo(c,d);return es(function qp(t){return t&&jc(t.canActivate)}(m)?m.canActivate(e,t):d.runInContext(()=>m(e,t))).pipe(_r())}));return(0,Mt.of)(o).pipe(cd())}(t,o.route,n))),_r(o=>!0!==o,!0))}(r,c,t,e):(0,Mt.of)(m)),(0,$t.U)(m=>({...n,guardsResult:m})))})}(this.environmentInjector,w=>this.events.next(w)),(0,hr.b)(w=>{if(d.guardsResult=w.guardsResult,Fc(w.guardsResult))throw Rh(0,w.guardsResult);const T=new yy(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(T)}),Xr(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),ky(w=>{if(w.guards.canActivateChecks.length)return(0,Mt.of)(w).pipe((0,hr.b)(T=>{const R=new Up(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}),(0,yr.w)(T=>{let R=!1;return(0,Mt.of)(T).pipe(function Ry(t,e){return(0,Hr.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,Mt.of)(n);let c=0;return(0,Zn.D)(o).pipe(Ra(d=>function bC(t,e,n,r){const o=t.routeConfig,c=t._resolve;return void 0!==o?.title&&!EC(o)&&(c[As]=o.title),function wC(t,e,n,r){const o=function CC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,Mt.of)({});const c={};return(0,Zn.D)(o).pipe((0,Hr.z)(d=>function xC(t,e,n,r){const o=ke(e)??r,c=Fo(t,o);return es(c.resolve?c.resolve(e,n):o.runInContext(()=>c(e,n)))}(t[d],e,n,r).pipe(_r(),(0,hr.b)(m=>{c[d]=m}))),$s(1),function zs(t){return(0,$t.U)(()=>t)}(c),Jo(d=>uC(d)?Ss.E:Gu(d)))}(c,t,e,r).pipe((0,$t.U)(d=>(t._resolvedData=d,t.data=Mh(t,n).resolve,o&&EC(o)&&(t.data[As]=o.title),null)))}(d.route,r,t,e)),(0,hr.b)(()=>c++),$s(1),(0,Hr.z)(d=>c===o.length?(0,Mt.of)(n):Ss.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,hr.b)({next:()=>R=!0,complete:()=>{R||this.cancelNavigationTransition(T,"",2)}}))}),(0,hr.b)(T=>{const R=new oC(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}))}),ky(w=>{const T=R=>{const Q=[];R.routeConfig?.loadComponent&&!R.routeConfig._loadedComponent&&Q.push(this.configLoader.loadComponent(R.routeConfig).pipe((0,hr.b)(ie=>{R.component=ie}),(0,$t.U)(()=>{})));for(const ie of R.children)Q.push(...T(ie));return Q};return Pr(T(w.targetSnapshot.root)).pipe(kc(),_i(1))}),ky(()=>this.afterPreactivation()),(0,$t.U)(w=>{const T=function Ui(t,e,n){const r=Bc(t,e._root,n?n._root:void 0);return new Hp(r,e)}(r.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=d={...w,targetRouterState:T},d}),(0,hr.b)(()=>{this.events.next(new rd)}),((t,e,n,r)=>(0,$t.U)(o=>(new Et(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)))(this.rootContexts,r.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),_i(1),(0,hr.b)({next:w=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ys(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),r.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{m=!0}}),function Ih(t){return(0,Qi.e)((e,n)=>{(0,Nc.Xf)(t).subscribe((0,yi.x)(n,()=>n.complete(),Sl.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,hr.b)(w=>{throw w}))),Xo(()=>{m||y||this.cancelNavigationTransition(d,"",1),this.currentNavigation?.id===d.id&&(this.currentNavigation=null)}),Jo(w=>{if(y=!0,Ha(w))this.events.next(new ed(d.id,this.urlSerializer.serialize(d.extractedUrl),w.message,w.cancellationCode)),function wi(t){return Ha(t)&&Fc(t.url)}(w)?this.events.next(new jp(w.url)):d.resolve(!1);else{this.events.next(new Vc(d.id,this.urlSerializer.serialize(d.extractedUrl),w,d.targetSnapshot??void 0));try{d.resolve(r.errorHandler(w))}catch(T){d.reject(T)}}return Ss.E}))}))}cancelNavigationTransition(r,o,c){const d=new ed(r.id,this.urlSerializer.serialize(r.extractedUrl),o,c);this.events.next(d),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IC(t){return t!==Th}let xD=(()=>{var t;class e{buildTitle(r){let o,c=r.root;for(;void 0!==c;)o=this.getResolvedTitleForRoute(c)??o,c=c.children.find(d=>d.outlet===Gt);return o}getResolvedTitleForRoute(r){return r.data[As]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return(0,a.f3M)(tM)},providedIn:"root"}),e})(),tM=(()=>{var t;class e extends xD{constructor(r){super(),this.title=r}updateTitle(r){const o=this.buildTitle(r);void 0!==o&&this.title.setTitle(o)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(ze))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),nM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return(0,a.f3M)(iM)},providedIn:"root"}),e})();class rM{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let iM=(()=>{var t;class e extends rM{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Qp=new a.OlP("",{providedIn:"root",factory:()=>({})});let ED=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:function(){return(0,a.f3M)(ID)},providedIn:"root"}),e})(),ID=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Xp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xp||{});function DC(t,e){t.events.pipe(Xr(n=>n instanceof Ys||n instanceof ed||n instanceof Vc||n instanceof kl),(0,$t.U)(n=>n instanceof Ys||n instanceof kl?Xp.COMPLETE:n instanceof ed&&(0===n.code||1===n.code)?Xp.REDIRECTING:Xp.FAILED),Xr(n=>n!==Xp.REDIRECTING),_i(1)).subscribe(()=>{e()})}function Ly(t){throw t}function Zc(t,e,n){return e.parse("/")}const eg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new jr.x,this.options=(0,a.f3M)(Qp,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||Ly,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(ED),this.routeReuseStrategy=(0,a.f3M)(nM),this.titleStrategy=(0,a.f3M)(xD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Lh,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Ul),this.urlSerializer=(0,a.f3M)(Ye),this.location=(0,a.f3M)(pe),this.componentInputBindingEnabled=!!(0,a.f3M)(Nh,{optional:!0}),this.eventsSubscription=new xh.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new A,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zp(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:c}=this.navigationTransitions;if(null===c)return void(DD(o)&&this._events.next(o));if(o instanceof Rl)IC(c.source)&&(this.browserUrlTree=c.extractedUrl);else if(o instanceof kl)this.rawUrlTree=c.rawUrl;else if(o instanceof td){if("eager"===this.urlUpdateStrategy){if(!c.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);this.setBrowserUrl(d,c)}this.browserUrlTree=c.urlAfterRedirects}}else if(o instanceof rd)this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects);else if(o instanceof ed)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(c);else if(o instanceof jp){const d=this.urlHandlingStrategy.merge(o.url,c.currentRawUrl),m={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IC(c.source)};this.scheduleNavigation(d,Th,null,m,{resolve:c.resolve,reject:c.reject,promise:c.promise})}o instanceof Vc&&this.restoreHistory(c,!0),o instanceof Ys&&(this.navigated=!0),DD(o)&&this._events.next(o)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Th,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const o="popstate"===r.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,o,r.state)},0)}))}navigateToSyncWithBrowser(r,o,c){const d={replaceUrl:!0},m=c?.navigationId?c:null;if(c){const w={...c};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(d.state=w)}const y=this.parseUrl(r);this.scheduleNavigation(y,o,m,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){const{relativeTo:c,queryParams:d,fragment:m,queryParamsHandling:y,preserveFragment:w}=o,T=w?this.currentUrlTree.fragment:m;let Q,R=null;switch(y){case"merge":R={...this.currentUrlTree.queryParams,...d};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=d||null}null!==R&&(R=this.removeEmptyProps(R));try{Q=Np(c?c.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),Q=this.currentUrlTree.root}return Rp(Q,r,R,T??null)}navigateByUrl(r,o={skipLocationChange:!1}){const c=Fc(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,Th,null,o)}navigate(r,o={skipLocationChange:!1}){return function SC(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new a.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let o;try{o=this.urlSerializer.parse(r)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return o}isActive(r,o){let c;if(c=!0===o?{...eg}:!1===o?{...TC}:o,Fc(r))return Sp(this.currentUrlTree,r,c);const d=this.parseUrl(r);return Sp(this.currentUrlTree,d,c)}removeEmptyProps(r){return Object.keys(r).reduce((o,c)=>{const d=r[c];return null!=d&&(o[c]=d),o},{})}scheduleNavigation(r,o,c,d,m){if(this.disposed)return Promise.resolve(!1);let y,w,T;m?(y=m.resolve,w=m.reject,T=m.promise):T=new Promise((Q,ie)=>{y=Q,w=ie});const R=this.pendingTasks.add();return DC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(R))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:d,resolve:y,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(Q=>Promise.reject(Q))}setBrowserUrl(r,o){const c=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl){const m={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(c,"",m)}else{const d={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(c,"",d)}}restoreHistory(r,o=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DD(t){return!(t instanceof rd||t instanceof jp)}class d0{}let MC=(()=>{var t;class e{constructor(r,o,c,d,m){this.router=r,this.injector=c,this.preloadingStrategy=d,this.loader=m}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(r=>r instanceof Ys),Ra(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const c=[];for(const d of o){d.providers&&!d._injector&&(d._injector=(0,a.MMx)(d.providers,r,`Route: ${d.path}`));const m=d._injector??r,y=d._loadedInjector??m;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&c.push(this.preloadConfig(m,d)),(d.children||d._loadedRoutes)&&c.push(this.processRoutes(y,d.children??d._loadedRoutes))}return(0,Zn.D)(c).pipe((0,Il.J)())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let c;c=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(r,o):(0,Mt.of)(null);const d=c.pipe((0,Hr.z)(m=>null===m?(0,Mt.of)(void 0):(o._loadedRoutes=m.routes,o._loadedInjector=m.injector,this.processRoutes(m.injector??r,m.routes))));if(o.loadComponent&&!o._loadedComponent){const m=this.loader.loadComponent(o);return(0,Zn.D)([d,m]).pipe((0,Il.J)())}return d})}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(wn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(d0),a.LFG(Fy))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Vy=new a.OlP("");let PC=(()=>{var t;class e{constructor(r,o,c,d,m={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=c,this.zone=d,this.options=m,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},m.scrollPositionRestoration=m.scrollPositionRestoration||"disabled",m.anchorScrolling=m.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Rl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ys?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof kl&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof nd&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nd(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){a.$Z()},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();function za(t,e){return{\u0275kind:t,\u0275providers:e}}function dd(){const t=(0,a.f3M)(a.zs3);return e=>{const n=t.get(a.z2F);if(e!==n.components[0])return;const r=t.get(wn),o=t.get(RC);1===t.get(By)&&r.initialNavigation(),t.get(FC,null,a.XFs.Optional)?.setUpPreloading(),t.get(Vy,null,a.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const RC=new a.OlP("",{factory:()=>new jr.x}),By=new a.OlP("",{providedIn:"root",factory:()=>1}),FC=new a.OlP("");function TD(t){return za(0,[{provide:FC,useExisting:MC},{provide:d0,useExisting:t}])}const Mn=new a.OlP("ROUTER_FORROOT_GUARD"),tg=[pe,{provide:Ye,useClass:ht},wn,Sh,{provide:ns,useFactory:function OC(t){return t.routerState.root},deps:[wn]},Fy,[]];function LC(){return new a.PXZ("Router",wn)}let Xs=(()=>{var t;class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[tg,[],{provide:Lh,multi:!0,useValue:r},{provide:Mn,useFactory:UC,deps:[[wn,new a.FiY,new a.tp0]]},{provide:Qp,useValue:o||{}},o?.useHash?{provide:B,useClass:ae}:{provide:B,useClass:ne},{provide:Vy,useFactory:()=>{const t=(0,a.f3M)(co),e=(0,a.f3M)(a.R0b),n=(0,a.f3M)(Qp),r=(0,a.f3M)(Ul),o=(0,a.f3M)(Ye);return n.scrollOffset&&t.setOffset(n.scrollOffset),new PC(o,r,t,e,n)}},o?.preloadingStrategy?TD(o.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:LC},o?.initialNavigation?VC(o):[],o?.bindToComponentInputs?za(8,[$p,{provide:Nh,useExisting:$p}]).\u0275providers:[],[{provide:ng,useFactory:dd},{provide:a.tb,multi:!0,useExisting:ng}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Lh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(Mn,8))},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({}),e})();function UC(t){return"guarded"}function VC(t){return["disabled"===t.initialNavigation?za(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:By,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?za(2,[{provide:By,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const n=e.get(V,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=e.get(wn),c=e.get(RC);DC(o,()=>{r(!0)}),e.get(Ul).afterPreactivation=()=>(r(!0),c.closed?(0,Mt.of)(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const ng=new a.OlP("");var De=P(5861),qy=P(7874);function rg(t){try{return qy.AES.encrypt(JSON.stringify(t),"ganciskirvaapt").toString()}catch{return""}}function Vh(t){try{const e=qy.AES.decrypt(t,"ganciskirvaapt");return e.toString()?JSON.parse(e.toString(qy.enc.Utf8)):t}catch(e){console.log(e)}}function m0(t){return t.check("userName")?t.get("userName"):"Unkown"}function Gy(t){return t.check("userMobileNumber")?t.get("userMobileNumber"):"Unkown"}function ig(t){return t.check("userMobileNumber")?t.get("userMobileNumber"):"Unkown"}function qa(t){var e=document.getElementsByClassName(t);for(let n=0;n<e.length;n++)e[n].classList.add("loading"),e[n].querySelector(".card-widget-body")?.classList.add("visibility-hidden"),e[n].querySelector(".main-text")?.classList.add("visibility-hidden"),e[n].querySelector(".welcome-text")?.classList.add("visibility-hidden"),e[n].querySelector(".card-body")?.classList.add("visibility-hidden")}function fd(t){var e=document.getElementsByClassName(t);for(let n=0;n<e.length;n++)e[n].classList.remove("loading"),e[n].querySelector(".card-widget-body")?.classList.remove("visibility-hidden"),e[n].querySelector(".main-text")?.classList.remove("visibility-hidden"),e[n].querySelector(".welcome-text")?.classList.remove("visibility-hidden"),e[n].querySelector(".card-body")?.classList.remove("visibility-hidden")}class Vl{}class pd{}class _o{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),c=o.toLowerCase(),d=n.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof _o?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new _o;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof _o?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const c=e.value;if(c){let d=this.headers.get(n);if(!d)return;d=d.filter(m=>-1===c.indexOf(m)),0===d.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,d)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(c=>c.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Ky{encodeKey(e){return jh(e)}encodeValue(e){return jh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yM=/%(\d[a-f0-9])/gi,Yy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jh(t){return encodeURIComponent(t).replace(yM,(e,n)=>Yy[n]??e)}function y0(t){return`${t}`}class zc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ky,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v0(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[d,m]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],y=n.get(d)||[];y.push(m),n.set(d,y)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],o=Array.isArray(r)?r.map(y0):[y0(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{n.push({param:r,value:c,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new zc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(y0(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(y0(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ND{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Qy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function JC(t){return typeof Blob<"u"&&t instanceof Blob}function QC(t){return typeof FormData<"u"&&t instanceof FormData}class og{constructor(e,n,r,o){let c;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Jy(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new _o),this.context||(this.context=new ND),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+d}}else this.params=new zc,this.urlWithParams=n}serializeBody(){return null===this.body?null:Qy(this.body)||JC(this.body)||QC(this.body)||function bM(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QC(this.body)?null:JC(this.body)?this.body.type||null:Qy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((R,Q)=>R.set(Q,e.setHeaders[Q]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((R,Q)=>R.set(Q,e.setParams[Q]),w)),new og(n,r,c,{params:w,headers:y,context:T,reportProgress:m,responseType:o,withCredentials:d})}}var qc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(qc||{});class sg{constructor(e,n=200,r="OK"){this.headers=e.headers||new _o,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Xy extends sg{constructor(e={}){super(e),this.type=qc.ResponseHeader}clone(e={}){return new Xy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gd extends sg{constructor(e={}){super(e),this.type=qc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _0 extends sg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Hh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ag=(()=>{var t;class e{constructor(r){this.handler=r}request(r,o,c={}){let d;if(r instanceof og)d=r;else{let w,T;w=c.headers instanceof _o?c.headers:new _o(c.headers),c.params&&(T=c.params instanceof zc?c.params:new zc({fromObject:c.params})),d=new og(r,o,void 0!==c.body?c.body:null,{headers:w,context:c.context,params:T,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const m=(0,Mt.of)(d).pipe(Ra(w=>this.handler.handle(w)));if(r instanceof og||"events"===c.observe)return m;const y=m.pipe(Xr(w=>w instanceof gd));switch(c.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return y.pipe((0,$t.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return y.pipe((0,$t.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return y.pipe((0,$t.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return y.pipe((0,$t.U)(w=>w.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(r,o={}){return this.request("DELETE",r,o)}get(r,o={}){return this.request("GET",r,o)}head(r,o={}){return this.request("HEAD",r,o)}jsonp(r,o){return this.request("JSONP",r,{params:(new zc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,o={}){return this.request("OPTIONS",r,o)}patch(r,o,c={}){return this.request("PATCH",r,Hh(c,o))}post(r,o,c={}){return this.request("POST",r,Hh(c,o))}put(r,o,c={}){return this.request("PUT",r,Hh(c,o))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(Vl))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();function md(t,e){return e(t)}function lg(t,e){return(n,r)=>e.intercept(n,{handle:o=>t(o,r)})}const XC=new a.OlP(""),ug=new a.OlP(""),e1=new a.OlP("");function VD(){let t=null;return(e,n)=>{null===t&&(t=((0,a.f3M)(XC,{optional:!0})??[]).reduceRight(lg,md));const r=(0,a.f3M)(a.HDt),o=r.add();return t(e,n).pipe(Xo(()=>r.remove(o)))}}let e_=(()=>{var t;class e extends Vl{constructor(r,o){super(),this.backend=r,this.injector=o,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(r){if(null===this.chain){const c=Array.from(new Set([...this.injector.get(ug),...this.injector.get(e1,[])]));this.chain=c.reduceRight((d,m)=>function UD(t,e,n){return(r,o)=>n.runInContext(()=>e(r,c=>t(c,o)))}(d,m,this.injector),md)}const o=this.pendingTasks.add();return this.chain(r,c=>this.backend.handle(c)).pipe(Xo(()=>this.pendingTasks.remove(o)))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(pd),a.LFG(a.lqb))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const ZD=/^\)\]\}',?\n/;let t_=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new a.vHH(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?(0,Zn.D)(o.\u0275loadImpl()):(0,Mt.of)(null)).pipe((0,yr.w)(()=>new go.y(d=>{const m=o.build();if(m.open(r.method,r.urlWithParams),r.withCredentials&&(m.withCredentials=!0),r.headers.forEach((He,rt)=>m.setRequestHeader(He,rt.join(","))),r.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const He=r.detectContentTypeHeader();null!==He&&m.setRequestHeader("Content-Type",He)}if(r.responseType){const He=r.responseType.toLowerCase();m.responseType="json"!==He?He:"text"}const y=r.serializeBody();let w=null;const T=()=>{if(null!==w)return w;const He=m.statusText||"OK",rt=new _o(m.getAllResponseHeaders()),bt=function IM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(m)||r.url;return w=new Xy({headers:rt,status:m.status,statusText:He,url:bt}),w},R=()=>{let{headers:He,status:rt,statusText:bt,url:ft}=T(),ot=null;204!==rt&&(ot=typeof m.response>"u"?m.responseText:m.response),0===rt&&(rt=ot?200:0);let Ot=rt>=200&&rt<300;if("json"===r.responseType&&"string"==typeof ot){const xn=ot;ot=ot.replace(ZD,"");try{ot=""!==ot?JSON.parse(ot):null}catch(ci){ot=xn,Ot&&(Ot=!1,ot={error:ci,text:ot})}}Ot?(d.next(new gd({body:ot,headers:He,status:rt,statusText:bt,url:ft||void 0})),d.complete()):d.error(new _0({error:ot,headers:He,status:rt,statusText:bt,url:ft||void 0}))},Q=He=>{const{url:rt}=T(),bt=new _0({error:He,status:m.status||0,statusText:m.statusText||"Unknown Error",url:rt||void 0});d.error(bt)};let ie=!1;const Me=He=>{ie||(d.next(T()),ie=!0);let rt={type:qc.DownloadProgress,loaded:He.loaded};He.lengthComputable&&(rt.total=He.total),"text"===r.responseType&&m.responseText&&(rt.partialText=m.responseText),d.next(rt)},$e=He=>{let rt={type:qc.UploadProgress,loaded:He.loaded};He.lengthComputable&&(rt.total=He.total),d.next(rt)};return m.addEventListener("load",R),m.addEventListener("error",Q),m.addEventListener("timeout",Q),m.addEventListener("abort",Q),r.reportProgress&&(m.addEventListener("progress",Me),null!==y&&m.upload&&m.upload.addEventListener("progress",$e)),m.send(y),d.next({type:qc.Sent}),()=>{m.removeEventListener("error",Q),m.removeEventListener("abort",Q),m.removeEventListener("load",R),m.removeEventListener("timeout",Q),r.reportProgress&&(m.removeEventListener("progress",Me),null!==y&&m.upload&&m.upload.removeEventListener("progress",$e)),m.readyState!==m.DONE&&m.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(lo))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();const b0=new a.OlP("XSRF_ENABLED"),w0=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zD=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class s1{}let n_=(()=>{var t;class e{constructor(r,o,c){this.doc=r,this.platform=o,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Je(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W),a.LFG(a.Lbi),a.LFG(w0))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})();function Wa(t,e){const n=t.url.toLowerCase();if(!(0,a.f3M)(b0)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=(0,a.f3M)(s1).getToken(),o=(0,a.f3M)(zD);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t)}var Bl=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Bl||{});function Zh(t,e){return{\u0275kind:t,\u0275providers:e}}function Ci(...t){const e=[ag,t_,e_,{provide:Vl,useExisting:e_},{provide:pd,useExisting:t_},{provide:ug,useValue:Wa,multi:!0},{provide:b0,useValue:!0},{provide:s1,useClass:n_}];for(const n of t)e.push(...n.\u0275providers);return(0,a.MR2)(e)}const C0=new a.OlP("LEGACY_INTERCEPTOR_FN");let c1=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[Ci(Zh(Bl.LegacyInterceptors,[{provide:C0,useFactory:VD},{provide:ug,useExisting:C0,multi:!0}]))]}),e})(),Lo=(()=>{var t;class e{constructor(r,o){this.document=r,this.platformId=o,this.documentIsAccessible=function mc(t){return t===Ni}(this.platformId)}static getCookieRegExp(r){const o=r.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+o+"|;\\s*"+o+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(r){try{return decodeURIComponent(r)}catch{return r}}check(r){return!!this.documentIsAccessible&&(r=encodeURIComponent(r),e.getCookieRegExp(r).test(this.document.cookie))}get(r){if(this.documentIsAccessible&&this.check(r)){r=encodeURIComponent(r);const c=e.getCookieRegExp(r).exec(this.document.cookie);return c[1]?e.safeDecodeURIComponent(c[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const r={},o=this.document;return o.cookie&&""!==o.cookie&&o.cookie.split(";").forEach(c=>{const[d,m]=c.split("=");r[e.safeDecodeURIComponent(d.replace(/^ /,""))]=e.safeDecodeURIComponent(m)}),r}set(r,o,c,d,m,y,w){if(!this.documentIsAccessible)return;if("number"==typeof c||c instanceof Date||d||m||y||w)return void this.set(r,o,{expires:c,path:d,domain:m,secure:y,sameSite:w||"Lax"});let T=encodeURIComponent(r)+"="+encodeURIComponent(o)+";";const R=c||{};R.expires&&(T+="number"==typeof R.expires?"expires="+new Date((new Date).getTime()+1e3*R.expires*60*60*24).toUTCString()+";":"expires="+R.expires.toUTCString()+";"),R.path&&(T+="path="+R.path+";"),R.domain&&(T+="domain="+R.domain+";"),!1===R.secure&&"None"===R.sameSite&&(R.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${r} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),R.secure&&(T+="secure;"),R.sameSite||(R.sameSite="Lax"),T+="sameSite="+R.sameSite+";",this.document.cookie=T}delete(r,o,c,d,m="Lax"){this.documentIsAccessible&&this.set(r,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:o,domain:c,secure:d,sameSite:m})}deleteAll(r,o,c,d="Lax"){if(!this.documentIsAccessible)return;const m=this.getAll();for(const y in m)m.hasOwnProperty(y)&&this.delete(y,r,o,c,d)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(W),a.LFG(a.Lbi))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var u1=P(6321),xi=P(2793);function vd(){return(0,Qi.e)((t,e)=>{let n,r=!1;t.subscribe((0,yi.x)(e,o=>{const c=n;n=o,r&&e.next([c,o]),r=!0}))})}var mt,d1=P(3997),ta=P(6304),qh=(P(8977),P(3399)),yd=P(7592),dg=P(4537),Wc=P(7879),Pn=P(9058),QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},na={},E0=E0||{},Xt=QD||self;function I0(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function D0(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var T0="closure_uid_"+(1e9*Math.random()>>>0),f1=0;function OM(t,e,n){return t.call.apply(t.bind,arguments)}function S0(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function bo(t,e,n){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OM:S0).apply(null,arguments)}function hg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ni(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function jl(){this.s=this.s,this.o=this.o}jl.prototype.s=!1,jl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function PM(t){Object.prototype.hasOwnProperty.call(t,T0)&&t[T0]||(t[T0]=++f1)}(this)},jl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wt(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function i_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(I0(r)){const o=t.length||0,c=r.length||0;t.length=o+c;for(let d=0;d<c;d++)t[o+d]=r[d]}else t.push(r)}}function Vi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vi.prototype.h=function(){this.defaultPrevented=!0};var Gh=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xt.addEventListener("test",()=>{},e),Xt.removeEventListener("test",()=>{},e)}catch{}return t}();function Wh(t){return/^[\s\xa0]*$/.test(t)}function A0(){var t=Xt.navigator;return t&&(t=t.userAgent)?t:""}function rs(t){return-1!=A0().indexOf(t)}function Hl(t){return Hl[" "](t),t}Hl[" "]=function(){};var s_,t,fg=rs("Opera"),_d=rs("Trident")||rs("MSIE"),M0=rs("Edge"),pg=M0||_d,P0=rs("Gecko")&&!(-1!=A0().toLowerCase().indexOf("webkit")&&!rs("Edge"))&&!(rs("Trident")||rs("MSIE"))&&!rs("Edge"),g1=-1!=A0().toLowerCase().indexOf("webkit")&&!rs("Edge");function O0(){var t=Xt.document;return t?t.documentMode:void 0}e:{var a_="",c_=(t=A0(),P0?/rv:([^\);]+)(\)|;)/.exec(t):M0?/Edge\/([\d\.]+)/.exec(t):_d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):g1?/WebKit\/(\S+)/.exec(t):fg?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(c_&&(a_=c_?c_[1]:""),_d){var N0=O0();if(null!=N0&&N0>parseFloat(a_)){s_=String(N0);break e}}s_=a_}var XD=Xt.document&&_d&&(O0()||parseInt(s_,10))||void 0;function gg(t,e){if(Vi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(P0){e:{try{Hl(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:v1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gg.$.h.call(this)}}ni(gg,Vi);var v1={2:"touch",3:"pen",4:"mouse"};gg.prototype.h=function(){gg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),eT=0;function tT(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++eT,this.fa=this.ia=!1}function eo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function u_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rT(t){const e={};for(const n in t)e[n]=t[n];return e}const R0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d_(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let c=0;c<R0.length;c++)n=R0[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function k0(t){this.src=t,this.g={},this.h=0}function h_(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],o=r_(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(eo(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function f_(t,e,n,r){for(var o=0;o<t.length;++o){var c=t[o];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return o}return-1}k0.prototype.add=function(t,e,n,r,o){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var d=f_(t,e,r,o);return-1<d?(e=t[d],n||(e.ia=!1)):((e=new tT(e,this.src,c,!!r,o)).ia=n,t.push(e)),e};var F0="closure_lm_"+(1e6*Math.random()|0),p_={};function y1(t,e,n,r,o){if(r&&r.once)return _1(t,e,n,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)y1(t,e[c],n,r,o);return null}return n=U0(n),t&&t[Kh]?t.O(e,n,D0(r)?!!r.capture:!!r,o):L0(t,e,n,!1,r,o)}function L0(t,e,n,r,o,c){if(!e)throw Error("Invalid event type");var d=D0(o)?!!o.capture:!!o,m=mg(t);if(m||(t[F0]=m=new k0(t)),(n=m.add(e,n,r,d,c)).proxy)return n;if(r=function iT(){const e=Ka;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gh||(o=d),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(w1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _1(t,e,n,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)_1(t,e[c],n,r,o);return null}return n=U0(n),t&&t[Kh]?t.P(e,n,D0(r)?!!r.capture:!!r,o):L0(t,e,n,!0,r,o)}function b1(t,e,n,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)b1(t,e[c],n,r,o);else r=D0(r)?!!r.capture:!!r,n=U0(n),t&&t[Kh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=f_(c=t.g[e],n,r,o))&&(eo(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=mg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=f_(e,n,r,o)),(n=-1<t?e[t]:null)&&g_(n))}function g_(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Kh])h_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mg(e))?(h_(n,t),0==n.h&&(n.src=null,e[F0]=null)):eo(t)}}}function w1(t){return t in p_?p_[t]:p_[t]="on"+t}function Ka(t,e){if(t.fa)t=!0;else{e=new gg(e,this);var n=t.listener,r=t.la||t.src;t.ia&&g_(t),t=n.call(r,e)}return t}function mg(t){return(t=t[F0])instanceof k0?t:null}var m_="__closure_events_fn_"+(1e9*Math.random()>>>0);function U0(t){return"function"==typeof t?t:(t[m_]||(t[m_]=function(e){return t.handleEvent(e)}),t[m_])}function Ei(){jl.call(this),this.i=new k0(this),this.S=this,this.J=null}function Ii(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Vi(e,t);else if(e instanceof Vi)e.target=e.target||t;else{var o=e;d_(e=new Vi(r,t),o)}if(o=!0,n)for(var c=n.length-1;0<=c;c--){var d=e.g=n[c];o=vg(d,r,!0,e)&&o}if(o=vg(d=e.g=t,r,!0,e)&&o,o=vg(d,r,!1,e)&&o,n)for(c=0;c<n.length;c++)o=vg(d=e.g=n[c],r,!1,e)&&o}function vg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==n){var m=d.listener,y=d.la||d.src;d.ia&&h_(t.i,d),o=!1!==m.call(y,r)&&o}}return o&&!r.defaultPrevented}ni(Ei,jl),Ei.prototype[Kh]=!0,Ei.prototype.removeEventListener=function(t,e,n,r){b1(this,t,e,n,r)},Ei.prototype.N=function(){if(Ei.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eo(n[r]);delete t.g[e],t.h--}}this.J=null},Ei.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ei.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Yh=Xt.JSON.stringify;function NM(){var t=b_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var y_=new class v_{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x1,t=>t.reset());class x1{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function E1(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function __(t){Xt.setTimeout(()=>{throw t},0)}let is,yg=!1,b_=new class C1{constructor(){this.h=this.g=null}add(e,n){const r=y_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},V0=()=>{const t=Xt.Promise.resolve(void 0);is=()=>{t.then(oT)}};var oT=()=>{for(var t;t=NM();){try{t.h.call(t.g)}catch(n){__(n)}var e=y_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yg=!1};function _g(t,e){Ei.call(this),this.h=t||1,this.g=e||Xt,this.j=bo(this.qb,this),this.l=Date.now()}function w_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Jh(t,e,n){if("function"==typeof t)n&&(t=bo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xt.setTimeout(t,e||0)}function Qh(t){t.g=Jh(()=>{t.g=null,t.i&&(t.i=!1,Qh(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ni(_g,Ei),(mt=_g.prototype).ga=!1,mt.T=null,mt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(w_(this),this.start()))}},mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.N=function(){_g.$.N.call(this),w_(this),delete this.g};class I1 extends jl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qh(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(t){jl.call(this),this.h=t,this.g={}}ni(Zl,jl);var sT=[];function D1(t,e,n,r){Array.isArray(n)||(n&&(sT[0]=n.toString()),n=sT);for(var o=0;o<n.length;o++){var c=y1(e,n[o],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function C_(t){u_(t.g,function(e,n){this.g.hasOwnProperty(n)&&g_(e)},t),t.g={}}function bg(){this.g=!0}function bd(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wg(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<o.length;d++)o[d]=""}}}return Yh(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Zl.prototype.N=function(){Zl.$.N.call(this),C_(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bg.prototype.Ea=function(){this.g=!1},bg.prototype.info=function(){};var wd={},x_=null;function Cg(){return x_=x_||new Ei}function S1(t){Vi.call(this,wd.Ta,t)}function xg(t){const e=Cg();Ii(e,new S1(e))}function Xh(t,e){Vi.call(this,wd.STAT_EVENT,t),this.stat=e}function wo(t){const e=Cg();Ii(e,new Xh(e,t))}function A1(t,e){Vi.call(this,wd.Ua,t),this.size=e}function Eg(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){t()},e)}wd.Ta="serverreachability",ni(S1,Vi),wd.STAT_EVENT="statevent",ni(Xh,Vi),wd.Ua="timingevent",ni(A1,Vi);var B0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},M1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function E_(){}function O1(){}E_.prototype.h=null;var tf,ef={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ig(){Vi.call(this,"d")}function I_(){Vi.call(this,"c")}function j0(){}function Dg(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zl(this),this.P=lT,this.V=new _g(t=pg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N1}function N1(){this.i=null,this.g="",this.h=!1}ni(Ig,Vi),ni(I_,Vi),ni(j0,E_),j0.prototype.g=function(){return new XMLHttpRequest},j0.prototype.i=function(){return{}},tf=new j0;var lT=45e3,D_={},H0={};function T_(t,e,n){t.L=1,t.v=Kc(Os(e)),t.s=n,t.S=!0,S_(t,null)}function S_(t,e){t.G=Date.now(),nf(t),t.A=Os(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),F_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new N1,t.g=z_(t.l,n?e:null,!t.s),0<t.O&&(t.M=new I1(bo(t.Pa,t,t.g),t.O)),D1(t.U,t.g,"readystatechange",t.nb),e=t.I?rT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),xg(),function aT(t,e,n,r,o,c){t.info(function(){if(t.g)if(c)for(var d="",m=c.split("&"),y=0;y<m.length;y++){var w=m[y].split("=");if(1<w.length){var T=w[0];w=w[1];var R=T.split("_");d=2<=R.length&&"type"==R[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+d})}(t.j,t.u,t.A,t.m,t.W,t.s)}function A_(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function R1(t,e,n){let o,r=!0;for(;!t.J&&t.C<n.length;){if(o=RM(t,n),o==H0){4==e&&(t.o=4,wo(14),r=!1),bd(t.j,t.m,null,"[Incomplete Response]");break}if(o==D_){t.o=4,wo(15),bd(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}bd(t.j,t.m,o,null),O_(t,o)}A_(t)&&o!=H0&&o!=D_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Og(e),e.M=!0,wo(11))):(bd(t.j,t.m,n,"[Invalid Chunked Response]"),Cd(t),$l(t))}function RM(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?H0:(n=Number(e.substring(n,r)),isNaN(n)?D_:(r+=1)+n>e.length?H0:(e=e.slice(r,r+n),t.C=r+n,e))}function nf(t){t.Y=Date.now()+t.P,M_(t,t.P)}function M_(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Eg(bo(t.lb,t),e)}function P_(t){t.B&&(Xt.clearTimeout(t.B),t.B=null)}function $l(t){0==t.l.H||t.J||K1(t.l,t)}function Cd(t){P_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,w_(t.V),C_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function O_(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||U_(n.i,t)))if(!t.K&&U_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;K0(n),q0(n)}pf(n),wo(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&0==n.A&&!n.v&&(n.v=Eg(bo(n.ib,n),6e3));if(1>=V1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jc(n,11)}else if((t.K||n.g==t)&&K0(n),!Wh(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let w=o[e];if(n.V=w[0],w=w[1],2==n.H)if("c"==w[0]){n.K=w[1],n.pa=w[2];const T=w[3];null!=T&&(n.ra=T,n.l.info("VER="+n.ra));const R=w[4];null!=R&&(n.Ga=R,n.l.info("SVER="+n.Ga));const Q=w[5];null!=Q&&"number"==typeof Q&&0<Q&&(n.L=r=1.5*Q,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const ie=t.g;if(ie){const Me=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Me){var c=r.i;c.g||-1==Me.indexOf("spdy")&&-1==Me.indexOf("quic")&&-1==Me.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(B1(c,c.h),c.h=null))}if(r.F){const $e=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(r.Da=$e,kn(r.I,r.F,$e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=t;if((r=n).wa=$_(r,r.J?r.pa:null,r.Y),d.K){j1(r.i,d);var m=d,y=r.L;y&&m.setTimeout(y),m.B&&(P_(m),nf(m)),r.g=d}else Pg(r);0<n.j.length&&G0(n)}else"stop"!=w[0]&&"close"!=w[0]||Jc(n,7);else 3==n.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Jc(n,7):z0(n):"noop"!=w[0]&&n.h&&n.h.Aa(w),n.A=0)}xg()}catch{}}function ra(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(I0(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function uT(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(I0(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function N_(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(I0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],n&&n[c],t)}(mt=Dg.prototype).setTimeout=function(t){this.P=t},mt.nb=function(t){t=t.target;const e=this.M;e&&3==Ns(t)?e.l():this.Pa(t)},mt.Pa=function(t){try{if(t==this.g)e:{const T=Ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||pg||this.g&&(this.h.h||this.g.ja()||$1(this.g)))){this.J||4!=T||7==e||xg(),P_(this);var n=this.g.da();this.ca=n;t:if(A_(this)){var r=$1(this.g);t="";var o=r.length,c=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cd(this),$l(this);var d="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==n,function cT(t,e,n,r,o,c,d){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,T,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,y=this.g;if((m=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wh(m)){var w=m;break t}}w=null}if(!(n=w)){this.i=!1,this.o=3,wo(12),Cd(this),$l(this);break e}bd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O_(this,n)}this.S?(R1(this,T,d),pg&&this.i&&3==T&&(D1(this.U,this.V,"tick",this.mb),this.V.start())):(bd(this.j,this.m,d,null),O_(this,d)),4==T&&Cd(this),this.i&&!this.J&&(4==T?K1(this.l,this):(this.i=!1,nf(this)))}else(function z1(t){const e={};t=(t.g&&2<=Ns(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Wh(t[r]))continue;var n=E1(t[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[o]||[];e[o]=c,c.push(n)}!function nT(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<d.indexOf("Unknown SID")?(this.o=3,wo(12)):(this.o=0,wo(13)),Cd(this),$l(this)}}}catch{}},mt.mb=function(){if(this.g){var t=Ns(this.g),e=this.g.ja();this.C<e.length&&(P_(this),R1(this,t,e),this.i&&4!=t&&nf(this))}},mt.cancel=function(){this.J=!0,Cd(this)},mt.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function T1(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xg(),wo(17)),Cd(this),this.o=2,$l(this)):M_(this,this.Y-t)};var rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof os){this.h=t.h,Co(this,t.j),this.s=t.s,this.g=t.g,sf(this,t.m),this.l=t.l;var e=t.i,n=new uf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xd(this,n),this.o=t.o}else t&&(e=String(t).match(rf))?(this.h=!1,Co(this,e[1]||"",!0),this.s=Ya(e[2]||""),this.g=Ya(e[3]||"",!0),sf(this,e[4]),this.l=Ya(e[5]||"",!0),xd(this,e[6]||"",!0),this.o=Ya(e[7]||"")):(this.h=!1,this.i=new uf(null,this.h))}function Os(t){return new os(t)}function Co(t,e,n){t.j=n?Ya(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xd(t,e,n){e instanceof uf?(t.i=e,function L1(t,e){e&&!t.j&&(Yc(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(R_(this,r),F_(this,o,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ja(e,k1)),t.i=new uf(e,t.h))}function kn(t,e,n){t.i.set(e,n)}function Kc(t){return kn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ya(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ja(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,af),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function af(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ja(e,Ed,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ja(e,Ed,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ja(n,"/"==n.charAt(0)?lf:cf,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ja(n,F1)),t.join("")};var Ed=/[#\/\?@]/g,cf=/[#\?:]/g,lf=/[#\?]/g,k1=/[#\?@]/g,F1=/#/g;function uf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yc(t){t.g||(t.g=new Map,t.h=0,t.i&&function to(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var c=t[n].substring(0,r);o=t[n].substring(r+1)}else c=t[n];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R_(t,e){Yc(t),e=Id(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function k_(t,e){return Yc(t),e=Id(t,e),t.g.has(e)}function F_(t,e,n){R_(t,e),0<n.length&&(t.i=null,t.g.set(Id(t,e),Wt(n)),t.h+=n.length)}function Id(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function U1(t){this.l=t||kM,t=Xt.PerformanceNavigationTiming?0<(t=Xt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=uf.prototype).add=function(t,e){Yc(this),this.i=null,t=Id(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},mt.forEach=function(t,e){Yc(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)},mt.ta=function(){Yc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let c=0;c<o.length;c++)n.push(e[r])}return n},mt.Z=function(t){Yc(this);let e=[];if("string"==typeof t)k_(this,t)&&(e=e.concat(this.g.get(Id(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},mt.set=function(t,e){return Yc(this),this.i=null,k_(this,t=Id(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},mt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=c;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),t.push(o)}}return this.i=t.join("&")};var kM=10;function dT(t){return!!t.h||!!t.g&&t.g.size>=t.j}function V1(t){return t.h?1:t.g?t.g.size:0}function U_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function B1(t,e){t.g?t.g.add(e):t.h=e}function j1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hT(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Wt(t.i)}U1.prototype.cancel=function(){if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var fT=class{stringify(t){return Xt.JSON.stringify(t,void 0)}parse(t){return Xt.JSON.parse(t,void 0)}};function pT(){this.g=new fT}function gT(t,e,n){const r=n||"";try{ra(t,function(o,c){let d=o;D0(o)&&(d=Yh(o)),e.push(r+c+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function zl(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Dd(t){this.l=t.fc||null,this.j=t.ob||!1}function Td(t,e){Ei.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Z0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ni(Dd,E_),Dd.prototype.g=function(){return new Td(this.l,this.j)},Dd.prototype.i=function(t){return function(){return t}}({}),ni(Td,Ei);var Z0=0;function df(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function hf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tg(t)}function Tg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(mt=Td.prototype).open=function(t,e){if(this.readyState!=Z0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tg(this)},mt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hf(this)),this.readyState=Z0},mt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tg(this)),this.g&&(this.readyState=3,Tg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;df(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},mt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hf(this):Tg(this),3==this.readyState&&df(this)}},mt.Za=function(t){this.g&&(this.response=this.responseText=t,hf(this))},mt.Ya=function(t){this.g&&(this.response=t,hf(this))},mt.ka=function(){this.g&&hf(this)},mt.setRequestHeader=function(t,e){this.v.append(t,e)},mt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sg=Xt.JSON.parse;function wr(t){Ei.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H1,this.L=this.M=!1}ni(wr,Ei);var H1="",mT=/^https?$/i,vT=["POST","PUT"];function Ag(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Mg(t),$0(t)}function Mg(t){t.F||(t.F=!0,Ii(t,"complete"),Ii(t,"error"))}function yT(t){if(t.h&&typeof E0<"u"&&(!t.C[1]||4!=Ns(t)||2!=t.da()))if(t.v&&4==Ns(t))Jh(t.La,0,t);else if(Ii(t,"readystatechange"),4==Ns(t)){t.h=!1;try{const d=t.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===d){var o=String(t.I).match(rf)[1]||null;!o&&Xt.self&&Xt.self.location&&(o=Xt.self.location.protocol.slice(0,-1)),r=!mT.test(o?o.toLowerCase():"")}n=r}if(n)Ii(t,"complete"),Ii(t,"success");else{t.m=6;try{var c=2<Ns(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",Mg(t)}}finally{$0(t)}}}function $0(t,e){if(t.g){Z1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ii(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xt.clearTimeout(t.A),t.A=null)}function Ns(t){return t.g?t.g.readyState:0}function $1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q1(t){let e="";return u_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function j_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=q1(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):kn(t,e,n))}function ff(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function H_(t){this.Ga=0,this.j=[],this.l=new bg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ff("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ff("baseRetryDelayMs",5e3,t),this.hb=ff("retryDelaySeedMs",1e4,t),this.eb=ff("forwardChannelMaxRetries",2,t),this.xa=ff("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new U1(t&&t.concurrentRequestLimit),this.Ja=new pT,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function z0(t){if(G1(t),3==t.H){var e=t.W++,n=Os(t.I);if(kn(n,"SID",t.K),kn(n,"RID",e),kn(n,"TYPE","terminate"),Sd(t,n),(e=new Dg(t,t.l,e)).L=2,e.v=Kc(Os(n)),n=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{n=Xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Xt.Image&&((new Image).src=e.v,n=!0),n||(e.g=z_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nf(e)}Y0(t)}function q0(t){t.g&&(Og(t),t.g.cancel(),t.g=null)}function G1(t){q0(t),t.u&&(Xt.clearTimeout(t.u),t.u=null),K0(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Xt.clearTimeout(t.m),t.m=null)}function G0(t){if(!dT(t.i)&&!t.m){t.m=!0;var e=t.Na;is||V0(),yg||(is(),yg=!0),b_.add(e,t),t.C=0}}function W0(t,e){var n;n=e?e.m:t.W++;const r=Os(t.I);kn(r,"SID",t.K),kn(r,"RID",n),kn(r,"AID",t.V),Sd(t,r),t.o&&t.s&&j_(r,t.o,t.s),n=new Dg(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=W1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),B1(t.i,n),T_(n,r,e)}function Sd(t,e){t.na&&u_(t.na,function(n,r){kn(e,r,n)}),t.h&&ra({},function(n,r){kn(e,r,n)})}function W1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bo(t.h.Va,t.h,t):null;e:{var o=t.j;let c=-1;for(;;){const d=["count="+n];-1==c?0<n?(c=o[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let y=0;y<n;y++){let w=o[y].g;const T=o[y].map;if(w-=c,0>w)c=Math.max(0,o[y].g-100),m=!1;else try{gT(T,d,"req"+w+"_")}catch{r&&r(T)}}if(m){r=d.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Pg(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;is||V0(),yg||(is(),yg=!0),b_.add(e,t),t.A=0}}function pf(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Eg(bo(t.Ma,t),Y1(t,t.A)),t.A++,0))}function Og(t){null!=t.B&&(Xt.clearTimeout(t.B),t.B=null)}function Z_(t){t.g=new Dg(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Os(t.wa);kn(e,"RID","rpc"),kn(e,"SID",t.K),kn(e,"AID",t.V),kn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&kn(e,"TO",t.qa),kn(e,"TYPE","xmlhttp"),Sd(t,e),t.o&&t.s&&j_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Kc(Os(e)),n.s=null,n.S=!0,S_(n,t)}function K0(t){null!=t.v&&(Xt.clearTimeout(t.v),t.v=null)}function K1(t,e){var n=null;if(t.g==e){K0(t),Og(t),t.g=null;var r=2}else{if(!U_(t.i,e))return;n=e.F,j1(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;Ii(r=Cg(),new A1(r,n)),G0(t)}else Pg(t);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function _T(t,e){return!(V1(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Eg(bo(t.Na,t,e),Y1(t,t.C)),t.C++,0)))}(t,e)||2==r&&pf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Jc(t,5);break;case 4:Jc(t,10);break;case 3:Jc(t,6);break;default:Jc(t,2)}}function Y1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Jc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=bo(t.pb,t);n||(n=new os("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||Co(n,"https"),Kc(n)),function V_(t,e){const n=new bg;if(Xt.Image){const r=new Image;r.onload=hg(zl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hg(zl,n,r,"TestLoadImage: error",!1,e),r.onabort=hg(zl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hg(zl,n,r,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wo(2);t.H=0,t.h&&t.h.za(e),Y0(t),G1(t)}function Y0(t){if(t.H=0,t.ma=[],t.h){const e=hT(t.i);(0!=e.length||0!=t.j.length)&&(i_(t.ma,e),i_(t.ma,t.j),t.i.i.length=0,Wt(t.j),t.j.length=0),t.h.ya()}}function $_(t,e,n){var r=n instanceof os?Os(n):new os(n);if(""!=r.g)e&&(r.g=e+"."+r.g),sf(r,r.m);else{var o=Xt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new os(null);r&&Co(c,r),e&&(c.g=e),o&&sf(c,o),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&kn(r,n,e),kn(r,"VER",t.ra),Sd(t,r),r}function z_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(n&&t.Ha&&!t.va?new Dd({ob:!0}):t.va)).Oa(t.J),e}function J1(){}function J0(){if(_d&&!(10<=Number(XD)))throw Error("Environmental error: no available transport.")}function Uo(t,e){Ei.call(this),this.g=new H_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ql(this)}function Q0(t){Ig.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function q_(){I_.call(this),this.status=1}function ql(t){this.g=t}function ia(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function X0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],d=(e=t.g[0])+(c^(n=t.g[1])&((o=t.g[2])^c))+r[0]+3614090360&4294967295;d=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=n+(d<<7&4294967295|d>>>25))+((d=c+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^o&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(o^c))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^o&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(o^c))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^o&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^n&(o^c))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=n+(e^o&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^c&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(o^c))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(o^c))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(o^c))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=n+(c^e&(o^c))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(n^o^c)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=n+(o^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^o^c)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=n+(o^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^o^c)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=n+(o^c^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(n^o^c)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=n+(o^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=n+(c^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=n+((d=e+(o^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=c+((d=o+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+c&4294967295}function Fn(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var c=0|t[o];r&&c==e||(n[o]=c,r=!1)}this.g=n}(mt=wr.prototype).Oa=function(t){this.M=t},mt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tf.g(),this.C=function P1(t){return t.h||(t.h=t.i())}(this.u?this.u:tf),this.g.onreadystatechange=bo(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void Ag(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),o=Xt.FormData&&t instanceof Xt.FormData,!(0<=r_(vT,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of n)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z1(this),0<this.B&&((this.L=function B_(t){return _d&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bo(this.ua,this)):this.A=Jh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){Ag(this,c)}},mt.ua=function(){typeof E0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))},mt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ii(this,"complete"),Ii(this,"abort"),$0(this))},mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$0(this,!0)),wr.$.N.call(this)},mt.La=function(){this.s||(this.G||this.v||this.l?yT(this):this.kb())},mt.kb=function(){yT(this)},mt.isActive=function(){return!!this.g},mt.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sg(e)}},mt.Ia=function(){return this.m},mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=H_.prototype).ra=8,mt.H=1,mt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Dg(this,this.l,t);let c=this.s;if(this.U&&(c?(c=rT(c),d_(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=W1(this,o,e),kn(n=Os(this.I),"RID",t),kn(n,"CVER",22),this.F&&kn(n,"X-HTTP-Session-Id",this.F),Sd(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(q1(c)))+"&"+e:this.o&&j_(n,this.o,c)),B1(this.i,o),this.bb&&kn(n,"TYPE","init"),this.P?(kn(n,"$req",e),kn(n,"SID","null"),o.aa=!0,T_(o,n,null)):T_(o,n,e),this.H=2}}else 3==this.H&&(t?W0(this,t):0==this.j.length||dT(this.i)||W0(this))},mt.Ma=function(){if(this.u=null,Z_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Eg(bo(this.jb,this),t)}},mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wo(10),q0(this),Z_(this))},mt.ib=function(){null!=this.v&&(this.v=null,q0(this),pf(this),wo(19))},mt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wo(2)):(this.l.info("Failed to ping google.com"),wo(1))},mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(mt=J1.prototype).Ba=function(){},mt.Aa=function(){},mt.za=function(){},mt.ya=function(){},mt.isActive=function(){return!0},mt.Va=function(){},J0.prototype.g=function(t,e){return new Uo(t,e)},ni(Uo,Ei),Uo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wo(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=$_(t,null,t.Y),G0(t)},Uo.prototype.close=function(){z0(this.g)},Uo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Yh(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&G0(e)},Uo.prototype.N=function(){this.g.h=null,delete this.j,z0(this.g),delete this.g,Uo.$.N.call(this)},ni(Q0,Ig),ni(q_,I_),ni(ql,J1),ql.prototype.Ba=function(){Ii(this.g,"a")},ql.prototype.Aa=function(t){Ii(this.g,new Q0(t))},ql.prototype.za=function(t){Ii(this.g,new q_)},ql.prototype.ya=function(){Ii(this.g,"b")},ni(ia,function Q1(){this.blockSize=-1}),ia.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ia.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=n;)X0(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[o++]=t.charCodeAt(c++),o==this.blockSize){X0(this,r),o=0;break}}else for(;c<e;)if(r[o++]=t[c++],o==this.blockSize){X0(this,r),o=0;break}}this.h=o,this.i+=e},ia.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var X1={};function ev(t){return-128<=t&&128>t?function o_(t,e){var n=X1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Fn([0|e],0>e?-1:0)}):new Fn([0|t],0>t?-1:0)}function Qa(t){if(isNaN(t)||!isFinite(t))return Ad;if(0>t)return Di(Qa(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=G_;return new Fn(e,0)}var G_=4294967296,Ad=ev(0),Ng=ev(1),W_=ev(16777216);function Xa(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ss(t){return-1==t.h}function Di(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fn(n,~t.h).add(Ng)}function Rg(t,e){return t.add(Di(e))}function kg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gf(t,e){this.g=t,this.h=e}function Fg(t,e){if(Xa(e))throw Error("division by zero");if(Xa(t))return new gf(Ad,Ad);if(ss(t))return e=Fg(Di(t),e),new gf(Di(e.g),Di(e.h));if(ss(e))return e=Fg(t,Di(e)),new gf(Di(e.g),e.h);if(30<t.g.length){if(ss(t)||ss(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ng,r=e;0>=r.X(t);)n=Lg(n),r=Lg(r);var o=as(n,1),c=as(r,1);for(r=as(r,2),n=as(n,2);!Xa(r);){var d=c.add(r);0>=d.X(t)&&(o=o.add(n),c=d),r=as(r,1),n=as(n,1)}return e=Rg(t,o.R(e)),new gf(o,e)}for(o=Ad;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),d=(c=Qa(n)).R(e);ss(d)||0<d.X(t);)d=(c=Qa(n-=r)).R(e);Xa(c)&&(c=Ng),o=o.add(c),t=Rg(t,d)}return new gf(o,t)}function Lg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fn(n,t.h)}function as(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],c=0;c<r;c++)o[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new Fn(o,t.h)}(mt=Fn.prototype).ea=function(){if(ss(this))return-Di(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:G_+r)*e,e*=G_}return t},mt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Xa(this))return"0";if(ss(this))return"-"+Di(this).toString(t);for(var e=Qa(Math.pow(t,6)),n=this,r="";;){var o=Fg(n,e).g,c=((0<(n=Rg(n,o.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Xa(n=o))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},mt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},mt.X=function(t){return ss(t=Rg(this,t))?-1:Xa(t)?0:1},mt.abs=function(){return ss(this)?Di(this):this},mt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var c=r+(65535&this.D(o))+(65535&t.D(o)),d=(c>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=d>>>16,n[o]=(d&=65535)<<16|(c&=65535)}return new Fn(n,-2147483648&n[n.length-1]?-1:0)},mt.R=function(t){if(Xa(this)||Xa(t))return Ad;if(ss(this))return ss(t)?Di(this).R(Di(t)):Di(Di(this).R(t));if(ss(t))return Di(this.R(Di(t)));if(0>this.X(W_)&&0>t.X(W_))return Qa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var c=this.D(r)>>>16,d=65535&this.D(r),m=t.D(o)>>>16,y=65535&t.D(o);n[2*r+2*o]+=d*y,kg(n,2*r+2*o),n[2*r+2*o+1]+=c*y,kg(n,2*r+2*o+1),n[2*r+2*o+1]+=d*m,kg(n,2*r+2*o+1),n[2*r+2*o+2]+=c*m,kg(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fn(n,0)},mt.gb=function(t){return Fg(this,t).h},mt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fn(n,this.h&t.h)},mt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fn(n,this.h|t.h)},mt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fn(n,this.h^t.h)},J0.prototype.createWebChannel=J0.prototype.g,Uo.prototype.send=Uo.prototype.u,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,B0.NO_ERROR=0,B0.TIMEOUT=8,B0.HTTP_ERROR=6,M1.COMPLETE="complete",O1.EventType=ef,ef.OPEN="a",ef.CLOSE="b",ef.ERROR="c",ef.MESSAGE="d",Ei.prototype.listen=Ei.prototype.O,wr.prototype.listenOnce=wr.prototype.P,wr.prototype.getLastError=wr.prototype.Sa,wr.prototype.getLastErrorCode=wr.prototype.Ia,wr.prototype.getStatus=wr.prototype.da,wr.prototype.getResponseJson=wr.prototype.Wa,wr.prototype.getResponseText=wr.prototype.ja,wr.prototype.send=wr.prototype.ha,wr.prototype.setWithCredentials=wr.prototype.Oa,ia.prototype.digest=ia.prototype.l,ia.prototype.reset=ia.prototype.reset,ia.prototype.update=ia.prototype.j,Fn.prototype.add=Fn.prototype.add,Fn.prototype.multiply=Fn.prototype.R,Fn.prototype.modulo=Fn.prototype.gb,Fn.prototype.compare=Fn.prototype.X,Fn.prototype.toNumber=Fn.prototype.ea,Fn.prototype.toString=Fn.prototype.toString,Fn.prototype.getBits=Fn.prototype.D,Fn.fromNumber=Qa,Fn.fromString=function ex(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Di(ex(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qa(Math.pow(e,8)),r=Ad,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),d=parseInt(t.substring(o,o+c),e);8>c?(c=Qa(Math.pow(e,c)),r=r.R(c).add(Qa(d))):r=(r=r.R(n)).add(Qa(d))}return r};var Q_,nx,$r,X_,rx,eb,ox,tb,nb,Pd,sx,ax,rb,cx,ib,xT,ob,tv,oa,lx,ux,sa,Rs,ks,sb,ab,dx,hx,fx,px,nv,vf,gx,cb,mx,vx,lb,ub,Vg,yx,db,hb,fb,bT=na.createWebChannelTransport=function(){return new J0},wT=na.getStatEventTarget=function(){return Cg()},Ug=na.ErrorCode=B0,Md=na.EventType=M1,K_=na.Event=wd,tx=na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y_=na.FetchXmlHttpFactory=Dd,J_=na.WebChannel=O1,FM=na.XhrIo=wr,CT=na.Md5=ia,mf=na.Integer=Fn;const _x="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let Gl="9.23.0";const aa=new Wc.Yd("@firebase/firestore");function Bg(){return aa.logLevel}function Qe(t,...e){if(aa.logLevel<=Wc.in.DEBUG){const n=e.map(rv);aa.debug(`Firestore (${Gl}): ${t}`,...n)}}function Cr(t,...e){if(aa.logLevel<=Wc.in.ERROR){const n=e.map(rv);aa.error(`Firestore (${Gl}): ${t}`,...n)}}function cs(t,...e){if(aa.logLevel<=Wc.in.WARN){const n=e.map(rv);aa.warn(`Firestore (${Gl}): ${t}`,...n)}}function rv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function _t(t="Unexpected state"){const e=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Dt(t,e){t||_t()}function pt(t,e){return t}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Pn.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class bx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ti.UNAUTHENTICATED))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TT{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let o=this.i;const c=w=>this.i!==o?(o=this.i,n(w)):Promise.resolve();let d=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ri,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const w=d;e.enqueueRetryable((0,De.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},y=w=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ri)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt("string"==typeof r.accessToken),new bx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new Ti(e)}}class ST{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class AT{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ST(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Qe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?o(c):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Dt("string"==typeof n.token),this.T=n.token,new wx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Cx{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=PT(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function yf(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}function gb(t){return t+"\0"}class rr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new rr(0,0))}static max(){return new St(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _f{constructor(e,n,r){void 0===n?n=0:n>e.length&&_t(),void 0===r?r=e.length-n:r>e.length-n&&_t(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===_f.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _f?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=e.get(o),d=n.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Cn extends _f{construct(e,n,r){return new Cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends _f{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ke(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ke(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new Ke(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Cn.fromString(e))}static fromName(e){return new ut(Cn.fromString(e).popFirst(5))}static empty(){return new ut(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Cn(e.slice()))}}class jg{constructor(e,n,r,o){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=o}}function iv(t){return t.fields.find(e=>2===e.kind)}function Wl(t){return t.fields.filter(e=>2!==e.kind)}jg.UNKNOWN_ID=-1;class ov{constructor(e,n){this.fieldPath=e,this.kind=n}}class ec{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ec(0,Fs.min())}}function NT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=St.fromTimestamp(1e9===r?new rr(n+1,0):new rr(n,r));return new Fs(o,ut.empty(),e)}function sv(t){return new Fs(t.readTime,t.key,-1)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(St.min(),ut.empty(),-1)}static max(){return new Fs(St.max(),ut.empty(),-1)}}function av(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ut.comparator(t.documentKey,e.documentKey),0!==n?n:Kt(t.largestBatchId,e.largestBatchId))}const mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ls(t){return(Q_=Q_||(0,De.Z)(function*(e){if(e.code!==Oe.FAILED_PRECONDITION||e.message!==mb)throw e;Qe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.reject(n)}static resolve(e){return new Ae((n,r)=>{n(e)})}static reject(e){return new Ae((n,r)=>{r(e)})}static waitFor(e){return new Ae((n,r)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&n()},y=>r(y))}),d=!0,c===o&&n()})}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next(o=>o?Ae.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(e,n){return new Ae((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const w=y;n(e[w]).next(T=>{d[w]=T,++m,m===c&&r(d)},T=>o(T))}})}static doWhile(e,n){return new Ae((r,o)=>{const c=()=>{!0===e()?n().next(()=>{c()},o):r()};c()})}}class cv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new ri,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Hg(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=uv(r.target.error);this.v.reject(new Hg(e,o))}}static open(e,n,r,o){try{return new cv(n,e.transaction(o,r))}catch(c){throw new Hg(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new lv(n)}}class ca{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===ca.S((0,Pn.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),zr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Pn.hl)())return!1;if(ca.C())return!0;const e=(0,Pn.z$)(),n=ca.S(e),r=0<n&&n<10,o=ca.N(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,De.Z)(function*(){return n.db||(Qe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,o)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{o(new Hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ke(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ke(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Hg(e,m))},c.onupgradeneeded=d=>{Qe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',d.oldVersion),n.V.O(d.target.result,c.transaction,d.oldVersion,n.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,o){var c=this;return(0,De.Z)(function*(){const d="readonly"===n;let m=0;for(;;){++m;try{c.db=yield c.$(e);const y=cv.open(c.db,e,d?"readonly":"readwrite",r),w=o(y).next(T=>(y.P(),T)).catch(T=>(y.abort(T),Ae.reject(T))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,T="FirebaseError"!==w.name&&m<3;if(Qe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bf{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return zr(this.L.delete())}}class Hg extends Ke{constructor(e,n){super(Oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function la(t){return"IndexedDbTransactionError"===t.name}class lv{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Qe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zr(r)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),zr(this.store.add(e))}get(e){return zr(this.store.get(e)).next(n=>(void 0===n&&(n=null),Qe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),zr(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),zr(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.W(o,(d,m)=>{c.push(m)}).next(()=>c)}{const o=this.store.getAll(r.range);return new Ae((c,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{c(m.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Ae((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,n){Qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const o=this.cursor(r);return this.W(o,(c,d,m)=>m.delete())}X(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.W(o,n)}Z(e){const n=this.cursor({});return new Ae((r,o)=>{n.onerror=c=>{const d=uv(c.target.error);o(d)},n.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,n){const r=[];return new Ae((o,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const y=new bf(m),w=n(m.primaryKey,m.value,y);if(w instanceof Ae){const T=w.catch(R=>(y.done(),Ae.reject(R)));r.push(T)}y.isDone?o():null===y.K?m.continue():m.continue(y.K)}}).next(()=>Ae.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function zr(t){return new Ae((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const o=uv(r.target.error);n(o)}})}let kT=!1;function uv(t){const e=ca.S((0,Pn.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kT||(kT=!0,setTimeout(()=>{throw r},0)),r}}return t}class Ex{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){n.task=null;try{Qe("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){la(r)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ls(r)}yield n.et(6e4)}))}}class FT{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,De.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let o=n,c=!0;return Ae.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Qe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});c=!1})).next(()=>n-o)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(o=>this.localStore.localDocuments.getNextDocuments(e,n,o,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,c)).next(m=>(Qe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,n,m))).next(()=>d.size)}))}rt(e,n){let r=e;return n.changes.forEach((o,c)=>{const d=sv(c);av(d,r)>0&&(r=d)}),new Fs(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Vo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function wf(t){return null==t}function Cf(t){return 0===t&&1/t==-1/0}function vb(t){return"number"==typeof t&&Number.isInteger(t)&&!Cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function no(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ix(e)),e=LT(t.get(n),e);return Ix(e)}function LT(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function Ix(t){return t+"\x01\x01"}function Bo(t){const e=t.length;if(Dt(e>=2),2===e)return Dt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Cn.emptyPath();const n=e-2,r=[];let o="";for(let c=0;c<e;){const d=t.indexOf("\x01",c);switch((d<0||d>n)&&_t(),t.charAt(d+1)){case"\x01":const m=t.substring(c,d);let y;0===o.length?y=m:(o+=m,y=o,o=""),r.push(y);break;case"\x10":o+=t.substring(c,d),o+="\0";break;case"\x11":o+=t.substring(c,d+1);break;default:_t()}c=d+2}return new Cn(r)}const Dx=["userId","batchId"];function dv(t,e){return[t,no(e)]}function Tx(t,e,n){return[t,no(e),n]}const hv={},Sx=["prefixPath","collectionGroup","readTime","documentId"],Ax=["prefixPath","collectionGroup","documentId"],Mx=["collectionGroup","readTime","prefixPath","documentId"],UT=["canonicalId","targetId"],Zg=["targetId","path"],$g=["path","targetId"],VT=["collectionId","parent"],BT=["indexId","uid"],jT=["uid","sequenceNumber"],Px=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ox=["indexId","uid","orderedDocumentKey"],Nx=["userId","collectionPath","documentId"],HT=["userId","collectionPath","largestBatchId"],Rx=["userId","collectionGroup","largestBatchId"],kx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZT=[...kx,"documentOverlays"],$T=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zT=$T,UM=[...zT,"indexConfiguration","indexState","indexEntries"];class Fx extends RT{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function ii(t,e){const n=pt(t);return ca.M(n.ht,e)}function zg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Wn{constructor(e,n){this.comparator=e,this.root=n||Bi.EMPTY}insert(e,n){return new Wn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new Wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bi{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Bi.RED,this.left=o??Bi.EMPTY,this.right=c??Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Bi(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===c?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return Bi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,e,n,r,o){return this}insert(t,e,n){return new Bi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ux(this.data.getIterator())}getIteratorFrom(e){return new Ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ir(this.comparator);return n.data=e,n}}class Ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xf(t){return t.hasNext()?t.getNext():void 0}class us{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new us([])}unionWith(e){let n=new ir(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vx("Invalid base64 string: "+o):o}}(e);return new oi(n)}static fromUint8Array(e){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new oi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const qT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(Dt(!!t),"string"==typeof t){let e=0;const n=qT.exec(t);if(Dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(t.seconds),nanos:xr(t.nanos)}}function xr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tc(t){return"string"==typeof t?oi.fromBase64String(t):oi.fromUint8Array(t)}function fv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qg(t){const e=t.mapValue.fields.__previous_value__;return fv(e)?qg(e):e}function Gg(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class jx{constructor(e,n,r,o,c,d,m,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=w}}class Jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pv={nullValue:"NULL_VALUE"};function Qc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:zx(t)?9007199254740991:10:_t()}function ua(t,e){if(t===e)return!0;const n=Qc(t);if(n!==Qc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gg(t).isEqual(Gg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ls(r.timestampValue),d=Ls(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,tc(t.bytesValue).isEqual(tc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return xr(r.geoPointValue.latitude)===xr(o.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xr(r.integerValue)===xr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=xr(r.doubleValue),d=xr(o.doubleValue);return c===d?Cf(c)===Cf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return yf(t.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(zg(c)!==zg(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!ua(c[m],d[m])))return!1;return!0}(t,e);default:return _t()}var o}function Wg(t,e){return void 0!==(t.values||[]).find(n=>ua(n,e))}function Ql(t,e){if(t===e)return 0;const n=Qc(t),r=Qc(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=xr(o.integerValue||o.doubleValue),m=xr(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return Hx(t.timestampValue,e.timestampValue);case 4:return Hx(Gg(t),Gg(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(o,c){const d=tc(o),m=tc(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),m=c.split("/");for(let y=0;y<d.length&&y<m.length;y++){const w=Kt(d[y],m[y]);if(0!==w)return w}return Kt(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Kt(xr(o.latitude),xr(c.latitude));return 0!==d?d:Kt(xr(o.longitude),xr(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,c){const d=o.values||[],m=c.values||[];for(let y=0;y<d.length&&y<m.length;++y){const w=Ql(d[y],m[y]);if(w)return w}return Kt(d.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===nc.mapValue&&c===nc.mapValue)return 0;if(o===nc.mapValue)return 1;if(c===nc.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),y=c.fields||{},w=Object.keys(y);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const R=Kt(m[T],w[T]);if(0!==R)return R;const Q=Ql(d[m[T]],y[w[T]]);if(0!==Q)return Q}return Kt(m.length,w.length)}(t.mapValue,e.mapValue);default:throw _t()}}function Hx(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kt(t,e);const n=Ls(t),r=Ls(e),o=Kt(n.seconds,r.seconds);return 0!==o?o:Kt(n.nanos,r.nanos)}function Xl(t){return yb(t)}function yb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=Ls(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tc(t.bytesValue).toBase64():"referenceValue"in t?ut.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=yb(d);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of o)d?d=!1:c+=",",c+=`${m}:${yb(r.fields[m])}`;return c+"}"}(t.mapValue):_t();var e}function Nd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _b(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function Zx(t){return!!t&&"nullValue"in t}function $x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gv(t){return!!t&&"mapValue"in t}function Jg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zx(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function qx(t){return"nullValue"in t?pv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nd(Jl.empty(),ut.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:_t()}function Gx(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nd(Jl.empty(),ut.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?nc:_t()}function Wx(t,e){const n=Ql(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Kx(t,e){const n=Ql(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jg(n)}setAll(e){let n=gr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=Jg(d):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];gv(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Kl(n,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Si(Jg(this.value))}}function Yx(t){const e=[];return Kl(t.fields,(n,r)=>{const o=new gr([n]);if(gv(r)){const c=Yx(r.mapValue).fields;if(0===c.length)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new us(e)}class or{constructor(e,n,r,o,c,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new or(e,0,St.min(),St.min(),St.min(),Si.empty(),0)}static newFoundDocument(e,n,r,o){return new or(e,1,n,St.min(),r,o,0)}static newNoDocument(e,n){return new or(e,2,n,St.min(),St.min(),Si.empty(),0)}static newUnknownDocument(e,n){return new or(e,3,n,St.min(),St.min(),Si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eu{constructor(e,n){this.position=e,this.inclusive=n}}function Jx(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],d=t.position[o];if(r=c.field.isKeyField()?ut.comparator(ut.fromName(d.referenceValue),n.key):Ql(d,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function mv(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ua(t.position[n],e.position[n]))return!1;return!0}class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vv{}class yn extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new wb(e,n,r):"array-contains"===n?new KT(e,r):"in"===n?new xb(e,r):"not-in"===n?new Eb(e,r):"array-contains-any"===n?new tE(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new WT(e,r):new eE(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ql(n,this.value)):null!==n&&Qc(this.value)===Qc(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Un(e,n)}matches(e){return nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function nu(t){return"and"===t.op}function bb(t){return"or"===t.op}function yv(t){return ru(t)&&nu(t)}function ru(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function _v(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(yv(t))return t.filters.map(e=>_v(e)).join(",");{const e=t.filters.map(n=>_v(n)).join(",");return`${t.op}(${e})`}}function Xx(t,e){return t instanceof yn?(n=t,(r=e)instanceof yn&&n.op===r.op&&n.field.isEqual(r.field)&&ua(n.value,r.value)):t instanceof Un?function(n,r){return r instanceof Un&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,c,d)=>o&&Xx(c,r.filters[d]),!0)}(t,e):void _t();var n,r}function GT(t,e){const n=t.filters.concat(e);return Un.create(n,t.op)}function bv(t){return t instanceof yn?`${(e=t).field.canonicalString()} ${e.op} ${Xl(e.value)}`:t instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(bv).join(" ,")+"}"}(t):"Filter";var e}class wb extends yn{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class WT extends yn{constructor(e,n){super(e,"in",n),this.keys=Cb(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eE extends yn{constructor(e,n){super(e,"not-in",n),this.keys=Cb(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cb(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class KT extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&Wg(n.arrayValue,this.value)}}class xb extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wg(this.value.arrayValue,n)}}class Eb extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wg(this.value.arrayValue,n)}}class tE extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wg(this.value.arrayValue,r))}}class nE{constructor(e,n=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.dt=null}}function wv(t,e=null,n=[],r=[],o=null,c=null,d=null){return new nE(t,e,n,r,o,c,d)}function iu(t){const e=pt(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.dt=n}return e.dt}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mv(t.startAt,e.startAt)&&mv(t.endAt,e.endAt)}function Cv(t){return ut.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function xv(t,e){return t.filters.filter(n=>n instanceof yn&&n.field.isEqual(e))}function rE(t,e,n){let r=pv,o=!0;for(const c of xv(t,e)){let d=pv,m=!0;switch(c.op){case"<":case"<=":d=qx(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,m=!1;break;case"!=":case"not-in":d=pv}Wx({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const d=n.position[c];Wx({value:r,inclusive:o},{value:d,inclusive:n.inclusive})<0&&(r=d,o=n.inclusive);break}return{value:r,inclusive:o}}function Ib(t,e,n){let r=nc,o=!0;for(const c of xv(t,e)){let d=nc,m=!0;switch(c.op){case">=":case">":d=Gx(c.value),m=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,m=!1;break;case"!=":case"not-in":d=nc}Kx({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const d=n.position[c];Kx({value:r,inclusive:o},{value:d,inclusive:n.inclusive})>0&&(r=d,o=n.inclusive);break}return{value:r,inclusive:o}}class ou{constructor(e,n=null,r=[],o=[],c=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this.wt=null,this._t=null}}function Db(t,e,n,r,o,c,d,m){return new ou(t,e,n,r,o,c,d,m)}function Ef(t){return new ou(t)}function iE(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function oE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ev(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Tb(t){return null!==t.collectionGroup}function Rd(t){const e=pt(t);if(null===e.wt){e.wt=[];const n=Ev(e),r=oE(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new tu(n)),e.wt.push(new tu(gr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new tu(gr.keyField(),c))}}}return e.wt}function ro(t){const e=pt(t);if(!e._t)if("F"===e.limitType)e._t=wv(e.path,e.collectionGroup,Rd(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Rd(e))n.push(new tu(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new eu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new eu(e.startAt.position,e.startAt.inclusive):null;e._t=wv(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function Sb(t,e){e.getFirstInequalityField(),Ev(t);const n=t.filters.concat([e]);return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Iv(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xg(t,e){return Qg(ro(t),ro(e))&&t.limitType===e.limitType}function sE(t){return`${iu(ro(t))}|lt:${t.limitType}`}function Ab(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bv(r)).join(", ")}]`),wf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),`Target(${n})`}(ro(t))}; limitType=${t.limitType})`}function em(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ut.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of Rd(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(o,c,d){const m=Jx(o,c,d);return o.inclusive?m<=0:m<0}(n.startAt,Rd(n),r)||n.endAt&&!function(o,c,d){const m=Jx(o,c,d);return o.inclusive?m>=0:m>0}(n.endAt,Rd(n),r)));var n,r}function aE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cE(t){return(e,n)=>{let r=!1;for(const o of Rd(t)){const c=tm(o,e,n);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function tm(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):function(o,c,d){const m=c.data.field(o),y=d.data.field(o);return null!==m&&null!==y?Ql(m,y):_t()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}class rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(n,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return Lx(this.inner)}size(){return this.innerSize}}const lE=new Wn(ut.comparator);function xo(){return lE}const Mb=new Wn(ut.comparator);function If(...t){let e=Mb;for(const n of t)e=e.insert(n.key,n);return e}function uE(t){let e=Mb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ic(){return Dv()}function YT(){return Dv()}function Dv(){return new rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const JT=new Wn(ut.comparator),QT=new ir(ut.comparator);function on(...t){let e=QT;for(const n of t)e=e.add(n);return e}const XT=new ir(Kt);function Pb(){return XT}function Df(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function dE(t){return{integerValue:""+t}}function Tv(t,e){return vb(e)?dE(e):Df(t,e)}class Sv{constructor(){this._=void 0}}function VM(t,e,n){return t instanceof oc?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&fv(o)&&(o=qg(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof kd?hE(t,e):t instanceof Fd?nm(t,e):function(r,o){const c=tS(r,o),d=fE(c)+fE(r.gt);return _b(c)&&_b(r.gt)?dE(d):Df(r.serializer,d)}(t,e)}function eS(t,e,n){return t instanceof kd?hE(t,e):t instanceof Fd?nm(t,e):n}function tS(t,e){return t instanceof Ld?_b(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class oc extends Sv{}class kd extends Sv{constructor(e){super(),this.elements=e}}function hE(t,e){const n=Ob(e);for(const r of t.elements)n.some(o=>ua(o,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends Sv{constructor(e){super(),this.elements=e}}function nm(t,e){let n=Ob(e);for(const r of t.elements)n=n.filter(o=>!ua(o,r));return{arrayValue:{values:n}}}class Ld extends Sv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function fE(t){return xr(t.integerValue||t.doubleValue)}function Ob(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class su{constructor(e,n){this.field=e,this.transform=n}}class rS{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Av(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mv{}function Nb(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Vd(t.key,sr.none()):new Ud(t.key,t.data,sr.none());{const n=t.data,r=Si.empty();let o=new ir(gr.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);null===d&&c.length>1&&(c=c.popLast(),d=n.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new da(t.key,r,new us(o.toArray()),sr.none())}}function Pv(t,e,n){t instanceof Ud?function(r,o,c){const d=r.value.clone(),m=pE(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof da?function(r,o,c){if(!Av(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=pE(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(kb(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function rm(t,e,n,r){return t instanceof Ud?function(o,c,d,m){if(!Av(o.precondition,c))return d;const y=o.value.clone(),w=Fb(o.fieldTransforms,m,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof da?function(o,c,d,m){if(!Av(o.precondition,c))return d;const y=Fb(o.fieldTransforms,m,c),w=c.data;return w.setAll(kb(o)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(t,e,n,r):(d=n,Av(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function iS(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=tS(r.transform,o||null);null!=c&&(null===n&&(n=Si.empty()),n.set(r.field,c))}return n||null}function Rb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&yf(n,r,(o,c)=>function nS(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof kd&&r instanceof kd||n instanceof Fd&&r instanceof Fd?yf(n.elements,r.elements,ua):n instanceof Ld&&r instanceof Ld?ua(n.gt,r.gt):n instanceof oc&&r instanceof oc);var n,r}(o,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ud extends Mv{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class da extends Mv{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pE(t,e,n){const r=new Map;Dt(t.length===n.length);for(let o=0;o<n.length;o++){const c=t[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,eS(d,m,n[o]))}return r}function Fb(t,e,n){const r=new Map;for(const o of t){const c=o.transform,d=n.data.field(o.field);r.set(o.field,VM(c,d,e))}return r}class Vd extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lb extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Pv(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YT();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const y=Nb(d,m);null!==y&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),on())}isEqual(e){return this.batchId===e.batchId&&yf(this.mutations,e.mutations,(n,r)=>Rb(n,r))&&yf(this.baseMutations,e.baseMutations,(n,r)=>Rb(n,r))}}class im{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Dt(e.mutations.length===r.length);let o=JT;const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new im(e,n,r,o)}}class om{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vb{constructor(e,n){this.count=e,this.unchangedNames=n}}var Er,En;function mE(t){switch(t){default:return _t();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function vE(t){if(void 0===t)return Cr("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case Er.OK:return Oe.OK;case Er.CANCELLED:return Oe.CANCELLED;case Er.UNKNOWN:return Oe.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Oe.INTERNAL;case Er.UNAVAILABLE:return Oe.UNAVAILABLE;case Er.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Er.NOT_FOUND:return Oe.NOT_FOUND;case Er.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Er.ABORTED:return Oe.ABORTED;case Er.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Er.DATA_LOSS:return Oe.DATA_LOSS;default:return _t()}}(En=Er||(Er={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Bb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sm}static getOrCreateInstance(){return null===sm&&(sm=new Bb),sm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sm=null;function Ov(){return new TextEncoder}const yE=new mf([4294967295,4294967295],0);function _E(t){const e=Ov().encode(t),n=new CT;return n.update(e),new Uint8Array(n.digest())}function jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mf([n,r],0),new mf([o,c],0)]}class Nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new am(`Invalid padding: ${n}`);if(r<0)throw new am(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new am(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new am(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=mf.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(mf.fromNumber(r)));return 1===o.compare(yE)&&(o=new mf([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=_E(e),[r,o]=jb(n);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,o,c);if(!this.At(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Nv(c,o,n);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const n=_E(e),[r,o]=jb(n);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,o,c);this.Rt(d)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class am extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tf{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(St.min(),o,new Wn(Kt),xo(),on())}}class Sf{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sf(r,n,on(),on(),on())}}class Rv{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class Hb{constructor(e,n){this.targetId=e,this.Vt=n}}class bE{constructor(e,n,r=oi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class io{constructor(){this.St=0,this.Dt=CE(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=on(),n=on(),r=on();return this.Dt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_t()}}),new Sf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=CE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Af{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xo(),this.zt=wE(),this.Wt=new Wn(Kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:_t()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,c=this.se(r);if(c){const d=c.target;if(Cv(d))if(0===o){const m=new ut(d.path);this.Yt(r,m,or.newNoDocument(m,St.min()))}else Dt(1===o);else{const m=this.ie(r);if(m!==o){const y=this.re(e,m);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Bb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(w,T,R){var Q,ie,Me,$e,He,rt;const bt={localCacheCount:T,existenceFilterCount:R.count},ft=R.unchangedNames;return ft&&(bt.bloomFilter={applied:0===w,hashCount:null!==(Q=ft?.hashCount)&&void 0!==Q?Q:0,bitmapLength:null!==($e=null===(Me=null===(ie=ft?.bits)||void 0===ie?void 0:ie.bitmap)||void 0===Me?void 0:Me.length)&&void 0!==$e?$e:0,padding:null!==(rt=null===(He=ft?.bits)||void 0===He?void 0:He.padding)&&void 0!==rt?rt:0}),bt}(y,m,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:m=0}=r;let y,w;try{y=tc(c).toUint8Array()}catch(T){if(T instanceof Vx)return cs("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{w=new Nv(y,d,m)}catch(T){return cs(T instanceof am?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===w.It?1:o!==n-this.oe(e.targetId,w)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(c=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;n.vt(m)||(this.Yt(e,c,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((c,d)=>{const m=this.se(d);if(m){if(c.current&&Cv(m.target)){const y=new ut(m.target.path);null!==this.jt.get(y)||this.ae(d,y)||this.Yt(d,y,or.newNoDocument(y,e))}c.Mt&&(n.set(d,c.Ot()),c.Ft())}});let r=on();this.zt.forEach((c,d)=>{let m=!0;d.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.jt.forEach((c,d)=>d.setReadTime(e));const o=new Tf(e,n,this.Wt,this.jt,r);return this.jt=xo(),this.zt=wE(),this.Wt=new Wn(Kt),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new io,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ir(Kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new io),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function wE(){return new Wn(ut.comparator)}function CE(){return new Wn(ut.comparator)}const BM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xE={and:"AND",or:"OR"};class Zb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function EE(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lm(t,e){return cm(t,e.toTimestamp())}function Or(t){return Dt(!!t),St.fromTimestamp(function(e){const n=Ls(e);return new rr(n.seconds,n.nanos)}(t))}function um(t,e){return(n=t,new Cn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function IE(t){const e=Cn.fromString(t);return Dt(ME(e)),e}function Mf(t,e){return um(t.databaseId,e.path)}function sc(t,e){const n=IE(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(zb(n))}function $b(t,e){return um(t.databaseId,e)}function DE(t){const e=IE(t);return 4===e.length?Cn.emptyPath():zb(e)}function Bd(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zb(t){return Dt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function TE(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function dm(t,e,n){const r=sc(t,e.name),o=Or(e.updateTime),c=e.createTime?Or(e.createTime):St.min(),d=new Si({mapValue:{fields:e.fields}}),m=or.newFoundDocument(r,o,c,d);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Pf(t,e){let n;if(e instanceof Ud)n={update:TE(t,e.key,e.value)};else if(e instanceof Vd)n={delete:Mf(t,e.key)};else if(e instanceof da)n={update:TE(t,e.key,e.data),updateMask:AE(e.fieldMask)};else{if(!(e instanceof Lb))return _t();n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof oc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ld)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw _t()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:lm(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:_t()),n;var o}function Gb(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?sr.updateTime(Or(o.updateTime)):void 0!==o.exists?sr.exists(o.exists):sr.none():sr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,d){let m=null;"setToServerValue"in d?(Dt("REQUEST_TIME"===d.setToServerValue),m=new oc):"appendMissingElements"in d?m=new kd(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Fd(d.removeAllFromArray.values||[]):"increment"in d?m=new Ld(c,d.increment):_t();const y=gr.fromServerFormat(d.fieldPath);return new su(y,m)}(t,o)):[];var o;if(e.update){const o=sc(t,e.update.name),c=new Si({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new us((e.updateMask.fieldPaths||[]).map(w=>gr.fromServerFormat(w)));return new da(o,c,d,n,r)}return new Ud(o,c,n,r)}if(e.delete){const o=sc(t,e.delete);return new Vd(o,n)}if(e.verify){const o=sc(t,e.verify);return new Lb(o,n)}return _t()}function jd(t,e){return{documents:[$b(t,e.path)]}}function Wb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$b(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$b(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0!==y.length)return Jb(Un.create(y,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:au((T=w).field),direction:aS(T.dir)};var T})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=EE(t,e.limit);var m,y;return null!==d&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function Kb(t){let e=DE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Dt(1===r);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(T){const R=sS(T);return R instanceof Un&&yv(R)?R.getFilters():[R]}(n.where));let d=[];n.orderBy&&(d=n.orderBy.map(T=>{return new tu(Of((R=T).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;n.limit&&(m=function(T){let R;return R="object"==typeof T?T.value:T,wf(R)?null:R}(n.limit));let y=null;var T;n.startAt&&(y=new eu((T=n.startAt).values||[],!!T.before));let w=null;return n.endAt&&(w=function(T){return new eu(T.values||[],!T.before)}(n.endAt)),Db(e,o,d,c,m,"F",y,w)}function sS(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Of(e.unaryFilter.field);return yn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Of(e.unaryFilter.field);return yn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Of(e.unaryFilter.field);return yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Of(e.unaryFilter.field);return yn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(t):void 0!==t.fieldFilter?yn.create(Of((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Un.create(e.compositeFilter.filters.map(n=>sS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(t):_t();var e}function aS(t){return BM[t]}function ZM(t){return jM[t]}function cS(t){return xE[t]}function au(t){return{fieldPath:t.canonicalString()}}function Of(t){return gr.fromServerFormat(t.fieldPath)}function Jb(t){return t instanceof yn?function(e){if("=="===e.op){if($x(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NAN"}};if(Zx(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($x(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NOT_NAN"}};if(Zx(e.value))return{unaryFilter:{field:au(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(e.field),op:ZM(e.op),value:e.value}}}(t):t instanceof Un?function(e){const n=e.getFilters().map(r=>Jb(r));return 1===n.length?n[0]:{compositeFilter:{op:cS(e.op),filters:n}}}(t):_t()}function AE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ME(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ac{constructor(e,n,r,o,c=St.min(),d=St.min(),m=oi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qb{constructor(e){this.fe=e}}function PE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mf(o=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:cm(o,c.version.toTimestamp()),createTime:cm(o,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hd(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:n.path.toArray(),version:Hd(e.version)}}var o,c;return r}function hm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cu(t){const e=new rr(t.seconds,t.nanoseconds);return St.fromTimestamp(e)}function lu(t,e){const n=(e.baseMutations||[]).map(c=>Gb(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>Gb(t.fe,c)),o=rr.fromMillis(e.localWriteTimeMs);return new Ub(e.batchId,o,n,r)}function Nf(t){const e=cu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?cu(t.lastLimboFreeSnapshotVersion):St.min();let r;var o;return void 0!==t.query.documents?(Dt(1===(o=t.query).documents.length),r=ro(Ef(DE(o.documents[0])))):r=ro(Kb(t.query)),new ac(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,oi.fromBase64String(t.resumeToken))}function Xb(t,e){const n=Hd(e.snapshotVersion),r=Hd(e.lastLimboFreeSnapshotVersion);let o;o=Cv(e.target)?jd(t.fe,e.target):Wb(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:iu(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ew(t){const e=Kb({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Iv(e,e.limit,"L"):e}function tw(t,e){return new om(e.largestBatchId,Gb(t.fe,e.overlayMutation))}function uS(t,e){const n=e.path.lastSegment();return[t,no(e.path.popLast()),n]}function nw(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Hd(r.readTime),documentKey:no(r.documentKey.path),largestBatchId:r.largestBatchId}}class $M{getBundleMetadata(e,n){return dS(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:cu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return dS(e).put({bundleId:(r=n).id,createTime:Hd(Or(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return hS(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:ew(o.bundledQuery),readTime:cu(o.readTime)};var o})}saveNamedQuery(e,n){return hS(e).put({name:(r=n).name,readTime:Hd(Or(r.readTime)),bundledQuery:r.bundledQuery});var r}}function dS(t){return ii(t,"bundles")}function hS(t){return ii(t,"namedQueries")}class rw{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new rw(e,n.uid||"")}getOverlay(e,n){return kv(e).get(uS(this.userId,n)).next(r=>r?tw(this.serializer,r):null)}getOverlays(e,n){const r=ic();return Ae.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){const o=[];return r.forEach((c,d)=>{const m=new om(n,d);o.push(this.we(e,m))}),Ae.waitFor(o)}removeOverlaysForBatchId(e,n,r){const o=new Set;n.forEach(d=>o.add(no(d.getCollectionPath())));const c=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(kv(e).J("collectionPathOverlayIndex",m))}),Ae.waitFor(c)}getOverlaysForCollection(e,n,r){const o=ic(),c=no(n),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return kv(e).j("collectionPathOverlayIndex",d).next(m=>{for(const y of m){const w=tw(this.serializer,y);o.set(w.getKey(),w)}return o})}getOverlaysForCollectionGroup(e,n,r,o){const c=ic();let d;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return kv(e).X({index:"collectionGroupOverlayIndex",range:m},(y,w,T)=>{const R=tw(this.serializer,w);c.size()<o||R.largestBatchId===d?(c.set(R.getKey(),R),d=R.largestBatchId):T.done()}).next(()=>c)}we(e,n){return kv(e).put(function(r,o,c){const[d,m,y]=uS(o,c.mutation.key);return{userId:o,collectionPath:m,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Pf(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function kv(t){return ii(t,"documentOverlays")}class Rf{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Cf(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(tc(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?zx(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):_t()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const o of Object.keys(r))this.Te(o,n),this.me(r[o],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const o of r)this.me(o,n)}ve(e,n){this.ye(n,37),ut.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function zM(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function fS(t){const e=64-function(n){let r=0;for(let o=0;o<8;++o){const c=zM(255&n[o]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}Rf.Ve=new Rf;class qM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=n.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=n.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const n=this.Fe(e),r=fS(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}Le(e){const n=this.Fe(e),r=fS(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class OE{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class iw{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class kf{constructor(){this.je=new qM,this.ze=new OE(this.je),this.We=new iw(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Zd{constructor(e,n,r,o){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zd(this.indexId,this.documentKey,this.arrayValue,r)}}function ha(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=NE(t.arrayValue,e.arrayValue),0!==n?n:(n=NE(t.directionalValue,e.directionalValue),0!==n?n:ut.comparator(t.documentKey,e.documentKey)))}function NE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class GM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Dt(e.collectionGroup===this.collectionId);const n=iv(e);if(void 0!==n&&!this.en(n))return!1;const r=Wl(e);let o=new Set,c=0,d=0;for(;c<r.length&&this.en(r[c]);++c)o=o.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[c];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++c}for(;c<r.length;++c)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function pS(t){var e,n;if(Dt(t instanceof yn||t instanceof Un),t instanceof yn){if(t instanceof xb){const o=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>yn.create(t.field,"==",c)))||[];return Un.create(o,"or")}return t}const r=t.filters.map(o=>pS(o));return Un.create(r,t.op)}function gS(t){if(0===t.getFilters().length)return[];const e=sw(pS(t));return Dt(RE(e)),Fv(e)||ow(e)?[e]:e.getFilters()}function Fv(t){return t instanceof yn}function ow(t){return t instanceof Un&&yv(t)}function RE(t){return Fv(t)||ow(t)||function(e){if(e instanceof Un&&bb(e)){for(const n of e.getFilters())if(!Fv(n)&&!ow(n))return!1;return!0}return!1}(t)}function sw(t){if(Dt(t instanceof yn||t instanceof Un),t instanceof yn)return t;if(1===t.filters.length)return sw(t.filters[0]);const e=t.filters.map(r=>sw(r));let n=Un.create(e,t.op);return n=uu(n),RE(n)?n:(Dt(n instanceof Un),Dt(nu(n)),Dt(n.filters.length>1),n.filters.reduce((r,o)=>kE(r,o)))}function kE(t,e){let n;return Dt(t instanceof yn||t instanceof Un),Dt(e instanceof yn||e instanceof Un),n=t instanceof yn?e instanceof yn?Un.create([t,e],"and"):FE(t,e):e instanceof yn?FE(e,t):function(r,o){if(Dt(r.filters.length>0&&o.filters.length>0),nu(r)&&nu(o))return GT(r,o.getFilters());const c=bb(r)?r:o,d=bb(r)?o:r,m=c.filters.map(y=>kE(y,d));return Un.create(m,"or")}(t,e),uu(n)}function FE(t,e){if(nu(e))return GT(e,t.getFilters());{const n=e.filters.map(r=>kE(t,r));return Un.create(n,"or")}}function uu(t){if(Dt(t instanceof yn||t instanceof Un),t instanceof yn)return t;const e=t.getFilters();if(1===e.length)return uu(e[0]);if(ru(t))return t;const n=e.map(o=>uu(o)),r=[];return n.forEach(o=>{o instanceof yn?r.push(o):o instanceof Un&&(o.op===t.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Un.create(r,t.op)}class Lv{constructor(){this.rn=new aw}addToCollectionParentIndex(e,n){return this.rn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(Fs.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class aw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new ir(Cn.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ir(Cn.comparator)).toArray()}}const Uv=new Uint8Array(0);class mS{constructor(e,n){this.user=e,this.databaseId=n,this.on=new aw,this.un=new rc(r=>iu(r),(r,o)=>Qg(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:no(o)};return LE(e).put(c)}return Ae.resolve()}getCollectionParents(e,n){const r=[],o=IDBKeyRange.bound([n,""],[gb(n),""],!1,!0);return LE(e).j(o).next(c=>{for(const d of c){if(d.collectionId!==n)break;r.push(Bo(d.parent))}return r})}addFieldIndex(e,n){const r=Vv(e),o={indexId:(d=n).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const c=r.add(o);if(n.indexState){const d=$d(e);return c.next(m=>{d.put(nw(m,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=Vv(e),o=$d(e),c=fm(e);return r.delete(n.indexId).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=fm(e);let o=!0;const c=new Map;return Ae.forEach(this.cn(n),d=>this.an(e,d).next(m=>{o&&(o=!!m),c.set(d,m)})).next(()=>{if(o){let d=on();const m=[];return Ae.forEach(c,(y,w)=>{var T;Qe("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${iu(n)}`);const R=function(ft,ot){const Ot=iv(ot);if(void 0===Ot)return null;for(const xn of xv(ft,Ot.fieldPath))switch(xn.op){case"array-contains-any":return xn.value.arrayValue.values||[];case"array-contains":return[xn.value]}return null}(w,y),Q=function(ft,ot){const Ot=new Map;for(const xn of Wl(ot))for(const ci of xv(ft,xn.fieldPath))switch(ci.op){case"==":case"in":Ot.set(xn.fieldPath.canonicalString(),ci.value);break;case"not-in":case"!=":return Ot.set(xn.fieldPath.canonicalString(),ci.value),Array.from(Ot.values())}return null}(w,y),ie=function(ft,ot){const Ot=[];let xn=!0;for(const ci of Wl(ot)){const uc=0===ci.kind?rE(ft,ci.fieldPath,ft.startAt):Ib(ft,ci.fieldPath,ft.startAt);Ot.push(uc.value),xn&&(xn=uc.inclusive)}return new eu(Ot,xn)}(w,y),Me=function(ft,ot){const Ot=[];let xn=!0;for(const ci of Wl(ot)){const uc=0===ci.kind?Ib(ft,ci.fieldPath,ft.endAt):rE(ft,ci.fieldPath,ft.endAt);Ot.push(uc.value),xn&&(xn=uc.inclusive)}return new eu(Ot,xn)}(w,y),$e=this.hn(y,w,ie),He=this.hn(y,w,Me),rt=this.ln(y,w,Q),bt=this.fn(y.indexId,R,$e,ie.inclusive,He,Me.inclusive,rt);return Ae.forEach(bt,ft=>r.H(ft,n.limit).next(ot=>{ot.forEach(Ot=>{const xn=ut.fromSegments(Ot.documentKey);d.has(xn)||(d=d.add(xn),m.push(xn))})}))}).next(()=>m)}return Ae.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:gS(Un.create(e.filters,"and")).map(r=>wv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,o,c,d,m){const y=(null!=n?n.length:1)*Math.max(r.length,c.length),w=y/(null!=n?n.length:1),T=[];for(let R=0;R<y;++R){const Q=n?this.dn(n[R/w]):Uv,ie=this.wn(e,Q,r[R%w],o),Me=this._n(e,Q,c[R%w],d),$e=m.map(He=>this.wn(e,Q,He,!0));T.push(...this.createRange(ie,Me,$e))}return T}wn(e,n,r,o){const c=new Zd(e,ut.empty(),n,r);return o?c:c.Je()}_n(e,n,r,o){const c=new Zd(e,ut.empty(),n,r);return o?c.Je():c}an(e,n){const r=new GM(n),o=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let d=null;for(const m of c)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,n){let r=2;const o=this.cn(n);return Ae.forEach(o,c=>this.an(e,c).next(d=>{d?0!==r&&d.fields.length<function(m){let y=new ir(gr.comparator),w=!1;for(const T of m.filters)for(const R of T.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?w=!0:y=y.add(R.field));for(const T of m.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(w?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&o.length>1&&2===r?1:r)}mn(e,n){const r=new kf;for(const o of Wl(e)){const c=n.data.field(o.fieldPath);if(null==c)return null;const d=r.He(o.kind);Rf.Ve._e(c,d)}return r.Qe()}dn(e){const n=new kf;return Rf.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new kf;return Rf.Ve._e(Nd(this.databaseId,n),r.He(function(o){const c=Wl(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let o=[];o.push(new kf);let c=0;for(const d of Wl(e)){const m=r[c++];for(const y of o)if(this.yn(n,d.fieldPath)&&Yg(m))o=this.pn(o,d,m);else{const w=y.He(d.kind);Rf.Ve._e(m,w)}}return this.In(o)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const o=[...e],c=[];for(const d of r.arrayValue.values||[])for(const m of o){const y=new kf;y.seed(m.Qe()),Rf.Ve._e(d,y.He(n.kind)),c.push(y)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof yn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Vv(e),o=$d(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const d=[];return Ae.forEach(c,m=>o.get([m.indexId,this.uid]).next(y=>{d.push(function(w,T){const R=T?new ec(T.sequenceNumber,new Fs(cu(T.readTime),new ut(Bo(T.documentKey)),T.largestBatchId)):ec.empty(),Q=w.fields.map(([ie,Me])=>new ov(gr.fromServerFormat(ie),Me));return new jg(w.indexId,w.collectionGroup,Q,R)}(m,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:Kt(r.collectionGroup,o.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const o=Vv(e),c=$d(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(m=>Ae.forEach(m,y=>c.put(nw(y.indexId,this.user,d,r)))))}updateIndexEntries(e,n){const r=new Map;return Ae.forEach(n,(o,c)=>{const d=r.get(o.collectionGroup);return(d?Ae.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ae.forEach(m,y=>this.En(e,o,y).next(w=>{const T=this.An(c,y);return w.isEqual(T)?Ae.resolve():this.vn(e,c,y,w,T)}))))})}Rn(e,n,r,o){return fm(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,o){return fm(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const o=fm(e);let c=new ir(ha);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(d,m)=>{c=c.add(new Zd(r.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>c)}An(e,n){let r=new ir(ha);const o=this.mn(n,e);if(null==o)return r;const c=iv(n);if(null!=c){const d=e.data.field(c.fieldPath);if(Yg(d))for(const m of d.arrayValue.values||[])r=r.add(new Zd(n.indexId,e.key,this.dn(m),o))}else r=r.add(new Zd(n.indexId,e.key,Uv,o));return r}vn(e,n,r,o,c){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const d=[];return function(m,y,w,T,R){const Q=m.getIterator(),ie=y.getIterator();let Me=xf(Q),$e=xf(ie);for(;Me||$e;){let He=!1,rt=!1;if(Me&&$e){const bt=w(Me,$e);bt<0?rt=!0:bt>0&&(He=!0)}else null!=Me?rt=!0:He=!0;He?(T($e),$e=xf(ie)):rt?(R(Me),Me=xf(Q)):(Me=xf(Q),$e=xf(ie))}}(o,c,ha,m=>{d.push(this.Rn(e,n,r,m))},m=>{d.push(this.Pn(e,n,r,m))}),Ae.waitFor(d)}Tn(e){let n=1;return $d(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),n=o.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((d,m)=>ha(d,m)).filter((d,m,y)=>!m||0!==ha(d,y[m-1]));const o=[];o.push(e);for(const d of r){const m=ha(d,e),y=ha(d,n);if(0===m)o[0]=e.Je();else if(m>0&&y<0)o.push(d),o.push(d.Je());else if(y>0)break}o.push(n);const c=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];c.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Uv,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Uv,[]]))}return c}bn(e,n){return ha(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(UE)}getMinOffset(e,n){return Ae.mapArray(this.cn(n),r=>this.an(e,r).next(o=>o||_t())).next(UE)}}function LE(t){return ii(t,"collectionParents")}function fm(t){return ii(t,"indexEntries")}function Vv(t){return ii(t,"indexConfiguration")}function $d(t){return ii(t,"indexState")}function UE(t){Dt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const o=t[r].indexState.offset;av(o,e)<0&&(e=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new Fs(e.readTime,e.documentKey,n)}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function BE(t,e,n){const r=t.store("mutations"),o=t.store("documentMutations"),c=[],d=IDBKeyRange.only(n.batchId);let m=0;const y=r.X({range:d},(T,R,Q)=>(m++,Q.delete()));c.push(y.next(()=>{Dt(1===m)}));const w=[];for(const T of n.mutations){const R=Tx(e,T.key.path,n.batchId);c.push(o.delete(R)),w.push(T.key)}return Ae.waitFor(c).next(()=>w)}function Bv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _t();e=t.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class jv{constructor(e,n,r,o){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,n,r,o){Dt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new jv(c,n,r,o)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).X({index:"userMutationsIndex",range:r},(o,c,d)=>{n=!1,d.done()}).next(()=>n)}addMutationBatch(e,n,r,o){const c=Ff(e),d=du(e);return d.add({}).next(m=>{Dt("number"==typeof m);const y=new Ub(m,n,r,o),w=function(Q,ie,Me){const $e=Me.baseMutations.map(rt=>Pf(Q.fe,rt)),He=Me.mutations.map(rt=>Pf(Q.fe,rt));return{userId:ie,batchId:Me.batchId,localWriteTimeMs:Me.localWriteTime.toMillis(),baseMutations:$e,mutations:He}}(this.serializer,this.userId,y),T=[];let R=new ir((Q,ie)=>Kt(Q.canonicalString(),ie.canonicalString()));for(const Q of o){const ie=Tx(this.userId,Q.key.path,m);R=R.add(Q.key.path.popLast()),T.push(d.put(w)),T.push(c.put(ie,hv))}return R.forEach(Q=>{T.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.Vn[m]=y.keys()}),Ae.waitFor(T).next(()=>y)})}lookupMutationBatch(e,n){return du(e).get(n).next(r=>r?(Dt(r.userId===this.userId),lu(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Ae.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const o=r.keys();return this.Vn[n]=o,o}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return du(e).X({index:"userMutationsIndex",range:o},(d,m,y)=>{m.userId===this.userId&&(Dt(m.batchId>=r),c=lu(this.serializer,m)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return du(e).X({index:"userMutationsIndex",range:n,reverse:!0},(o,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).j("userMutationsIndex",n).next(r=>r.map(o=>lu(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dv(this.userId,n.path),o=IDBKeyRange.lowerBound(r),c=[];return Ff(e).X({range:o},(d,m,y)=>{const[w,T,R]=d,Q=Bo(T);if(w===this.userId&&n.path.isEqual(Q))return du(e).get(R).next(ie=>{if(!ie)throw _t();Dt(ie.userId===this.userId),c.push(lu(this.serializer,ie))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ir(Kt);const o=[];return n.forEach(c=>{const d=dv(this.userId,c.path),m=IDBKeyRange.lowerBound(d),y=Ff(e).X({range:m},(w,T,R)=>{const[Q,ie,Me]=w,$e=Bo(ie);Q===this.userId&&c.path.isEqual($e)?r=r.add(Me):R.done()});o.push(y)}),Ae.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1,c=dv(this.userId,r),d=IDBKeyRange.lowerBound(c);let m=new ir(Kt);return Ff(e).X({range:d},(y,w,T)=>{const[R,Q,ie]=y,Me=Bo(Q);R===this.userId&&r.isPrefixOf(Me)?Me.length===o&&(m=m.add(ie)):T.done()}).next(()=>this.Dn(e,m))}Dn(e,n){const r=[],o=[];return n.forEach(c=>{o.push(du(e).get(c).next(d=>{if(null===d)throw _t();Dt(d.userId===this.userId),r.push(lu(this.serializer,d))}))}),Ae.waitFor(o).next(()=>r)}removeMutationBatch(e,n){return BE(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Ff(e).X({range:r},(c,d,m)=>{if(c[0]===this.userId){const y=Bo(c[1]);o.push(y)}else m.done()}).next(()=>{Dt(0===o.length)})})}containsKey(e,n){return jE(e,this.userId,n)}xn(e){return cw(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jE(t,e,n){const r=dv(e,n.path),o=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Ff(t).X({range:c,Y:!0},(m,y,w)=>{const[T,R,Q]=m;T===e&&R===o&&(d=!0),w.done()}).next(()=>d)}function du(t){return ii(t,"mutations")}function Ff(t){return ii(t,"documentMutations")}function cw(t){return ii(t,"mutationQueues")}class Xc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xc(0)}static Mn(){return new Xc(-1)}}class vS{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Xc(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>St.fromTimestamp(new rr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.On(e,o)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Lf(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Dt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let o=0;const c=[];return Lf(e).X((d,m)=>{const y=Nf(m);y.sequenceNumber<=n&&null===r.get(y.targetId)&&(o++,c.push(this.removeTargetData(e,y)))}).next(()=>Ae.waitFor(c)).next(()=>o)}forEachTarget(e,n){return Lf(e).X((r,o)=>{const c=Nf(o);n(c)})}$n(e){return lw(e).get("targetGlobalKey").next(n=>(Dt(null!==n),n))}On(e,n){return lw(e).put("targetGlobalKey",n)}Fn(e,n){return Lf(e).put(Xb(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=iu(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Lf(e).X({range:o,index:"queryTargetsIndex"},(d,m,y)=>{const w=Nf(m);Qg(n,w.target)&&(c=w,y.done())}).next(()=>c)}addMatchingKeys(e,n,r){const o=[],c=el(e);return n.forEach(d=>{const m=no(d.path);o.push(c.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),Ae.waitFor(o)}removeMatchingKeys(e,n,r){const o=el(e);return Ae.forEach(n,c=>{const d=no(c.path);return Ae.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=el(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=el(e);let c=on();return o.X({range:r,Y:!0},(d,m,y)=>{const w=Bo(d[1]),T=new ut(w);c=c.add(T)}).next(()=>c)}containsKey(e,n){const r=no(n.path),o=IDBKeyRange.bound([r],[gb(r)],!1,!0);let c=0;return el(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],y,w)=>{0!==d&&(c++,w.done())}).next(()=>c>0)}le(e,n){return Lf(e).get(n).next(r=>r?Nf(r):null)}}function Lf(t){return ii(t,"targets")}function lw(t){return ii(t,"targetGlobal")}function el(t){return ii(t,"targetDocuments")}function yS([t,e],[n,r]){const o=Kt(t,n);return 0===o?Kt(e,r):o}class jo{constructor(e){this.Ln=e,this.buffer=new ir(yS),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uw{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){la(r)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ls(r)}yield n.Qn(3e5)}))}}class HE{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Ae.resolve(Vo.ct);const r=new jo(n);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(VE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,o,c,d,m,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(w=Date.now(),Bg()<=Wc.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${c} targets in `+(y-m)+`ms\n\tRemoved ${R} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class $E{constructor(e,n){this.db=e,this.garbageCollector=function ZE(t,e){return new HE(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,o)=>n(o))}addReference(e,n,r){return Hv(e,r)}removeReference(e,n,r){return Hv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Hv(e,n)}Xn(e,n){return function(r,o){let c=!1;return cw(r).Z(d=>jE(r,d,o).next(m=>(m&&(c=!0),Ae.resolve(!m)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Yn(e,(d,m)=>{if(m<=n){const y=this.Xn(e,d).next(w=>{if(!w)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),el(e).delete([0,no(d.path)])))});o.push(y)}}).next(()=>Ae.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Hv(e,n)}Yn(e,n){const r=el(e);let o,c=Vo.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:y,sequenceNumber:w})=>{0===d?(c!==Vo.ct&&n(new ut(Bo(o)),c),c=w,o=y):c=Vo.ct}).next(()=>{c!==Vo.ct&&n(new ut(Bo(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hv(t,e){return el(t).put((r=t.currentSequenceNumber,{targetId:0,path:no(e.path),sequenceNumber:r}));var r}class Zv{constructor(){this.changes=new rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return zd(e).put(r)}removeEntry(e,n,r){return zd(e).delete(function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],hm(c),d[d.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=or.newInvalidDocument(n);return zd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zv(n))},(o,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:or.newInvalidDocument(n)};return zd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zv(n))},(o,c)=>{r={document:this.ts(n,c),size:Bv(c)}}).next(()=>r)}getEntries(e,n){let r=xo();return this.ns(e,n,(o,c)=>{const d=this.ts(o,c);r=r.insert(o,d)}).next(()=>r)}ss(e,n){let r=xo(),o=new Wn(ut.comparator);return this.ns(e,n,(c,d)=>{const m=this.ts(c,d);r=r.insert(c,m),o=o.insert(c,Bv(d))}).next(()=>({documents:r,rs:o}))}ns(e,n,r){if(n.isEmpty())return Ae.resolve();let o=new ir(zE);n.forEach(y=>o=o.add(y));const c=IDBKeyRange.bound(zv(o.first()),zv(o.last())),d=o.getIterator();let m=d.getNext();return zd(e).X({index:"documentKeyIndex",range:c},(y,w,T)=>{const R=ut.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;m&&zE(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,w),m=d.hasNext()?d.getNext():null),m?T.G(zv(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,n,r,o){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),hm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zd(e).j(IDBKeyRange.bound(d,m,!0)).next(y=>{let w=xo();for(const T of y){const R=this.ts(ut.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);R.isFoundDocument()&&(em(n,R)||o.has(R.key))&&(w=w.insert(R.key,R))}return w})}getAllFromCollectionGroup(e,n,r,o){let c=xo();const d=fw(n,r),m=fw(n,Fs.max());return zd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(y,w,T)=>{const R=this.ts(ut.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(R.key,R),c.size===o&&T.done()}).next(()=>c)}newChangeBuffer(e){return new hw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return $v(e).get("remoteDocumentGlobalKey").next(n=>(Dt(!!n),n))}Zn(e,n){return $v(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function lS(t,e){let n;if(e.document)n=dm(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ut.fromSegments(e.noDocument.path),o=cu(e.noDocument.readTime);n=or.newNoDocument(r,o),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=ut.fromSegments(e.unknownDocument.path),o=cu(e.unknownDocument.version);n=or.newUnknownDocument(r,o)}}return e.readTime&&n.setReadTime(function(r){const o=new rr(r[0],r[1]);return St.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return or.newInvalidDocument(e)}}function dw(t){return new hu(t)}class hw extends Zv{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new rc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const n=[];let r=0,o=new ir((c,d)=>Kt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const m=this.us.get(c);if(n.push(this.os.removeEntry(e,c,m.readTime)),d.isValidDocument()){const y=PE(this.os.serializer,d);o=o.add(c.path.popLast());const w=Bv(y);r+=w-m.size,n.push(this.os.addEntry(e,c,y))}else if(r-=m.size,this.trackRemovals){const y=PE(this.os.serializer,d.convertToNoDocument(St.min()));n.push(this.os.addEntry(e,c,y))}}),o.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Ae.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:o})=>(o.forEach((c,d)=>{this.us.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function $v(t){return ii(t,"remoteDocumentGlobal")}function zd(t){return ii(t,"remoteDocumentsV14")}function zv(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fw(t,e){const n=e.documentKey.path.toArray();return[t,hm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zE(t,e){const n=t.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(o=Kt(n[c],r[c]),o)return o;return o=Kt(n.length,r.length),o||(o=Kt(n[n.length-2],r[r.length-2]),o||Kt(n[n.length-1],r[r.length-1]))}class _S{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qE{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&rm(r.mutation,o,us.empty(),rr.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,on()).next(()=>r))}getLocalViewOfDocuments(e,n,r=on()){const o=ic();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(c=>{let d=If();return c.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=ic();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,on()))}populateOverlays(e,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,r,o){let c=xo();const d=Dv(),m=Dv();return n.forEach((y,w)=>{const T=r.get(w.key);o.has(w.key)&&(void 0===T||T.mutation instanceof da)?c=c.insert(w.key,w):void 0!==T?(d.set(w.key,T.mutation.getFieldMask()),rm(T.mutation,w,T.mutation.getFieldMask(),rr.now())):d.set(w.key,us.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((w,T)=>d.set(w,T)),n.forEach((w,T)=>{var R;return m.set(w,new _S(T,null!==(R=d.get(w))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,n){const r=Dv();let o=new Wn((d,m)=>d-m),c=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(y=>{const w=n.get(y);if(null===w)return;let T=r.get(y)||us.empty();T=m.applyToLocalView(w,T),r.set(y,T);const R=(o.get(m.batchId)||on()).add(y);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),w=y.key,T=y.value,R=YT();T.forEach(Q=>{if(!c.has(Q)){const ie=Nb(n.get(Q),r.get(Q));null!==ie&&R.set(Q,ie),c=c.add(Q)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,R))}return Ae.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return ut.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Tb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var o}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):Ae.resolve(ic());let m=-1,y=c;return d.next(w=>Ae.forEach(w,(T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(T)?Ae.resolve():this.remoteDocumentCache.getEntry(e,T).next(Q=>{y=y.insert(T,Q)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,y,w,on())).next(T=>({batchId:m,changes:uE(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next(r=>{let o=If();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let c=If();return this.indexManager.getCollectionParents(e,o).next(d=>Ae.forEach(d,m=>{const y=(w=n,T=m.child(o),new ou(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(c=>{o.forEach((m,y)=>{const w=y.getKey();null===c.get(w)&&(c=c.insert(w,or.newInvalidDocument(w)))});let d=If();return c.forEach((m,y)=>{const w=o.get(m);void 0!==w&&rm(w.mutation,y,us.empty(),rr.now()),em(n,y)&&(d=d.insert(m,y))}),d})}}class bS{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ae.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Or(r.createTime)}),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:ew(r.bundledQuery),readTime:Or(r.readTime)}),Ae.resolve();var r}}class GE{constructor(){this.overlays=new Wn(ut.comparator),this.ls=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ic();return Ae.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,c)=>{this.we(e,n,c)}),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const o=ic(),c=n.length+1,d=new ut(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,w=y.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new Wn((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>r){let T=c.get(w.largestBatchId);null===T&&(T=ic(),c=c.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const m=ic(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>m.set(w,T)),!(m.size()>=o)););return Ae.resolve(m)}we(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new om(n,r));let c=this.ls.get(n);void 0===c&&(c=on(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class WE{constructor(){this.fs=new ir(si.ds),this.ws=new ir(si._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new si(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new si(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ut(new Cn([])),r=new si(n,e),o=new si(n,e+1),c=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),c.push(d.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ut(new Cn([])),r=new si(n,e),o=new si(n,e+1);let c=on();return this.ws.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new si(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class si{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ut.comparator(e.key,n.key)||Kt(e.As,n.As)}static _s(e,n){return Kt(e.As,n.As)||ut.comparator(e.key,n.key)}}class wS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ir(si.ds)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const c=this.vs;this.vs++;const d=new Ub(c,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new si(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ae.resolve(d)}lookupMutationBatch(e,n){return Ae.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.bs(n+1),c=o<0?0:o;return Ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new si(n,0),o=new si(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);c.push(m)}),Ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ir(Kt);return n.forEach(o=>{const c=new si(o,0),d=new si(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],m=>{r=r.add(m.As)})}),Ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ut.isDocumentKey(c)||(c=c.child(""));const d=new si(new ut(c),0);let m=new ir(Kt);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===o&&(m=m.add(y.As)),!0)},d),Ae.resolve(this.Vs(m))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){Dt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ae.forEach(n.mutations,o=>{const c=new si(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new si(n,0),o=this.Rs.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return Ae.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KE{constructor(e){this.Ds=e,this.docs=new Wn(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():or.newInvalidDocument(n))}getEntries(e,n){let r=xo();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():or.newInvalidDocument(o))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=xo();const d=n.path,m=new ut(d.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||av(sv(T),r)<=0||(o.has(T.key)||em(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Ae.resolve(c)}getAllFromCollectionGroup(e,n,r,o){_t()}Cs(e,n){return Ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WM(this)}getSize(e){return Ae.resolve(this.size)}}class WM extends Zv{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),Ae.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class pw{constructor(e){this.persistence=e,this.xs=new rc(n=>iu(n),Qg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ns=0,this.ks=new WE,this.targetCount=0,this.Ms=Xc.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ae.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Fn(n),Ae.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=n&&null===r.get(m.targetId)&&(this.xs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ae.waitFor(c).next(()=>o)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),Ae.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this.ks.containsKey(n))}}class qv{constructor(e,n){this.$s={},this.overlays={},this.Os=new Vo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new pw(this),this.indexManager=new Lv,this.remoteDocumentCache=new KE(r=>this.referenceDelegate.Ls(r)),this.serializer=new Qb(n),this.qs=new bS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new wS(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Qe("MemoryPersistence","Starting transaction:",e);const o=new YE(this.Os.next());return this.referenceDelegate.Us(),r(o).next(c=>this.referenceDelegate.Ks(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gs(e,n){return Ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class YE extends RT{constructor(e){super(),this.currentSequenceNumber=e}}class Gv{constructor(e){this.persistence=e,this.Qs=new WE,this.js=null}static zs(e){return new Gv(e)}get Ws(){if(this.js)return this.js;throw _t()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ws,r=>{const o=ut.fromPath(r);return this.Hs(e,o).next(c=>{c||n.removeEntry(o,St.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ae.or([()=>Ae.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class JE{constructor(e){this.serializer=e}O(e,n,r,o){const c=new cv("createOrUpgrade",n);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dx,{unique:!0}),m.createObjectStore("documentMutations"),qd(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),qd(e)),d=d.next(()=>function(m){const y=m.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(c))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,y){return y.store("mutations").j().next(w=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dx,{unique:!0});const T=y.store("mutations"),R=w.map(Q=>T.put(Q));return Ae.waitFor(R)})}(e,c))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(c))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(c))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,c))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(c))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const y=m.createObjectStore("documentOverlays",{keyPath:Nx});y.createIndex("collectionPathOverlayIndex",HT,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Rx,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const y=m.createObjectStore("remoteDocumentsV14",{keyPath:Sx});y.createIndex("documentKeyIndex",Ax),y.createIndex("collectionGroupIndex",Mx)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,c))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:BT}).createIndex("sequenceNumberIndex",jT,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Px}).createIndex("documentKeyIndex",Ox,{unique:!1})}(e))),d}Xs(e){let n=0;return e.store("remoteDocuments").X((r,o)=>{n+=Bv(o)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(o=>Ae.forEach(o,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>Ae.forEach(m,y=>{Dt(y.userId===c.userId);const w=lu(this.serializer,y);return BE(e,c.userId,w).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.X((d,m)=>{const y=new Cn(d),w=[0,no(y)];c.push(n.get(w).next(T=>T?Ae.resolve():n.put({targetId:0,path:no(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:VT});const r=n.store("collectionParents"),o=new aw,c=d=>{if(o.add(d)){const m=d.lastSegment(),y=d.popLast();return r.put({collectionId:m,parent:no(y)})}};return n.store("remoteDocuments").X({Y:!0},(d,m)=>{const y=new Cn(d);return c(y.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([d,m,y],w)=>{const T=Bo(m);return c(T.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,o)=>{const c=Nf(o),d=Xb(this.serializer,c);return n.put(d)})}ni(e,n){const r=n.store("remoteDocuments"),o=[];return r.X((c,d)=>{const m=n.store("remoteDocumentsV14"),y=(w=d,w.document?new ut(Cn.fromString(w.document.name).popFirst(5)):w.noDocument?ut.fromSegments(w.noDocument.path):w.unknownDocument?ut.fromSegments(w.unknownDocument.path):_t()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(T))}).next(()=>Ae.waitFor(o))}si(e,n){const r=n.store("mutations"),o=dw(this.serializer),c=new qv(Gv.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(y=>{var w;let T=null!==(w=m.get(y.userId))&&void 0!==w?w:on();lu(this.serializer,y).keys().forEach(R=>T=T.add(R)),m.set(y.userId,T)}),Ae.forEach(m,(y,w)=>{const T=new Ti(w),R=rw.de(this.serializer,T),Q=c.getIndexManager(T),ie=jv.de(T,this.serializer,Q,c.referenceDelegate);return new qE(o,ie,R,Q).recalculateAndSaveOverlaysForDocumentKeys(new Fx(n,Vo.ct),y).next()})})}}function qd(t){t.createObjectStore("targetDocuments",{keyPath:Zg}).createIndex("documentTargetsIndex",$g,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UT,{unique:!0}),t.createObjectStore("targetGlobal")}const Uf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wv{constructor(e,n,r,o,c,d,m,y,w,T,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=d,this.document=m,this.ri=w,this.oi=T,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Q=>Promise.resolve(),!Wv.D())throw new Ke(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $E(this,o),this.di=n+"main",this.serializer=new Qb(y),this.wi=new ca(this.di,this.ui,new JE(this.serializer)),this.Bs=new vS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dw(this.serializer),this.qs=new $M,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(Oe.FAILED_PRECONDITION,Uf);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var r,n=this;return this.fi=function(o){return(r=r||(0,De.Z)(function*(c){if(n.started)return e(c)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var n;this.wi.B(function(r){return(n=n||(0,De.Z)(function*(o){null===o.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,De.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(la(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Vf(e).get("owner").next(n=>Ae.resolve(this.Ri(n)))}Pi(e){return Kv(e).delete(this.clientId)}bi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ii(r,"clientMetadata");return o.j().next(c=>{const d=e.Si(c,18e5),m=c.filter(y=>-1===d.indexOf(y));return Ae.forEach(m,y=>o.delete(y.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ae.resolve(!0):Vf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Ke(Oe.FAILED_PRECONDITION,Uf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kv(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Qe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,De.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new Fx(n,Vo.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Kv(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return jv.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return rw.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Qe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===n?"readonly":"readwrite",c=15===(d=this.ui)?UM:14===d?zT:13===d?$T:12===d?ZT:11===d?kx:void _t();var d;let m;return this.wi.runTransaction(e,o,c,y=>(m=new Fx(y,this.Os?this.Os.next():Vo.ct),"readwrite-primary"===n?this.Ti(m).next(w=>!!w||this.Ei(m)).next(w=>{if(!w)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ke(Oe.FAILED_PRECONDITION,mb);return r(m)}).next(w=>this.vi(m).next(()=>w)):this.Oi(m).next(()=>r(m)))).then(y=>(m.raiseOnCommittedEvent(),y))}Oi(e){return Vf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ke(Oe.FAILED_PRECONDITION,Uf)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vf(e).put("owner",n)}static D(){return ca.D()}Ai(e){const n=Vf(e);return n.get("owner").next(r=>this.Ri(r)?(Qe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ae.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,Pn.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vf(t){return ii(t,"owner")}function Kv(t){return ii(t,"clientMetadata")}function gw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class QE{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=on(),o=on();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new QE(e,n.fromCache,r,o)}}class mw{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(c=>c||this.Gi(e,n,o,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(iE(n))return Ae.resolve(null);let r=ro(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=Iv(n,null,"F"),r=ro(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=on(...c);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(n,m);return this.zi(n,w,d,y.readTime)?this.Ki(e,Iv(n,null,"F")):this.Wi(e,w,n,y)}))})))}Gi(e,n,r,o){return iE(n)||o.isEqual(St.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const d=this.ji(n,c);return this.zi(n,d,r,o)?this.Qi(e,n):(Bg()<=Wc.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ab(n)),this.Wi(e,d,n,NT(o,-1)))})}ji(e,n){let r=new ir(cE(e));return n.forEach((o,c)=>{em(e,c)&&(r=r.add(c))}),r}zi(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Qi(e,n){return Bg()<=Wc.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Ab(n)),this.Ui.getDocumentsMatchingQuery(e,n,Fs.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}class CS{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new Wn(Kt),this.Yi=new rc(c=>iu(c),Qg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function XE(t,e,n,r){return new CS(t,e,n,r)}function eI(t,e){return(nx=nx||(0,De.Z)(function*(n,r){const o=pt(n);return yield o.persistence.runTransaction("Handle user change","readonly",c=>{let d;return o.mutationQueue.getAllMutationBatches(c).next(m=>(d=m,o.tr(r),o.mutationQueue.getAllMutationBatches(c))).next(m=>{const y=[],w=[];let T=on();for(const R of d){y.push(R.batchId);for(const Q of R.mutations)T=T.add(Q.key)}for(const R of m){w.push(R.batchId);for(const Q of R.mutations)T=T.add(Q.key)}return o.localDocuments.getDocuments(c,T).next(R=>({er:R,removedBatchIds:y,addedBatchIds:w}))})})})).apply(this,arguments)}function xS(t){const e=pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function nI(t,e,n){let r=on(),o=on();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let d=xo();return n.forEach((m,y)=>{const w=c.get(m);y.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):Qe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",w.version," Watch version:",y.version)}),{nr:d,sr:o}})}function ES(t,e){const n=pt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bf(t,e){const n=pt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(c=>c?(o=c,Ae.resolve(o)):n.Bs.allocateTargetId(r).next(d=>(o=new ac(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function gm(t,e,n){return($r=$r||(0,De.Z)(function*(r,o,c){const d=pt(r),m=d.Ji.get(o),y=c?"readwrite":"readwrite-primary";try{c||(yield d.persistence.runTransaction("Release target",y,w=>d.persistence.referenceDelegate.removeTarget(w,m)))}catch(w){if(!la(w))throw w;Qe("LocalStore",`Failed to update sequence numbers for target ${o}: ${w}`)}d.Ji=d.Ji.remove(o),d.Yi.delete(m.target)})).apply(this,arguments)}function vw(t,e,n){const r=pt(t);let o=St.min(),c=on();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,y,w){const T=pt(m),R=T.Yi.get(w);return void 0!==R?Ae.resolve(T.Ji.get(R)):T.Bs.getTargetData(y,w)}(r,d,ro(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,n?o:St.min(),n?c:on())).next(m=>(TS(r,aE(e),m),{documents:m,ir:c})))}function IS(t,e){const n=pt(t),r=pt(n.Bs),o=n.Ji.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(d=>d?d.target:null))}function DS(t,e){const n=pt(t),r=n.Xi.get(e)||St.min();return n.persistence.runTransaction("Get new document changes","readonly",o=>n.Zi.getAllFromCollectionGroup(o,e,NT(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(TS(n,e,o),o))}function TS(t,e,n){let r=t.Xi.get(e)||St.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function Yv(t,e){return(rx=rx||(0,De.Z)(function*(n,r,o=on()){const c=yield Bf(n,ro(ew(r.bundledQuery))),d=pt(n);return d.persistence.runTransaction("Save named query","readwrite",m=>{const y=Or(r.readTime);if(c.snapshotVersion.compareTo(y)>=0)return d.qs.saveNamedQuery(m,r);const w=c.withResumeToken(oi.EMPTY_BYTE_STRING,y);return d.Ji=d.Ji.insert(w.targetId,w),d.Bs.updateTargetData(m,w).next(()=>d.Bs.removeMatchingKeysForTargetId(m,c.targetId)).next(()=>d.Bs.addMatchingKeys(m,o,c.targetId)).next(()=>d.qs.saveNamedQuery(m,r))})})).apply(this,arguments)}function rI(t,e){return`firestore_clients_${t}_${e}`}function iI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Jv(t,e){return`firestore_targets_${t}_${e}`}class cc{constructor(e,n,r,o){this.user=e,this.batchId=n,this.state=r,this.error=o}static ar(e,n,r){const o=JSON.parse(r);let c,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Ke(o.error.code,o.error.message))),d?new cc(e,n,o.state,c):(Cr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ke(r.error.code,r.error.message))),c?new jf(e,r.state,o):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=Pb();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=vb(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return o?new Hf(e,c):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class mm{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new mm(n.clientId,n.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yw{constructor(){this.activeTargetIds=Pb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vm{constructor(e,n,r,o,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Wn(Kt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=rI(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new yw),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const n=yield e.syncEngine.$i();for(const o of n){if(o===e.wr)continue;const c=e.getItem(rI(e.persistenceKey,o));if(c){const d=Hf.ar(o,c);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Jv(this.persistenceKey,e));if(r){const o=jf.ar(e,r);o&&(n=o.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jv(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Qe("SharedClientState","READ",e,n),n}setItem(e,n){Qe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,De.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const o=n.Or(r.key);return n.Fr(o,null)}{const o=n.Br(r.key,r.newValue);if(o)return n.Fr(o.clientId,o)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const o=n.Lr(r.key,r.newValue);if(o)return n.qr(o)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const o=n.Ur(r.key,r.newValue);if(o)return n.Kr(o)}}else if(r.key===n.vr){if(null!==r.newValue){const o=n.br(r.newValue);if(o)return n.Vr(o)}}else if(r.key===n.Ir){const o=function(c){let d=Vo.ct;if(null!=c)try{const m=JSON.parse(c);Dt("number"==typeof m),d=m}catch(m){Cr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Vo.ct&&n.sequenceNumberHandler(o)}else if(r.key===n.Rr){const o=n.Gr(r.newValue);yield Promise.all(o.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const o=new cc(this.currentUser,e,n,r),c=iI(this.persistenceKey,this.currentUser,e);this.setItem(c,o.hr())}Cr(e){const n=iI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const o=Jv(this.persistenceKey,e),c=new jf(e,n,r);this.setItem(o,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Hf.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),o=Number(r[1]);return cc.ar(new Ti(void 0!==r[2]?r[2]:null),o,n)}Ur(e,n){const r=this.Ar.exec(e),o=Number(r[1]);return jf.ar(o,n)}br(e){return mm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,De.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),o=this.Sr(this.gr),c=this.Sr(r),d=[],m=[];return c.forEach(y=>{o.has(y)||d.push(y)}),o.forEach(y=>{c.has(y)||m.push(y)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Pb();return e.forEach((r,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class Qv{constructor(){this.Hr=new yw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xv{Yr(e){}shutdown(){}}class AS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _w=null;function oI(){return null===_w?_w=268435456+Math.round(2147483648*Math.random()):_w++,"0x"+_w.toString(16)}const sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const so="WebChannelConnection";class PS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,c){const d=oI(),m=this.To(e,n);Qe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const y={};return this.Eo(y,o,c),this.Ao(e,m,y,r).then(w=>(Qe("RestConnection",`Received RPC '${e}' ${d}: `,w),w),w=>{throw cs("RestConnection",`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",r),w})}vo(e,n,r,o,c,d){return this.Io(e,n,r,o,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}To(e,n){return`${this.mo}/v1/${n}:${sI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const c=oI();return new Promise((d,m)=>{const y=new FM;y.setWithCredentials(!0),y.listenOnce(Md.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ug.NO_ERROR:const T=y.getResponseJson();Qe(so,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ug.TIMEOUT:Qe(so,`RPC '${e}' ${c} timed out`),m(new Ke(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ug.HTTP_ERROR:const R=y.getStatus();if(Qe(so,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ie=Q?.error;if(ie&&ie.status&&ie.message){const Me=function($e){const He=$e.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(He)>=0?He:Oe.UNKNOWN}(ie.status);m(new Ke(Me,ie.message))}else m(new Ke(Oe.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new Ke(Oe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Qe(so,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(o);Qe(so,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",w,r,15)})}Ro(e,n,r){const o=oI(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=bT(),m=wT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new Y_({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=c.join("");Qe(so,`Creating RPC '${e}' stream ${o}: ${T}`,y);const R=d.createWebChannel(T,y);let Q=!1,ie=!1;const Me=new MS({ro:He=>{ie?Qe(so,`Not sending because RPC '${e}' stream ${o} is closed:`,He):(Q||(Qe(so,`Opening RPC '${e}' stream ${o} transport.`),R.open(),Q=!0),Qe(so,`RPC '${e}' stream ${o} sending:`,He),R.send(He))},oo:()=>R.close()}),$e=(He,rt,bt)=>{He.listen(rt,ft=>{try{bt(ft)}catch(ot){setTimeout(()=>{throw ot},0)}})};return $e(R,J_.EventType.OPEN,()=>{ie||Qe(so,`RPC '${e}' stream ${o} transport opened.`)}),$e(R,J_.EventType.CLOSE,()=>{ie||(ie=!0,Qe(so,`RPC '${e}' stream ${o} transport closed`),Me.wo())}),$e(R,J_.EventType.ERROR,He=>{ie||(ie=!0,cs(so,`RPC '${e}' stream ${o} transport errored:`,He),Me.wo(new Ke(Oe.UNAVAILABLE,"The operation could not be completed")))}),$e(R,J_.EventType.MESSAGE,He=>{var rt;if(!ie){const bt=He.data[0];Dt(!!bt);const ot=bt.error||(null===(rt=bt[0])||void 0===rt?void 0:rt.error);if(ot){Qe(so,`RPC '${e}' stream ${o} received error:`,ot);const Ot=ot.status;let xn=function(uc){const yu=Er[uc];if(void 0!==yu)return vE(yu)}(Ot),ci=ot.message;void 0===xn&&(xn=Oe.INTERNAL,ci="Unknown error status: "+Ot+" with message "+ot.message),ie=!0,Me.wo(new Ke(xn,ci)),R.close()}else Qe(so,`RPC '${e}' stream ${o} received:`,bt),Me._o(bt)}}),$e(m,K_.STAT_EVENT,He=>{He.stat===tx.PROXY?Qe(so,`RPC '${e}' stream ${o} detected buffering proxy`):He.stat===tx.NOPROXY&&Qe(so,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Me.fo()},0),Me}}function aI(){return typeof window<"u"?window:null}function ym(){return typeof document<"u"?document:null}function Zf(t){return new Zb(t,!0)}class ey{constructor(e,n,r=1e3,o=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&Qe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cI{constructor(e,n,r,o,c,d,m,y){this.ii=e,this.$o=r,this.Oo=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ey(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,De.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,De.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,De.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===Oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new Ke(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,De.Z)(function*(){e.state=0,e.start()}))}tu(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends cI{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function HM(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:_t(),o=e.targetChange.targetIds||[],c=function(y,w){return y.useProto3Json?(Dt(void 0===w||"string"==typeof w),oi.fromBase64String(w||"")):(Dt(void 0===w||w instanceof Uint8Array),oi.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const w=void 0===y.code?Oe.UNKNOWN:vE(y.code);return new Ke(w,y.message||"")}(d);n=new bE(r,o,c,m||null)}else if("documentChange"in e){const r=e.documentChange,o=sc(t,r.document.name),c=Or(r.document.updateTime),d=r.document.createTime?Or(r.document.createTime):St.min(),m=new Si({mapValue:{fields:r.document.fields}}),y=or.newFoundDocument(o,c,d,m);n=new Rv(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=sc(t,r.document),c=r.readTime?Or(r.readTime):St.min(),d=or.newNoDocument(o,c);n=new Rv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=sc(t,r.document);n=new Rv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return _t();{const r=e.filter,{count:o=0,unchangedNames:c}=r,d=new Vb(o,c);n=new Hb(r.targetId,d)}}var y;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Or(c.readTime):St.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Bd(this.serializer),n.addTarget=function(o,c){let d;const m=c.target;if(d=Cv(m)?{documents:jd(o,m)}:{query:Wb(o,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=oS(o,c.resumeToken);const y=EE(o,c.expectedCount);null!==y&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=cm(o,c.snapshotVersion.toTimestamp());const y=EE(o,c.expectedCount);null!==y&&(d.expectedCount=y)}return d}(this.serializer,e);const r=function Yb(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Bd(this.serializer),n.removeTarget=e,this.Wo(n)}}class lI extends cI{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function SE(t,e){return t&&t.length>0?(Dt(void 0!==e),t.map(n=>function(r,o){let c=Or(r.updateTime?r.updateTime:o);return c.isEqual(St.min())&&(c=Or(o)),new rS(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.cu(r,n)}return Dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Bd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Pf(this.serializer,r))};this.Wo(n)}}class bw extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Io(e,n,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Oe.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.vo(e,n,r,c,d,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ke(Oe.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class uI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Cr(n),this.mu=!1):Qe("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ww{constructor(e,n,r,o,c){var d=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(m=>{r.enqueueAndForget((0,De.Z)(function*(){var y;tl(d)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield function(w){return(y=y||(0,De.Z)(function*(T){const R=pt(T);R.vu.add(4),yield $f(R),R.bu.set("Unknown"),R.vu.delete(4),yield _m(R)})).apply(this,arguments)}(d))}))}),this.bu=new uI(r,o)}}function _m(t){return(eb=eb||(0,De.Z)(function*(e){if(tl(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function $f(t){return(ox=ox||(0,De.Z)(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function Cw(t,e){const n=pt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Iw(n)?Ew(n):wm(n).Ko()&&xw(n,e))}function ty(t,e){const n=pt(t),r=wm(n);n.Au.delete(e),r.Ko()&&dI(n,e),0===n.Au.size&&(r.Ko()?r.jo():tl(n)&&n.bu.set("Unknown"))}function xw(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wm(t).su(e)}function dI(t,e){t.Vu.qt(e),wm(t).iu(e)}function Ew(t){t.Vu=new Af({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wm(t).start(),t.bu.gu()}function Iw(t){return tl(t)&&!wm(t).Uo()&&t.Au.size>0}function tl(t){return 0===pt(t).vu.size}function Dw(t){t.Vu=void 0}function NS(t){return(tb=tb||(0,De.Z)(function*(e){e.Au.forEach((n,r)=>{xw(e,n)})})).apply(this,arguments)}function hI(t,e){return(nb=nb||(0,De.Z)(function*(n,r){Dw(n),Iw(n)?(n.bu.Iu(r),Ew(n)):n.bu.set("Unknown")})).apply(this,arguments)}function fI(t,e,n){return(Pd=Pd||(0,De.Z)(function*(r,o,c){if(r.bu.set("Online"),o instanceof bE&&2===o.state&&o.cause)try{var d;yield function(m,y){return(d=d||(0,De.Z)(function*(w,T){const R=T.cause;for(const Q of T.targetIds)w.Au.has(Q)&&(yield w.remoteSyncer.rejectListen(Q,R),w.Au.delete(Q),w.Vu.removeTarget(Q))})).apply(this,arguments)}(r,o)}catch(m){Qe("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),m),yield Tw(r,m)}else if(o instanceof Rv?r.Vu.Ht(o):o instanceof Hb?r.Vu.ne(o):r.Vu.Xt(o),!c.isEqual(St.min()))try{const m=yield xS(r.localStore);c.compareTo(m)>=0&&(yield function(y,w){const T=y.Vu.ce(w);return T.targetChanges.forEach((R,Q)=>{if(R.resumeToken.approximateByteSize()>0){const ie=y.Au.get(Q);ie&&y.Au.set(Q,ie.withResumeToken(R.resumeToken,w))}}),T.targetMismatches.forEach((R,Q)=>{const ie=y.Au.get(R);if(!ie)return;y.Au.set(R,ie.withResumeToken(oi.EMPTY_BYTE_STRING,ie.snapshotVersion)),dI(y,R);const Me=new ac(ie.target,R,Q,ie.sequenceNumber);xw(y,Me)}),y.remoteSyncer.applyRemoteEvent(T)}(r,c))}catch(m){Qe("RemoteStore","Failed to raise snapshot:",m),yield Tw(r,m)}})).apply(this,arguments)}function Tw(t,e,n){return(sx=sx||(0,De.Z)(function*(r,o,c){if(!la(o))throw o;r.vu.add(1),yield $f(r),r.bu.set("Offline"),c||(c=()=>xS(r.localStore)),r.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield c(),r.vu.delete(1),yield _m(r)}))})).apply(this,arguments)}function pI(t,e){return e().catch(n=>Tw(t,n,e))}function fu(t){return(ax=ax||(0,De.Z)(function*(e){const n=pt(e),r=pu(n);let o=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;gI(n);)try{const c=yield ES(n.localStore,o);if(null===c){0===n.Eu.length&&r.jo();break}o=c.batchId,mI(n,c)}catch(c){yield Tw(n,c)}vI(n)&&bm(n)})).apply(this,arguments)}function gI(t){return tl(t)&&t.Eu.length<10}function mI(t,e){t.Eu.push(e);const n=pu(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function vI(t){return tl(t)&&!pu(t).Uo()&&t.Eu.length>0}function bm(t){pu(t).start()}function RS(t){return(rb=rb||(0,De.Z)(function*(e){pu(e).hu()})).apply(this,arguments)}function kS(t){return(cx=cx||(0,De.Z)(function*(e){const n=pu(e);for(const r of e.Eu)n.uu(r.mutations)})).apply(this,arguments)}function yI(t,e,n){return(ib=ib||(0,De.Z)(function*(r,o,c){const d=r.Eu.shift(),m=im.from(d,o,c);yield pI(r,()=>r.remoteSyncer.applySuccessfulWrite(m)),yield fu(r)})).apply(this,arguments)}function _I(t,e){return(xT=xT||(0,De.Z)(function*(n,r){var o;r&&pu(n).ou&&(yield function(c,d){return(o=o||(0,De.Z)(function*(m,y){if(mE(w=y.code)&&w!==Oe.ABORTED){const T=m.Eu.shift();pu(m).Qo(),yield pI(m,()=>m.remoteSyncer.rejectFailedWrite(T.batchId,y)),yield fu(m)}var w})).apply(this,arguments)}(n,r)),vI(n)&&bm(n)})).apply(this,arguments)}function FS(t,e){return(ob=ob||(0,De.Z)(function*(n,r){const o=pt(n);o.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const c=tl(o);o.vu.add(3),yield $f(o),c&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(r),o.vu.delete(3),yield _m(o)})).apply(this,arguments)}function Sw(t,e){return(tv=tv||(0,De.Z)(function*(n,r){const o=pt(n);r?(o.vu.delete(2),yield _m(o)):r||(o.vu.add(2),yield $f(o),o.bu.set("Unknown"))})).apply(this,arguments)}function wm(t){var e;return t.Su||(t.Su=function(n,r,o){const c=pt(n);return c.fu(),new OS(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(t.datastore,t.asyncQueue,{uo:NS.bind(null,t),ao:hI.bind(null,t),nu:fI.bind(null,t)}),t.Ru.push(function(n){return(e=e||(0,De.Z)(function*(r){r?(t.Su.Qo(),Iw(t)?Ew(t):t.bu.set("Unknown")):(yield t.Su.stop(),Dw(t))})).apply(this,arguments)})),t.Su}function pu(t){var e;return t.Du||(t.Du=function(n,r,o){const c=pt(n);return c.fu(),new lI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(t.datastore,t.asyncQueue,{uo:RS.bind(null,t),ao:_I.bind(null,t),au:kS.bind(null,t),cu:yI.bind(null,t)}),t.Ru.push(function(n){return(e=e||(0,De.Z)(function*(r){r?(t.Du.Qo(),yield fu(t)):(yield t.Du.stop(),t.Eu.length>0&&(Qe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class bI{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,m=new bI(e,n,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),la(t))return new Ke(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}class zf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=If(),this.sortedSet=new Wn(this.comparator)}static emptySet(e){return new zf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new zf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class wI{constructor(){this.Cu=new Wn(ut.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):_t():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class xm{constructor(e,n,r,o,c,d,m,y,w){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new xm(e,n,zf.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class JM{constructor(){this.Nu=void 0,this.listeners=[]}}class QM{constructor(){this.queries=new rc(e=>sE(e),Xg),this.onlineState="Unknown",this.ku=new Set}}function CI(t,e){return(oa=oa||(0,De.Z)(function*(n,r){const o=pt(n),c=r.query;let d=!1,m=o.queries.get(c);if(m||(d=!0,m=new JM),d)try{m.Nu=yield o.onListen(c)}catch(y){const w=Cm(y,`Initialization of query '${Ab(r.query)}' failed`);return void r.onError(w)}o.queries.set(c,m),m.listeners.push(r),r.Mu(o.onlineState),m.Nu&&r.$u(m.Nu)&&EI(o)})).apply(this,arguments)}function xI(t,e){return(lx=lx||(0,De.Z)(function*(n,r){const o=pt(n),c=r.query;let d=!1;const m=o.queries.get(c);if(m){const y=m.listeners.indexOf(r);y>=0&&(m.listeners.splice(y,1),d=0===m.listeners.length)}if(d)return o.queries.delete(c),o.onUnlisten(c)})).apply(this,arguments)}function LS(t,e){const n=pt(t);let r=!1;for(const o of e){const d=n.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&EI(n)}function XM(t,e,n){const r=pt(t),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(n);r.queries.delete(e)}function EI(t){t.ku.forEach(e=>{e.next()})}class II{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new xm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class eP{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class US{constructor(e){this.serializer=e}rr(e){return sc(this.serializer,e)}ur(e){return e.metadata.exists?dm(this.serializer,e.document,!1):or.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Or(e)}}class VS{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BS(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Cn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new US(this.serializer);for(const o of e)if(o.metadata.queries){const c=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(n.get(d)||on()).add(c);n.set(d,m)}}return n}complete(){var e=this;return(0,De.Z)(function*(){const n=yield function SS(t,e,n,r){return(X_=X_||(0,De.Z)(function*(o,c,d,m){const y=pt(o);let w=on(),T=xo();for(const ie of d){const Me=c.rr(ie.metadata.name);ie.document&&(w=w.add(Me));const $e=c.ur(ie);$e.setReadTime(c.cr(ie.metadata.readTime)),T=T.insert(Me,$e)}const R=y.Zi.newChangeBuffer({trackRemovals:!0}),Q=yield Bf(y,(ie=m,ro(Ef(Cn.fromString(`__bundle__/docs/${ie}`)))));var ie;return y.persistence.runTransaction("Apply bundle documents","readwrite",ie=>nI(ie,R,T).next(Me=>(R.apply(ie),Me)).next(Me=>y.Bs.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>y.Bs.addMatchingKeys(ie,w,Q.targetId)).next(()=>y.localDocuments.getLocalViewOfDocuments(ie,Me.nr,Me.sr)).next(()=>Me.nr)))})).apply(this,arguments)}(e.localStore,new US(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield Yv(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function BS(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class i{constructor(e){this.key=e}}class s{constructor(e){this.key=e}}class l{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=on(),this.mutatedKeys=on(),this.tc=cE(e),this.ec=new zf(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new wI,o=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,w="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const Q=o.get(T),ie=em(this.query,R)?R:null,Me=!!Q&&this.mutatedKeys.has(Q.key),$e=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let He=!1;Q&&ie?Q.data.isEqual(ie.data)?Me!==$e&&(r.track({type:3,doc:ie}),He=!0):this.rc(Q,ie)||(r.track({type:2,doc:ie}),He=!0,(y&&this.tc(ie,y)>0||w&&this.tc(ie,w)<0)&&(m=!0)):!Q&&ie?(r.track({type:0,doc:ie}),He=!0):Q&&!ie&&(r.track({type:1,doc:Q}),He=!0,(y||w)&&(m=!0)),He&&(ie?(d=d.add(ie),c=$e?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{ec:d,ic:r,zi:m,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((w,T)=>function(R,Q){const ie=Me=>{switch(Me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return ie(R)-ie(Q)}(w.type,T.type)||this.tc(w.doc,T.doc)),this.oc(r);const d=n?this.uc():[],m=0===this.Zu.size&&this.current?1:0,y=m!==this.Xu;return this.Xu=m,0!==c.length||y?{snapshot:new xm(this.query,e.ec,o,c,e.mutatedKeys,0===m,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=on(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new s(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new i(r))}),n}hc(e){this.Yu=e.ir,this.Zu=on();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return xm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class u{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h{constructor(e){this.key=e,this.fc=!1}}class f{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new rc(m=>sE(m),Xg),this._c=new Map,this.mc=new Set,this.gc=new Wn(ut.comparator),this.yc=new Map,this.Ic=new WE,this.Tc={},this.Ec=new Map,this.Ac=Xc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function v(t,e){return(ux=ux||(0,De.Z)(function*(n,r){const o=ZS(n);let c,d;const m=o.wc.get(r);if(m)c=m.targetId,o.sharedClientState.addLocalQueryTarget(c),d=m.view.lc();else{const y=yield Bf(o.localStore,ro(r)),w=o.sharedClientState.addLocalQueryTarget(y.targetId);c=y.targetId,d=yield b(o,r,c,"current"===w,y.resumeToken),o.isPrimaryClient&&Cw(o.remoteStore,y)}return d})).apply(this,arguments)}function b(t,e,n,r,o){return(sa=sa||(0,De.Z)(function*(c,d,m,y,w){c.Rc=(He,rt,bt)=>{var ft;return function(ot,Ot,xn,ci){return(ft=ft||(0,De.Z)(function*(uc,yu,Z4,i2){let hD=yu.view.sc(Z4);hD.zi&&(hD=yield vw(uc.localStore,yu.query,!1).then(({documents:z4})=>yu.view.sc(z4,hD)));const $4=i2&&i2.targetChanges.get(yu.targetId),o2=yu.view.applyChanges(hD,uc.isPrimaryClient,$4);return sn(uc,yu.targetId,o2.cc),o2.snapshot})).apply(this,arguments)}(c,He,rt,bt)};const T=yield vw(c.localStore,d,!0),R=new l(d,T.ir),Q=R.sc(T.documents),ie=Sf.createSynthesizedTargetChangeForCurrentChange(m,y&&"Offline"!==c.onlineState,w),Me=R.applyChanges(Q,c.isPrimaryClient,ie);sn(c,m,Me.cc);const $e=new u(d,m,R);return c.wc.set(d,$e),c._c.has(m)?c._c.get(m).push(d):c._c.set(m,[d]),Me.snapshot})).apply(this,arguments)}function C(t,e){return(Rs=Rs||(0,De.Z)(function*(n,r){const o=pt(n),c=o.wc.get(r),d=o._c.get(c.targetId);if(d.length>1)return o._c.set(c.targetId,d.filter(m=>!Xg(m,r))),void o.wc.delete(r);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield gm(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),ty(o.remoteStore,c.targetId),We(o,c.targetId)}).catch(ls))):(We(o,c.targetId),yield gm(o.localStore,c.targetId,!0))})).apply(this,arguments)}function F(t,e){return(sb=sb||(0,De.Z)(function*(n,r){const o=pt(n);try{const c=yield function tI(t,e){const n=pt(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const m=[];e.targetChanges.forEach((T,R)=>{const Q=o.get(R);if(!Q)return;m.push(n.Bs.removeMatchingKeys(c,T.removedDocuments,R).next(()=>n.Bs.addMatchingKeys(c,T.addedDocuments,R)));let ie=Q.withSequenceNumber(c.currentSequenceNumber);var Me,$e,He;null!==e.targetMismatches.get(R)?ie=ie.withResumeToken(oi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(ie=ie.withResumeToken(T.resumeToken,r)),o=o.insert(R,ie),$e=ie,He=T,(0===(Me=Q).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=3e8||He.addedDocuments.size+He.modifiedDocuments.size+He.removedDocuments.size>0)&&m.push(n.Bs.updateTargetData(c,ie))});let y=xo(),w=on();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(nI(c,d,e.documentUpdates).next(T=>{y=T.nr,w=T.sr})),!r.isEqual(St.min())){const T=n.Bs.getLastRemoteSnapshotVersion(c).next(R=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(T)}return Ae.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,w)).next(()=>y)}).then(c=>(n.Ji=o,c))}(o.localStore,r);r.targetChanges.forEach((d,m)=>{const y=o.yc.get(m);y&&(Dt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?y.fc=!0:d.modifiedDocuments.size>0?Dt(y.fc):d.removedDocuments.size>0&&(Dt(y.fc),y.fc=!1))}),yield ji(o,c,r)}catch(c){yield ls(c)}})).apply(this,arguments)}function K(t,e,n){const r=pt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.wc.forEach((c,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(c,d){const m=pt(c);m.onlineState=d;let y=!1;m.queries.forEach((w,T)=>{for(const R of T.listeners)R.Mu(d)&&(y=!0)}),y&&EI(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ve(t,e,n){return(ab=ab||(0,De.Z)(function*(r,o,c){const d=pt(r);d.sharedClientState.updateQueryState(o,"rejected",c);const m=d.yc.get(o),y=m&&m.key;if(y){let w=new Wn(ut.comparator);w=w.insert(y,or.newNoDocument(y,St.min()));const T=on().add(y),R=new Tf(St.min(),new Map,new Wn(Kt),w,T);yield F(d,R),d.gc=d.gc.remove(y),d.yc.delete(o),ao(d)}else yield gm(d.localStore,o,!1).then(()=>We(d,o,c)).catch(ls)})).apply(this,arguments)}function xe(t,e){return(dx=dx||(0,De.Z)(function*(n,r){const o=pt(n),c=r.batch.batchId;try{const d=yield function KM(t,e){const n=pt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,y,w){const T=y.batch,R=T.keys();let Q=Ae.resolve();return R.forEach(ie=>{Q=Q.next(()=>w.getEntry(m,ie)).next(Me=>{const $e=y.docVersions.get(ie);Dt(null!==$e),Me.version.compareTo($e)<0&&(T.applyToRemoteDocument(Me,y),Me.isValidDocument()&&(Me.setReadTime(y.commitVersion),w.addEntry(Me)))})}),Q.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=on();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}(o.localStore,r);Tt(o,c,null),dt(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield ji(o,d)}catch(d){yield ls(d)}})).apply(this,arguments)}function Ve(t,e,n){return(hx=hx||(0,De.Z)(function*(r,o,c){const d=pt(r);try{const m=yield function(y,w){const T=pt(y);return T.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let Q;return T.mutationQueue.lookupMutationBatch(R,w).next(ie=>(Dt(null!==ie),Q=ie.keys(),T.mutationQueue.removeMutationBatch(R,ie))).next(()=>T.mutationQueue.performConsistencyCheck(R)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(R,Q,w)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,Q)).next(()=>T.localDocuments.getDocuments(R,Q))})}(d.localStore,o);Tt(d,o,c),dt(d,o),d.sharedClientState.updateMutationState(o,"rejected",c),yield ji(d,m)}catch(m){yield ls(m)}})).apply(this,arguments)}function dt(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Tt(t,e,n){const r=pt(t);let o=r.Tc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function We(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Ht(t,r)})}function Ht(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ty(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ao(t))}function sn(t,e,n){for(const r of n)r instanceof i?(t.Ic.addReference(r.key,e),Vn(t,r)):r instanceof s?(Qe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Ht(t,r.key)):_t()}function Vn(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Qe("SyncEngine","New document in limbo: "+n),t.mc.add(r),ao(t))}function ao(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ut(Cn.fromString(e)),r=t.Ac.next();t.yc.set(r,new h(n)),t.gc=t.gc.insert(n,r),Cw(t.remoteStore,new ac(ro(Ef(n.path)),r,"TargetPurposeLimboResolution",Vo.ct))}}function ji(t,e,n){return(px=px||(0,De.Z)(function*(r,o,c){var d;const m=pt(r),y=[],w=[],T=[];m.wc.isEmpty()||(m.wc.forEach((R,Q)=>{T.push(m.Rc(Q,o,c).then(ie=>{if((ie||c)&&m.isPrimaryClient&&m.sharedClientState.updateQueryState(Q.targetId,ie?.fromCache?"not-current":"current"),ie){y.push(ie);const Me=QE.Li(Q.targetId,ie);w.push(Me)}}))}),yield Promise.all(T),m.dc.nu(y),yield function(R,Q){return(d=d||(0,De.Z)(function*(ie,Me){const $e=pt(ie);try{yield $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>Ae.forEach(Me,rt=>Ae.forEach(rt.Fi,bt=>$e.persistence.referenceDelegate.addReference(He,rt.targetId,bt)).next(()=>Ae.forEach(rt.Bi,bt=>$e.persistence.referenceDelegate.removeReference(He,rt.targetId,bt)))))}catch(He){if(!la(He))throw He;Qe("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Me){const rt=He.targetId;if(!He.fromCache){const bt=$e.Ji.get(rt),ot=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);$e.Ji=$e.Ji.insert(rt,ot)}}})).apply(this,arguments)}(m.localStore,w))})).apply(this,arguments)}function qf(t,e){return(nv=nv||(0,De.Z)(function*(n,r){const o=pt(n);if(!o.currentUser.isEqual(r)){Qe("SyncEngine","User change. New user:",r.toKey());const c=yield eI(o.localStore,r);o.currentUser=r,(d=o).Ec.forEach(y=>{y.forEach(w=>{w.reject(new Ke(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ec.clear(),o.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield ji(o,c.er)}var d})).apply(this,arguments)}function Aw(t,e){const n=pt(t),r=n.yc.get(e);if(r&&r.fc)return on().add(r.key);{let o=on();const c=n._c.get(e);if(!c)return o;for(const d of c){const m=n.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function jS(t,e){return(vf=vf||(0,De.Z)(function*(n,r){const o=pt(n),c=yield vw(o.localStore,r.query,!0),d=r.view.hc(c);return o.isPrimaryClient&&sn(o,r.targetId,d.cc),d})).apply(this,arguments)}function HS(t,e){return(gx=gx||(0,De.Z)(function*(n,r){const o=pt(n);return DS(o.localStore,r).then(c=>ji(o,c))})).apply(this,arguments)}function f2(t,e,n,r){return(cb=cb||(0,De.Z)(function*(o,c,d,m){const y=pt(o),w=yield function(T,R){const Q=pt(T),ie=pt(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Me=>ie.Sn(Me,R).next($e=>$e?Q.localDocuments.getDocuments(Me,$e):Ae.resolve(null)))}(y.localStore,c);var R;null!==w?("pending"===d?yield fu(y.remoteStore):"acknowledged"===d||"rejected"===d?(Tt(y,c,m||null),dt(y,c),R=c,pt(pt(y.localStore).mutationQueue).Cn(R)):_t(),yield ji(y,w)):Qe("SyncEngine","Cannot apply mutation batch with id: "+c)})).apply(this,arguments)}function tP(t,e,n){return(vx=vx||(0,De.Z)(function*(r,o,c){const d=pt(r),m=[],y=[];for(const w of o){let T;const R=d._c.get(w);if(R&&0!==R.length){T=yield Bf(d.localStore,ro(R[0]));for(const Q of R){const ie=d.wc.get(Q),Me=yield jS(d,ie);Me.snapshot&&y.push(Me.snapshot)}}else{const Q=yield IS(d.localStore,w);T=yield Bf(d.localStore,Q),yield b(d,nP(Q),w,!1,T.resumeToken)}m.push(T)}return d.dc.nu(y),m})).apply(this,arguments)}function nP(t){return Db(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function g2(t){const e=pt(t);return pt(pt(e.localStore).persistence).$i()}function m2(t,e,n,r){return(lb=lb||(0,De.Z)(function*(o,c,d,m){const y=pt(o);if(y.vc)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const w=y._c.get(c);if(w&&w.length>0)switch(d){case"current":case"not-current":{const T=yield DS(y.localStore,aE(w[0])),R=Tf.createSynthesizedRemoteEventForCurrentChange(c,"current"===d,oi.EMPTY_BYTE_STRING);yield ji(y,T,R);break}case"rejected":yield gm(y.localStore,c,!0),We(y,c,m);break;default:_t()}})).apply(this,arguments)}function v2(t,e,n){return(ub=ub||(0,De.Z)(function*(r,o,c){const d=ZS(r);if(d.vc){for(const m of o){if(d._c.has(m)){Qe("SyncEngine","Adding an already active target "+m);continue}const y=yield IS(d.localStore,m),w=yield Bf(d.localStore,y);yield b(d,nP(y),w.targetId,!1,w.resumeToken),Cw(d.remoteStore,w)}for(const m of c)d._c.has(m)&&(yield gm(d.localStore,m,!1).then(()=>{ty(d.remoteStore,m),We(d,m)}).catch(ls))}})).apply(this,arguments)}function ZS(t){const e=pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ve.bind(null,e),e.dc.nu=LS.bind(null,e.eventManager),e.dc.Pc=XM.bind(null,e.eventManager),e}function $S(t){const e=pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ve.bind(null,e),e}class Mw{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,De.Z)(function*(){n.serializer=Zf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XE(this.persistence,new mw,e.initialUser,this.serializer)}createPersistence(e){return new qv(Gv.zs,this.serializer)}createSharedClientState(e){return new Qv}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zS extends Mw{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield $S(r.Vc.syncEngine),yield fu(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return XE(this.persistence,new mw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new uw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new FT(n,this.persistence);return new Ex(e.asyncQueue,r)}createPersistence(e){const n=gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new Wv(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,aI(),ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Qv}}class rP extends zS{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,De.Z)(function*(){var o;yield n().call(r,e);const c=r.Vc.syncEngine;r.sharedClientState instanceof vm&&(r.sharedClientState.syncEngine={jr:f2.bind(null,c),zr:m2.bind(null,c),Wr:v2.bind(null,c),$i:g2.bind(null,c),Qr:HS.bind(null,c)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(d){return(o=o||(0,De.Z)(function*(m){yield function p2(t,e){return(mx=mx||(0,De.Z)(function*(n,r){const o=pt(n);if(ZS(o),$S(o),!0===r&&!0!==o.vc){const c=o.sharedClientState.getAllActiveQueryTargets(),d=yield tP(o,c.toArray());o.vc=!0,yield Sw(o.remoteStore,!0);for(const m of d)Cw(o.remoteStore,m)}else if(!1===r&&!1!==o.vc){const c=[];let d=Promise.resolve();o._c.forEach((m,y)=>{o.sharedClientState.isLocalQueryTarget(y)?c.push(y):d=d.then(()=>(We(o,y),gm(o.localStore,y,!0))),ty(o.remoteStore,y)}),yield d,yield tP(o,c),function(m){const y=pt(m);y.yc.forEach((w,T)=>{ty(y.remoteStore,T)}),y.Ic.Ts(),y.yc=new Map,y.gc=new Wn(ut.comparator)}(o),o.vc=!1,yield Sw(o.remoteStore,!1)}})).apply(this,arguments)}(r.Vc.syncEngine,m),r.gcScheduler&&(m&&!r.gcScheduler.started?r.gcScheduler.start():m||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(m&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():m||r.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const n=aI();if(!vm.D(n))throw new Ke(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vm(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ny{initialize(e,n){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>K(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=qf.bind(null,r.syncEngine),yield Sw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QM}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),r=new PS(e.databaseInfo);return new bw(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,c=m=>K(this.syncEngine,m,0),d=AS.D()?new AS:new Xv,new ww(n,r,o,c,d);var n,r,o,c,d}createSyncEngine(e,n){return function(r,o,c,d,m,y,w){const T=new f(r,o,c,d,m,y);return w&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||(0,De.Z)(function*(r){const o=pt(r);Qe("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield $f(o),o.Pu.shutdown(),o.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function iP(t,e=10240){let n=0;return{read:()=>(0,De.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class b2{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new ri,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,De.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(o);return new eP(JSON.parse(c),n.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,De.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,De.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,De.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class w2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,De.Z)(function*(){var r;if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ke(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield function(c,d){return(r=r||(0,De.Z)(function*(m,y){const w=pt(m),T=Bd(w.serializer)+"/documents",R={documents:y.map($e=>Mf(w.serializer,$e))},Q=yield w.vo("BatchGetDocuments",T,R,y.length),ie=new Map;Q.forEach($e=>{const He=function qb(t,e){return"found"in e?function(n,r){Dt(!!r.found);const o=sc(n,r.found.name),c=Or(r.found.updateTime),d=r.found.createTime?Or(r.found.createTime):St.min(),m=new Si({mapValue:{fields:r.found.fields}});return or.newFoundDocument(o,c,d,m)}(t,e):"missing"in e?function(n,r){Dt(!!r.missing),Dt(!!r.readTime);const o=sc(n,r.missing),c=Or(r.readTime);return or.newNoDocument(o,c)}(t,e):_t()}(w.serializer,$e);ie.set(He.key.toString(),He)});const Me=[];return y.forEach($e=>{const He=ie.get($e.toString());Dt(!!He),Me.push(He)}),Me})).apply(this,arguments)}(n.datastore,e);return o.forEach(c=>n.recordVersion(c)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){var n;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,c)=>{const d=ut.fromPath(c);e.mutations.push(new Lb(d,e.precondition(d)))}),yield function(o,c){return(n=n||(0,De.Z)(function*(d,m){const y=pt(d),w=Bd(y.serializer)+"/documents",T={writes:m.map(R=>Pf(y.serializer,R))};yield y.Io("Commit",w,T)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _t();n=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ke(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(St.min())?sr.exists(!1):sr.updateTime(n):sr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(St.min()))throw new Ke(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sr.updateTime(n)}return sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C2{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new ey(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,De.Z)(function*(){const n=new w2(e.datastore),r=e.qc(n);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Uc(c)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const n=this.updateFunction(e);return!wf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!mE(n)}return!1}}class x2{constructor(e,n,r,o){var d,c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ti.UNAUTHENTICATED,this.clientId=Cx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(m){return(d=d||(0,De.Z)(function*(y){Qe("FirestoreClient","Received user=",y.uid),yield c.authCredentialListener(y),c.user=y})).apply(this,arguments)}),this.appCheckCredentials.start(r,m=>(Qe("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=Cm(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function TI(t,e){return(Vg=Vg||(0,De.Z)(function*(n,r){var o;n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const c=yield n.getConfiguration();yield r.initialize(c);let d=c.initialUser;n.setCredentialChangeListener(function(m){return(o=o||(0,De.Z)(function*(y){d.isEqual(y)||(yield eI(r.localStore,y),d=y)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function qS(t,e){return(yx=yx||(0,De.Z)(function*(n,r){n.asyncQueue.verifyOperationInProgress();const o=yield GS(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const c=yield n.getConfiguration();yield r.initialize(o,c),n.setCredentialChangeListener(d=>FS(r.remoteStore,d)),n.setAppCheckTokenChangeListener((d,m)=>FS(r.remoteStore,m)),n._onlineComponents=r})).apply(this,arguments)}function oP(t){return"FirebaseError"===t.name?t.code===Oe.FAILED_PRECONDITION||t.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function GS(t){return(db=db||(0,De.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield TI(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!oP(r))throw r;cs("Error using user provided cache. Falling back to memory cache: "+r),yield TI(e,new Mw)}}else Qe("FirestoreClient","Using default OfflineComponentProvider"),yield TI(e,new Mw);return e._offlineComponents})).apply(this,arguments)}function SI(t){return(hb=hb||(0,De.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qe("FirestoreClient","Using user provided OnlineComponentProvider"),yield qS(e,e._uninitializedComponentsProvider._online)):(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield qS(e,new ny))),e._onlineComponents})).apply(this,arguments)}function sP(t){return GS(t).then(e=>e.persistence)}function AI(t){return GS(t).then(e=>e.localStore)}function aP(t){return SI(t).then(e=>e.remoteStore)}function WS(t){return SI(t).then(e=>e.syncEngine)}function ry(t){return(fb=fb||(0,De.Z)(function*(e){const n=yield SI(e),r=n.eventManager;return r.onListen=v.bind(null,n.syncEngine),r.onUnlisten=C.bind(null,n.syncEngine),r})).apply(this,arguments)}function lP(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,c,d,m,y){const w=new DI({next:R=>{c.enqueueAndForget(()=>xI(o,T));const Q=R.docs.has(d);!Q&&R.fromCache?y.reject(new Ke(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&R.fromCache&&m&&"server"===m.source?y.reject(new Ke(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new II(Ef(d.path),w,{includeMetadataChanges:!0,Ku:!0});return CI(o,T)}(yield ry(t),t.asyncQueue,e,n,r)})),r.promise}function uP(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,c,d,m,y){const w=new DI({next:R=>{c.enqueueAndForget(()=>xI(o,T)),R.fromCache&&"server"===m.source?y.reject(new Ke(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new II(d,w,{includeMetadataChanges:!0,Ku:!0});return CI(o,T)}(yield ry(t),t.asyncQueue,e,n,r)})),r.promise}function dP(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const hP=new Map;function KS(t,e,n){if(!n)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fP(t,e,n,r){if(!0===e&&!0===r)throw new Ke(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pP(t){if(!ut.isDocumentKey(t))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gP(t){if(ut.isDocumentKey(t))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":_t()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MI(t);throw new Ke(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mP(t,e){if(e<=0)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class vP{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pw{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vP(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new IT;switch(n.type){case"firstParty":return new AT(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ke(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hP.get(e);n&&(Qe("ComponentProvider","Removing Datastore"),hP.delete(e),n.terminate())}(this),Promise.resolve()}}class mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class gu extends Eo{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new ut(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function _P(t,e,...n){if(t=(0,Pn.m9)(t),KS("collection","path",e),t instanceof Pw){const r=Cn.fromString(e,...n);return gP(r),new gu(t,null,r)}{if(!(t instanceof mr||t instanceof gu))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cn.fromString(e,...n));return gP(r),new gu(t.firestore,null,r)}}function PI(t,e,...n){if(t=(0,Pn.m9)(t),1===arguments.length&&(e=Cx.A()),KS("doc","path",e),t instanceof Pw){const r=Cn.fromString(e,...n);return pP(r),new mr(t,null,new ut(r))}{if(!(t instanceof mr||t instanceof gu))throw new Ke(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cn.fromString(e,...n));return pP(r),new mr(t.firestore,t instanceof gu?t.converter:null,new ut(r))}}function bP(t,e){return t=(0,Pn.m9)(t),e=(0,Pn.m9)(e),(t instanceof mr||t instanceof gu)&&(e instanceof mr||e instanceof gu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function YS(t,e){return t=(0,Pn.m9)(t),e=(0,Pn.m9)(e),t instanceof Eo&&e instanceof Eo&&t.firestore===e.firestore&&Xg(t._query,e._query)&&t.converter===e.converter}class N2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ey(this,"async_queue_retry"),this.Xc=()=>{const n=ym();n&&Qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ym();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ri;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,De.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!la(n))throw n;Qe("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=bI.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(o),o}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var e=this;return(0,De.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function JS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(t)}class R2{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vr extends Pw{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new N2,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wP(this),this._firestoreClient.terminate()}}function ai(t){return t._firestoreClient||wP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wP(t){var e,n,r;const o=t._freezeSettings(),c=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new jx(t._databaseId,m,t._persistenceKey,(w=o).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,dP(w.experimentalLongPollingOptions),w.useFetchStreams));var m,w;t._firestoreClient=new x2(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=o.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function CP(t,e,n){const r=new ri;return t.asyncQueue.enqueue((0,De.Z)(function*(){try{yield TI(t,n),yield qS(t,e),r.resolve()}catch(o){const c=o;if(!oP(c))throw c;cs("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function xP(t){if(t._initialized||t._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(oi.fromBase64String(e))}catch(n){throw new Ke(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mu(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class OI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const z2=/^__.*__$/;class q2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ud(e,this.data,n,this.fieldTransforms)}}class EP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class NI{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(IP(this.ca)&&z2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class G2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zf(e)}ya(e,n,r,o=!1){return new NI({ca:e,methodName:n,ga:r,path:gr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Im(t){const e=t._freezeSettings(),n=Zf(t._databaseId);return new G2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(t,e,n,r,o,c={}){const d=t.ya(c.merge||c.mergeFields?2:0,e,n,o);tA("Data must be an object, but it was:",d,r);const m=SP(r,d);let y,w;if(c.merge)y=new us(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const Q=Rw(e,R,n);if(!d.contains(Q))throw new Ke(Oe.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);MP(T,Q)||T.push(Q)}y=new us(T),w=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,w=d.fieldTransforms;return new q2(new Si(m),y,w)}class Nw extends Em{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}function DP(t,e,n){return new NI({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QS extends Em{_toFieldTransform(e){return new su(e.path,new oc)}isEqual(e){return e instanceof QS}}class W2 extends Em{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DP(this,e,!0),r=this.pa.map(c=>Dm(c,n)),o=new kd(r);return new su(e.path,o)}isEqual(e){return this===e}}class K2 extends Em{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DP(this,e,!0),r=this.pa.map(c=>Dm(c,n)),o=new Fd(r);return new su(e.path,o)}isEqual(e){return this===e}}class Y2 extends Em{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ld(e.serializer,Tv(e.serializer,this.Ia));return new su(e.path,n)}isEqual(e){return this===e}}function XS(t,e,n,r){const o=t.ya(1,e,n);tA("Data must be an object, but it was:",o,r);const c=[],d=Si.empty();Kl(r,(y,w)=>{const T=kI(e,y,n);w=(0,Pn.m9)(w);const R=o.da(T);if(w instanceof Nw)c.push(T);else{const Q=Dm(w,R);null!=Q&&(c.push(T),d.set(T,Q))}});const m=new us(c);return new EP(d,m,o.fieldTransforms)}function eA(t,e,n,r,o,c){const d=t.ya(1,e,n),m=[Rw(e,r,n)],y=[o];if(c.length%2!=0)throw new Ke(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<c.length;Q+=2)m.push(Rw(e,c[Q])),y.push(c[Q+1]);const w=[],T=Si.empty();for(let Q=m.length-1;Q>=0;--Q)if(!MP(w,m[Q])){const ie=m[Q];let Me=y[Q];Me=(0,Pn.m9)(Me);const $e=d.da(ie);if(Me instanceof Nw)w.push(ie);else{const He=Dm(Me,$e);null!=He&&(w.push(ie),T.set(ie,He))}}const R=new us(w);return new EP(T,R,d.fieldTransforms)}function TP(t,e,n,r=!1){return Dm(n,t.ya(r?4:3,e))}function Dm(t,e){if(AP(t=(0,Pn.m9)(t)))return tA("Unsupported field value:",e,t),SP(t,e);if(t instanceof Em)return function(n,r){if(!IP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const o=[];let c=0;for(const d of n){let m=Dm(d,r.wa(c));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if(null===(n=(0,Pn.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Tv(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=rr.fromDate(n);return{timestampValue:cm(r.serializer,o)}}if(n instanceof rr){const o=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cm(r.serializer,o)}}if(n instanceof OI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mu)return{bytesValue:oS(r.serializer,n._byteString)};if(n instanceof mr){const o=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:um(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${MI(n)}`)}(t,e)}function SP(t,e){const n={};return Lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(t,(r,o)=>{const c=Dm(o,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function AP(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof OI||t instanceof mu||t instanceof mr||t instanceof Em)}function tA(t,e,n){if(!AP(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=MI(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Rw(t,e,n){if((e=(0,Pn.m9)(e))instanceof Gd)return e._internalPath;if("string"==typeof e)return kI(t,e);throw FI("Field path arguments must be of type string or ",t,!1,void 0,n)}const J2=new RegExp("[~\\*/\\[\\]]");function kI(t,e,n){if(e.search(J2)>=0)throw FI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw FI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function FI(t,e,n,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new Ke(Oe.INVALID_ARGUMENT,m+t+y)}function MP(t,e){return t.some(n=>n.isEqual(e))}class kw{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Q2 extends kw{data(){return super.data()}}function LI(t,e){return"string"==typeof e?kI(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}function PP(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ke(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nA{}class Fw extends nA{}function Gf(t,e,...n){let r=[];e instanceof nA&&r.push(e),r=r.concat(n),function(o){const c=o.filter(m=>m instanceof iy).length,d=o.filter(m=>m instanceof Lw).length;if(c>1||c>0&&d>0)throw new Ke(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class Lw extends Fw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lw(e,n,r)}_apply(e){const n=this._parse(e);return kP(e._query,n),new Eo(e.firestore,e.converter,Sb(e._query,n))}_parse(e){const n=Im(e.firestore);return function(o,c,d,m,y,w,T){let R;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){RP(T,w);const Q=[];for(const ie of T)Q.push(NP(m,o,ie));R={arrayValue:{values:Q}}}else R=NP(m,o,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||RP(T,w),R=TP(d,"where",T,"in"===w||"not-in"===w);return yn.create(y,w,R)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class iy extends nA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,o){let c=r;const d=o.getFlattenedFilters();for(const m of d)kP(c,m),c=Sb(c,m)}(e._query,n),new Eo(e.firestore,e.converter,Sb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rA extends Fw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rA(e,n)}_apply(e){const n=function(r,o,c){if(null!==r.startAt)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new tu(o,c);return function(m,y){if(null===oE(m)){const w=Ev(m);null!==w&&FP(0,w,y.field)}}(r,d),d}(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new ou(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class UI extends Fw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new UI(e,n,r)}_apply(e){return new Eo(e.firestore,e.converter,Iv(e._query,this._limit,this._limitType))}}class VI extends Fw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new VI(e,n,r)}_apply(e){const n=OP(e,this.type,this._docOrFields,this._inclusive);return new Eo(e.firestore,e.converter,(o=n,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class BI extends Fw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new BI(e,n,r)}_apply(e){const n=OP(e,this.type,this._docOrFields,this._inclusive);return new Eo(e.firestore,e.converter,(o=n,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function OP(t,e,n,r){if(n[0]=(0,Pn.m9)(n[0]),n[0]instanceof kw)return function(o,c,d,m,y){if(!m)throw new Ke(Oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of Rd(o))if(T.field.isKeyField())w.push(Nd(c,m.key));else{const R=m.data.field(T.field);if(fv(R))throw new Ke(Oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const Q=T.field.canonicalString();throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}w.push(R)}return new eu(w,y)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Im(t.firestore);return function(c,d,m,y,w,T){const R=c.explicitOrderBy;if(w.length>R.length)throw new Ke(Oe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ie=0;ie<w.length;ie++){const Me=w[ie];if(R[ie].field.isKeyField()){if("string"!=typeof Me)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Me}`);if(!Tb(c)&&-1!==Me.indexOf("/"))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Me}' contains a slash.`);const $e=c.path.child(Cn.fromString(Me));if(!ut.isDocumentKey($e))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const He=new ut($e);Q.push(Nd(d,He))}else{const $e=TP(m,y,Me);Q.push($e)}}return new eu(Q,T)}(t._query,t.firestore._databaseId,o,e,n,r)}}function NP(t,e,n){if("string"==typeof(n=(0,Pn.m9)(n))){if(""===n)throw new Ke(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&-1!==n.indexOf("/"))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Cn.fromString(n));if(!ut.isDocumentKey(r))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nd(t,new ut(r))}if(n instanceof mr)return Nd(t,n._key);throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${MI(n)}.`)}function RP(t,e){if(!Array.isArray(t)||0===t.length)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kP(t,e){if(e.isInequality()){const r=Ev(t),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const c=oE(t);null!==c&&FP(0,o,c)}const n=function(r,o){for(const c of r)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ke(Oe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function FP(t,e,n){if(!n.isEqual(e))throw new Ke(Oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class iA{convertValue(e,n="none"){switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _t()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kl(e,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new OI(xr(e.latitude),xr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Cn.fromString(e);Dt(ME(r));const o=new Jl(r.get(1),r.get(3)),c=new ut(r.popFirst(5));return o.isEqual(n)||Cr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function jI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class aR extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}class Tm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wd extends kw{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uw extends Wd{data(e={}){return super.data(e)}}class Wf{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Tm(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uw(this._firestore,this._userDataWriter,r.key,r,new Tm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Uw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Tm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new Uw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Tm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:lR(d.type),doc:m,oldIndex:y,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function UP(t,e){return t instanceof Wd&&e instanceof Wd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wf&&e instanceof Wf&&t._firestore===e._firestore&&YS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Kf extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function VP(t,e,n){t=In(t,mr);const r=In(t.firestore,vr),o=jI(t.converter,e,n);return oy(r,[RI(Im(r),"setDoc",t._key,o,null!==t.converter,n).toMutation(t._key,sr.none())])}function BP(t,e,n,...r){t=In(t,mr);const o=In(t.firestore,vr),c=Im(o);let d;return d="string"==typeof(e=(0,Pn.m9)(e))||e instanceof Gd?eA(c,"updateDoc",t._key,e,n,r):XS(c,"updateDoc",t._key,e),oy(o,[d.toMutation(t._key,sr.exists(!0))])}function jP(t,...e){var n,r,o;t=(0,Pn.m9)(t);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||JS(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(JS(e[d])){const R=e[d];e[d]=null===(n=R.next)||void 0===n?void 0:n.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let y,w,T;if(t instanceof mr)w=In(t.firestore,vr),T=Ef(t._key.path),y={next:R=>{e[d]&&e[d](oA(w,t,R))},error:e[d+1],complete:e[d+2]};else{const R=In(t,Eo);w=In(R.firestore,vr),T=R._query;const Q=new Kf(w);y={next:ie=>{e[d]&&e[d](new Wf(w,Q,R,ie))},error:e[d+1],complete:e[d+2]},PP(t._query)}return function(R,Q,ie,Me){const $e=new DI(Me),He=new II(Q,$e,ie);return R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return CI(yield ry(R),He)})),()=>{$e.Dc(),R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return xI(yield ry(R),He)}))}}(ai(w),T,m,y)}function oy(t,e){return function(n,r){const o=new ri;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function S(t,e,n){return(ks=ks||(0,De.Z)(function*(r,o,c){const d=$S(r);try{const m=yield function(y,w){const T=pt(y),R=rr.now(),Q=w.reduce(($e,He)=>$e.add(He.key),on());let ie,Me;return T.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let He=xo(),rt=on();return T.Zi.getEntries($e,Q).next(bt=>{He=bt,He.forEach((ft,ot)=>{ot.isValidDocument()||(rt=rt.add(ft))})}).next(()=>T.localDocuments.getOverlayedDocuments($e,He)).next(bt=>{ie=bt;const ft=[];for(const ot of w){const Ot=iS(ot,ie.get(ot.key).overlayedDocument);null!=Ot&&ft.push(new da(ot.key,Ot,Yx(Ot.value.mapValue),sr.exists(!0)))}return T.mutationQueue.addMutationBatch($e,R,ft,w)}).next(bt=>{Me=bt;const ft=bt.applyToLocalDocumentSet(ie,rt);return T.documentOverlayCache.saveOverlays($e,bt.batchId,ft)})}).then(()=>({batchId:Me.batchId,changes:uE(ie)}))}(d.localStore,o);d.sharedClientState.addPendingMutation(m.batchId),function(y,w,T){let R=y.Tc[y.currentUser.toKey()];R||(R=new Wn(Kt)),R=R.insert(w,T),y.Tc[y.currentUser.toKey()]=R}(d,m.batchId,c),yield ji(d,m.changes),yield fu(d.remoteStore)}catch(m){const y=Cm(m,"Failed to persist write");c.reject(y)}})).apply(this,arguments)}(yield WS(n),r,o)})),o.promise}(ai(t),e)}function oA(t,e,n){const r=n.docs.get(e._key),o=new Kf(t);return new Wd(t,o,e._key,r,new Tm(n.hasPendingWrites,n.fromCache),e.converter)}const TR={maxAttempts:5};class HP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Im(e)}set(e,n,r){this._verifyNotCommitted();const o=Yf(e,this._firestore),c=jI(o.converter,n,r),d=RI(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,sr.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=Yf(e,this._firestore);let d;return d="string"==typeof(n=(0,Pn.m9)(n))||n instanceof Gd?eA(this._dataReader,"WriteBatch.update",c._key,n,r,o):XS(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new Vd(n._key,sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(t,e){if((t=(0,Pn.m9)(t)).firestore!==e)throw new Ke(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class SR extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Im(e)}get(e){const n=Yf(e,this._firestore),r=new aR(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return _t();const c=o[0];if(c.isFoundDocument())return new kw(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new kw(this._firestore,r,n._key,null,n.converter);throw _t()})}set(e,n,r){const o=Yf(e,this._firestore),c=jI(o.converter,n,r),d=RI(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,n,r,...o){const c=Yf(e,this._firestore);let d;return d="string"==typeof(n=(0,Pn.m9)(n))||n instanceof Gd?eA(this._dataReader,"Transaction.update",c._key,n,r,o):XS(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,d),this}delete(e){const n=Yf(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yf(e,this._firestore),r=new Kf(this._firestore);return super.get(e).then(o=>new Wd(this._firestore,r,n._key,o._document,new Tm(!1,!1),n.converter))}}function sA(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function $P(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function zP(){if(!function Bx(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Gl=yd.SDK_VERSION,(0,yd._registerComponent)(new dg.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const c=n.getProvider("app").getImmediate(),d=new vr(new TT(n.getProvider("auth-internal")),new MT(n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ke(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(m.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,yd.registerVersion)(_x,"3.13.0",t),(0,yd.registerVersion)(_x,"3.13.0","esm2017")}();class Vw{constructor(e){this._delegate=e}static fromBase64String(e){return zP(),new Vw(mu.fromBase64String(e))}static fromUint8Array(e){return $P(),new Vw(mu.fromUint8Array(e))}toBase64(){return zP(),this._delegate.toBase64()}toUint8Array(){return $P(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aA(t){return function LR(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class UR{enableIndexedDbPersistence(e,n){return function F2(t,e){xP(t=In(t,vr));const n=ai(t);if(n._uninitializedComponentsProvider)throw new Ke(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),o=new ny;return CP(n,o,new zS(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function L2(t){xP(t=In(t,vr));const e=ai(t);if(e._uninitializedComponentsProvider)throw new Ke(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new ny;return CP(e,r,new rP(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function U2(t){if(t._initialized&&!t._terminated)throw new Ke(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return t._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{var n;yield function(r){return(n=n||(0,De.Z)(function*(o){if(!ca.D())return Promise.resolve();const c=o+"main";yield ca.delete(c)})).apply(this,arguments)}(gw(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}})),e.promise}(e._delegate)}}class qP{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function yP(t,e,n,r={}){var o;const c=(t=In(t,Pw))._getSettings(),d=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let m,y;if("string"==typeof r.mockUserToken)m=r.mockUserToken,y=Ti.MOCK_USER;else{m=(0,Pn.Sg)(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ke(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ti(w)}t._authCredentials=new DT(new bx(m,y))}}(this._delegate,e,n,r)}enableNetwork(){return function B2(t){return function E2(t){return t.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield sP(t),n=yield aP(t);return e.setNetworkEnabled(!0),function(r){const o=pt(r);return o.vu.delete(0),_m(o)}(n)}))}(ai(t=In(t,vr)))}(this._delegate)}disableNetwork(){return function j2(t){return function I2(t){return t.asyncQueue.enqueue((0,De.Z)(function*(){var e;const n=yield sP(t),r=yield aP(t);return n.setNetworkEnabled(!1),function(o){return(e=e||(0,De.Z)(function*(c){const d=pt(c);d.vu.add(0),yield $f(d),d.bu.set("Offline")})).apply(this,arguments)}(r)}))}(ai(t=In(t,vr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fP("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function V2(t){return function(e){const n=new ri;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function et(t,e){return(fx=fx||(0,De.Z)(function*(n,r){const o=pt(n);tl(o.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(m){const y=pt(m);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>y.mutationQueue.getHighestUnacknowledgedBatchId(w))}(o.localStore);if(-1===c)return void r.resolve();const d=o.Ec.get(c)||[];d.push(r),o.Ec.set(c,d)}catch(c){const d=Cm(c,"Initialization of waitForPendingWrites() operation failed");r.reject(d)}})).apply(this,arguments)}(yield WS(e),n)})),n.promise}(ai(t=In(t,vr)))}(this._delegate)}onSnapshotsInSync(e){return function yR(t,e){return function S2(t,e){const n=new DI(e);return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield ry(t),o=n,pt(r).ku.add(o),void o.next();var r,o})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield ry(t),o=n,void pt(r).ku.delete(o);var r,o}))}}(ai(t=In(t,vr)),JS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sy(this,_P(this._delegate,e))}catch(n){throw ds(n,"collection()","Firestore.collection()")}}doc(e){try{return new lc(this,PI(this._delegate,e))}catch(n){throw ds(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hs(this,function O2(t,e){if(t=In(t,Pw),KS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(Oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Eo(t,null,(n=e,new ou(Cn.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw ds(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function AR(t,e,n){t=In(t,vr);const r=Object.assign(Object.assign({},TR),n);return function(o){if(o.maxAttempts<1)throw new Ke(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,d){const m=new ri;return o.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const y=yield function cP(t){return SI(t).then(e=>e.datastore)}(o);new C2(o.asyncQueue,y,d,c,m).run()})),m.promise}(ai(t),o=>e(new SR(t,o)),r)}(this._delegate,n=>e(new GP(this,n)))}batch(){return ai(this._delegate),new WP(new HP(this._delegate,e=>oy(this._delegate,e)))}loadBundle(e){return function H2(t,e){const n=ai(t=In(t,vr)),r=new R2;return function A2(t,e,n,r){const o=function(c,d){let m;return m="string"==typeof c?Ov().encode(c):c,y=function(y,w){if(y instanceof Uint8Array)return iP(y,w);if(y instanceof ArrayBuffer)return iP(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new b2(y,d);var y}(n,Zf(e));t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function y2(t,e,n){var r;const o=pt(t);(function(c,d,m){return(r=r||(0,De.Z)(function*(y,w,T){try{const R=yield w.getMetadata();if(yield function($e,He){const rt=pt($e),bt=Or(He.createTime);return rt.persistence.runTransaction("hasNewerBundle","readonly",ft=>rt.qs.getBundleMetadata(ft,He.id)).then(ft=>!!ft&&ft.createTime.compareTo(bt)>=0)}(y.localStore,R))return yield w.close(),T._completeWith({taskState:"Success",documentsLoaded:($e=R).totalDocuments,bytesLoaded:$e.totalBytes,totalDocuments:$e.totalDocuments,totalBytes:$e.totalBytes}),Promise.resolve(new Set);T._updateProgress(BS(R));const Q=new VS(R,y.localStore,w.serializer);let ie=yield w.bc();for(;ie;){const $e=yield Q.zu(ie);$e&&T._updateProgress($e),ie=yield w.bc()}const Me=yield Q.complete();return yield ji(y,Me.Ju,void 0),yield function($e,He){const rt=pt($e);return rt.persistence.runTransaction("Save bundle","readwrite",bt=>rt.qs.saveBundleMetadata(bt,He))}(y.localStore,R),T._completeWith(Me.progress),Promise.resolve(Me.Hu)}catch(R){return cs("SyncEngine",`Loading bundle failed with ${R}`),T._failWith(R),Promise.resolve(new Set)}var $e})).apply(this,arguments)})(o,e,n).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield WS(t),o,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Z2(t,e){return function M2(t,e){return t.asyncQueue.enqueue((0,De.Z)(function*(){return function(n,r){const o=pt(n);return o.persistence.runTransaction("Get named query","readonly",c=>o.qs.getNamedQuery(c,r))}(yield AI(t),e)}))}(ai(t=In(t,vr)),e).then(n=>n?new Eo(t,null,n.query):null)}(this._delegate,e).then(n=>n?new hs(this,n):null)}}class HI extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vw(new mu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return lc.forKey(n,this.firestore,null)}}class GP{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new HI(e)}get(e){const n=Am(e);return this._delegate.get(n).then(r=>new Bw(this._firestore,new Wd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const o=Am(e);return r?(sA("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=Am(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=Am(e);return this._delegate.delete(n),this}}class WP{constructor(e){this._delegate=e}set(e,n,r){const o=Am(e);return r?(sA("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=Am(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=Am(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Sm{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Uw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jw(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Sm.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(n);return c||(c=new Sm(e,new HI(e),n),o.set(n,c)),c}}Sm.INSTANCES=new WeakMap;class lc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new HI(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new lc(n,new mr(n._delegate,r,new ut(e)))}static forKey(e,n,r){return new lc(n,new mr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sy(this.firestore,_P(this._delegate,e))}catch(n){throw ds(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pn.m9)(e))instanceof mr&&bP(this._delegate,e)}set(e,n){n=sA("DocumentReference.set",n);try{return n?VP(this._delegate,e,n):VP(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?BP(this._delegate,e):BP(this._delegate,e,n,...r)}catch(o){throw ds(o,"updateDoc()","DocumentReference.update()")}}delete(){return function mR(t){return oy(In(t.firestore,vr),[new Vd(t._key,sr.none())])}(this._delegate)}onSnapshot(...e){const n=KP(e),r=YP(e,o=>new Bw(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return jP(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function dR(t){t=In(t,mr);const e=In(t.firestore,vr),n=ai(e),r=new Kf(e);return function D2(t,e){const n=new ri;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){var r;return function(o,c,d){return(r=r||(0,De.Z)(function*(m,y,w){try{const T=yield function(R,Q){const ie=pt(R);return ie.persistence.runTransaction("read document","readonly",Me=>ie.localDocuments.getDocument(Me,Q))}(m,y);T.isFoundDocument()?w.resolve(T):T.isNoDocument()?w.resolve(null):w.reject(new Ke(Oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const R=Cm(T,`Failed to get document '${y} from cache`);w.reject(R)}})).apply(this,arguments)}(yield AI(t),e,n)})),n.promise}(n,t._key).then(o=>new Wd(e,r,t._key,o,new Tm(null!==o&&o.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function hR(t){t=In(t,mr);const e=In(t.firestore,vr);return lP(ai(e),t._key,{source:"server"}).then(n=>oA(e,t,n))}(this._delegate):function uR(t){t=In(t,mr);const e=In(t.firestore,vr);return lP(ai(e),t._key).then(n=>oA(e,t,n))}(this._delegate),n.then(r=>new Bw(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new lc(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function ds(t,e,n){return t.message=t.message.replace(e,n),t}function KP(t){for(const e of t)if("object"==typeof e&&!aA(e))return e;return{}}function YP(t,e){var n,r;let o;return o=aA(t[0])?t[0]:aA(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Bw{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new lc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return UP(this._delegate,e._delegate)}}class jw extends Bw{data(e){const n=this._delegate.data(e);return function ET(t,e){t||_t()}(void 0!==n),n}}class hs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new HI(e)}where(e,n,r){try{return new hs(this.firestore,Gf(this._delegate,function X2(t,e,n){const r=e,o=LI("where",t);return Lw._create(o,r,n)}(e,n,r)))}catch(o){throw ds(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new hs(this.firestore,Gf(this._delegate,function eR(t,e="asc"){const n=e,r=LI("orderBy",t);return rA._create(r,n)}(e,n)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hs(this.firestore,Gf(this._delegate,function tR(t){return mP("limit",t),UI._create("limit",t,"F")}(e)))}catch(n){throw ds(n,"limit()","Query.limit()")}}limitToLast(e){try{return new hs(this.firestore,Gf(this._delegate,function nR(t){return mP("limitToLast",t),UI._create("limitToLast",t,"L")}(e)))}catch(n){throw ds(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hs(this.firestore,Gf(this._delegate,function rR(...t){return VI._create("startAt",t,!0)}(...e)))}catch(n){throw ds(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hs(this.firestore,Gf(this._delegate,function iR(...t){return VI._create("startAfter",t,!1)}(...e)))}catch(n){throw ds(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hs(this.firestore,Gf(this._delegate,function oR(...t){return BI._create("endBefore",t,!1)}(...e)))}catch(n){throw ds(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hs(this.firestore,Gf(this._delegate,function sR(...t){return BI._create("endAt",t,!0)}(...e)))}catch(n){throw ds(n,"endAt()","Query.endAt()")}}isEqual(e){return YS(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function pR(t){t=In(t,Eo);const e=In(t.firestore,vr),n=ai(e),r=new Kf(e);return function T2(t,e){const n=new ri;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){var r;return function(o,c,d){return(r=r||(0,De.Z)(function*(m,y,w){try{const T=yield vw(m,y,!0),R=new l(y,T.ir),Q=R.sc(T.documents),ie=R.applyChanges(Q,!1);w.resolve(ie.snapshot)}catch(T){const R=Cm(T,`Failed to execute query '${y} against cache`);w.reject(R)}})).apply(this,arguments)}(yield AI(t),e,n)})),n.promise}(n,t._query).then(o=>new Wf(e,r,t,o))}(this._delegate):"server"===e?.source?function gR(t){t=In(t,Eo);const e=In(t.firestore,vr),n=ai(e),r=new Kf(e);return uP(n,t._query,{source:"server"}).then(o=>new Wf(e,r,t,o))}(this._delegate):function fR(t){t=In(t,Eo);const e=In(t.firestore,vr),n=ai(e),r=new Kf(e);return PP(t._query),uP(n,t._query).then(o=>new Wf(e,r,t,o))}(this._delegate),n.then(r=>new cA(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=KP(e),r=YP(e,o=>new cA(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return jP(this._delegate,n,r)}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}class BR{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new BR(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new jw(this._firestore,r))})}isEqual(e){return UP(this._delegate,e._delegate)}}class sy extends hs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new lc(this.firestore,e):null}doc(e){try{return new lc(this.firestore,void 0===e?PI(this._delegate):PI(this._delegate,e))}catch(n){throw ds(n,"doc()","CollectionReference.doc()")}}add(e){return function vR(t,e){const n=In(t.firestore,vr),r=PI(t),o=jI(t.converter,e);return oy(n,[RI(Im(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new lc(this.firestore,n))}isEqual(e){return bP(this._delegate,e._delegate)}withConverter(e){return new sy(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Am(t){return In(t,mr)}class lA{constructor(...e){this._delegate=new Gd(...e)}static documentId(){return new lA(gr.keyField().canonicalString())}isEqual(e){return(e=(0,Pn.m9)(e))instanceof Gd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function PR(){return new QS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Mm(e)}static delete(){const e=function MR(){return new Nw("deleteField")}();return e._methodName="FieldValue.delete",new Mm(e)}static arrayUnion(...e){const n=function OR(...t){return new W2("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Mm(n)}static arrayRemove(...e){const n=function NR(...t){return new K2("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Mm(n)}static increment(e){const n=function RR(t){return new Y2("increment",t)}(e);return n._methodName="FieldValue.increment",new Mm(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jR={Firestore:qP,GeoPoint:OI,Timestamp:rr,Blob:Vw,Transaction:GP,WriteBatch:WP,DocumentReference:lc,DocumentSnapshot:Bw,Query:hs,QueryDocumentSnapshot:jw,QuerySnapshot:cA,CollectionReference:sy,FieldPath:lA,FieldValue:Mm,setLogLevel:function VR(t){!function pb(t){aa.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function ZR(t){(function HR(t,e){t.INTERNAL.registerComponent(new dg.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},jR)))})(t,(e,n)=>new qP(e,n,new UR)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(qh.Z);var $R=P(3019),ZI=P(3093),zR=P(4552);class qR extends jr.x{constructor(e=1/0,n=1/0,r=zR.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:d}=this;n||(r.push(e),!o&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const d=n.now();let m=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)m=y;m&&r.splice(0,m+1)}}}var GR=P(3020);function JP(t,e,n){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:n}=t):r=t??1/0,(0,GR.B)({connector:()=>new qR(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function QP(t,e){return(0,mo.m)(e)?(0,yr.w)(()=>t,e):(0,yr.w)(()=>t)}var uA=P(5137);P(4097);var eO,tO,oO,sO,aO,hA=P(4303);const fA=new Map,uO={activated:!1,tokenObservers:[]},QR={initialized:!1,enabled:!1};function qr(t){return fA.get(t)||Object.assign({},uO)}function zI(){return QR}const pA="https://content-firebaseappcheck.googleapis.com/v1",nk="exchangeDebugToken",dO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ik{constructor(e,n,r,o,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,De.Z)(function*(){n.stop();try{n.pending=new Pn.BH,yield function ok(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Pn.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Io=new Pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gA(t){if(!qr(t).activated)throw Io.create("use-before-activation",{appName:t.name})}function WI(t,e){return(eO=eO||(0,De.Z)(function*({url:n,body:r},o){const c={"Content-Type":"application/json"},d=o.getImmediate({optional:!0});if(d){const ie=yield d.getHeartbeatsHeader();ie&&(c["X-Firebase-Client"]=ie)}const m={method:"POST",body:JSON.stringify(r),headers:c};let y,w;try{y=yield fetch(n,m)}catch(ie){throw Io.create("fetch-network-error",{originalErrorMessage:ie?.message})}if(200!==y.status)throw Io.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(ie){throw Io.create("fetch-parse-error",{originalErrorMessage:ie?.message})}const T=w.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Io.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const R=1e3*Number(T[1]),Q=Date.now();return{token:w.token,expireTimeMillis:Q+R,issuedAtTimeMillis:Q}})).apply(this,arguments)}function hO(t,e){const{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${pA}/projects/${n}/apps/${r}:${nk}?key=${o}`,body:{debug_token:e}}}const lk="firebase-app-check-database",uk=1,Hw="firebase-app-check-store";let KI=null;function gO(t,e){return(tO=tO||(0,De.Z)(function*(n,r){const c=(yield function pO(){return KI||(KI=new Promise((t,e)=>{try{const n=indexedDB.open(lk,uk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var o;e(Io.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hw,{keyPath:"compositeKey"})}}catch(n){e(Io.create("storage-open",{originalErrorMessage:n?.message}))}}),KI)}()).transaction(Hw,"readwrite"),m=c.objectStore(Hw).put({compositeKey:n,value:r});return new Promise((y,w)=>{m.onsuccess=T=>{y()},c.onerror=T=>{var R;w(Io.create("storage-set",{originalErrorMessage:null===(R=T.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const Zw=new Wc.Yd("@firebase/app-check");function vA(t,e){return(0,Pn.hl)()?function hk(t,e){return gO(function vO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Zw.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yA(){return zI().enabled}function _A(){return(oO=oO||(0,De.Z)(function*(){const t=zI();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yk={error:"UNKNOWN_ERROR"};function _k(t){return Pn.US.encodeString(JSON.stringify(t),!1)}function YI(t){return(sO=sO||(0,De.Z)(function*(e,n=!1){const r=e.app;gA(r);const o=qr(r);let d,c=o.token;if(c&&!ay(c)&&(o.token=void 0,c=void 0),!c){const w=yield o.cachedTokenPromise;w&&(ay(w)?c=w:yield vA(r,void 0))}if(!n&&c&&ay(c))return{token:c.token};let y,m=!1;if(yA()){o.exchangeTokenPromise||(o.exchangeTokenPromise=WI(hO(r,yield _A()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),m=!0);const w=yield o.exchangeTokenPromise;return yield vA(r,w),o.token=w,{token:w.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),m=!0),c=yield qr(r).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Zw.warn(w.message):Zw.error(w),d=w}return c?d?y=ay(c)?{token:c.token,internalError:d}:wO(d):(y={token:c.token},o.token=c,yield vA(r,c)):y=wO(d),m&&function bO(t,e){const n=qr(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,y),y})).apply(this,arguments)}function wA(t,e){const n=qr(t),r=n.tokenObservers.filter(o=>o.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _O(t){const{app:e}=t,n=qr(e);let r=n.tokenRefresher;r||(r=function bk(t){const{app:e}=t;return new ik((0,De.Z)(function*(){let r;if(r=qr(e).token?yield YI(t,!0):yield YI(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=qr(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},dO.RETRIAL_MIN_WAIT,dO.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ay(t){return t.expireTimeMillis-Date.now()>0}function wO(t){return{token:_k(yk),error:t}}class wk{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=qr(this.app);for(const n of e)wA(this.app,n.next);return Promise.resolve()}}const AO="app-check-internal";!function kk(){(0,hA.Xd)(new dg.wA("app-check",t=>function Ck(t,e){return new wk(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(AO).initialize()})),(0,hA.Xd)(new dg.wA(AO,t=>function xk(t){return{getToken:e=>YI(t,e),getLimitedUseToken:()=>function yO(t){return(aO=aO||(0,De.Z)(function*(e){const n=e.app;gA(n);const{provider:r}=qr(n);if(yA()){const o=yield _A(),{token:c}=yield WI(hO(n,o),e.heartbeatServiceProvider);return{token:c}}{const{token:o}=yield r.getToken();return{token:o}}})).apply(this,arguments)}(t),addTokenListener:e=>function bA(t,e,n,r){const{app:o}=t,c=qr(o);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&ay(c.token)){const m=c.token;Promise.resolve().then(()=>{n({token:m.token}),_O(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>_O(t))}(t,"INTERNAL",e),removeTokenListener:e=>wA(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hA.KN)("@firebase/app-check","0.8.0")}();class xA{constructor(){return(0,xi.vb)("app-check")}}typeof window<"u"&&window,P(120);const PO=new a.OlP("angularfire2.auth.use-emulator"),OO=new a.OlP("angularfire2.auth.settings"),NO=new a.OlP("angularfire2.auth.tenant-id"),RO=new a.OlP("angularfire2.auth.langugage-code"),kO=new a.OlP("angularfire2.auth.use-device-language"),FO=new a.OlP("angularfire.auth.persistence"),LO=(t,e,n,r,o,c,d,m)=>(0,ta.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=o,c&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return m&&y.setPersistence(m),y},[n,r,o,c,d,m]);let UO=(()=>{class t{constructor(n,r,o,c,d,m,y,w,T,R,Q,ie){const Me=new jr.x,$e=(0,Mt.of)(void 0).pipe((0,ZI.Q)(d.outsideAngular),(0,yr.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8977)))),(0,$t.U)(()=>(0,ta.on)(n,c,r)),(0,$t.U)(He=>LO(He,c,m,w,T,R,y,Q)),JP({bufferSize:1,refCount:!1}));if(Wr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Mt.of)(null);else{$e.pipe(_r()).subscribe();const rt=$e.pipe((0,yr.w)(ot=>ot.getRedirectResult().then(Ot=>Ot,()=>null)),xi.iC,JP({bufferSize:1,refCount:!1})),bt=$e.pipe((0,yr.w)(ot=>new go.y(Ot=>({unsubscribe:c.runOutsideAngular(()=>ot.onAuthStateChanged(xn=>Ot.next(xn),xn=>Ot.error(xn),()=>Ot.complete()))})))),ft=$e.pipe((0,yr.w)(ot=>new go.y(Ot=>({unsubscribe:c.runOutsideAngular(()=>ot.onIdTokenChanged(xn=>Ot.next(xn),xn=>Ot.error(xn),()=>Ot.complete()))}))));this.authState=rt.pipe(QP(bt),(0,uA.R)(d.outsideAngular),(0,ZI.Q)(d.insideAngular)),this.user=rt.pipe(QP(ft),(0,uA.R)(d.outsideAngular),(0,ZI.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,yr.w)(ot=>ot?(0,Zn.D)(ot.getIdToken()):(0,Mt.of)(null))),this.idTokenResult=this.user.pipe((0,yr.w)(ot=>ot?(0,Zn.D)(ot.getIdTokenResult()):(0,Mt.of)(null))),this.credential=(0,$R.T)(rt,Me,this.authState.pipe(Xr(ot=>!ot))).pipe((0,$t.U)(ot=>ot?.user?ot:null),(0,uA.R)(d.outsideAngular),(0,ZI.Q)(d.insideAngular))}return(0,ta.pX)(this,$e,c,{spy:{apply:(He,rt,bt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&bt.then(ft=>Me.next(ft))}}})}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(ta.Dh),a.LFG(ta.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(xi.HU),a.LFG(PO,8),a.LFG(OO,8),a.LFG(NO,8),a.LFG(RO,8),a.LFG(kO,8),a.LFG(FO,8),a.LFG(xA,8))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function VO(t,e){return function jk(t,e=u1.z){return new go.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function IA(t,e){return VO(t,e).pipe((0,$t.U)(n=>({payload:n,type:"query"})))}function QI(t,e){return IA(t,e).pipe(Na(void 0),vd(),(0,$t.U)(([n,r])=>{const o=r.payload.docChanges(),c=o.map(d=>({type:d.type,payload:d}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const y=o.find(T=>T.doc.ref.isEqual(d.ref)),w=n?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),c}))}function BO(t,e,n){return QI(t,n).pipe(Qo((r,o)=>function Zk(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function $k(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return DA(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return DA(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DA(t,e.oldIndex,1)}return t}(t,r))}),t}(r,o.map(c=>c.payload),e),[]),(0,d1.x)(),(0,$t.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function DA(t,e,n,...r){const o=t.slice();return o.splice(e,n,...r),o}function jO(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class HO{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=QI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,$t.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),n.pipe(Na(void 0),vd(),Xr(([r,o])=>o.length>0||!r),(0,$t.U)(([r,o])=>o),xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qo((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=jO(e);return BO(this.query,n,this.afs.schedulers.outsideAngular).pipe(xi.iC)}valueChanges(e={}){return IA(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),xi.iC)}get(e){return(0,Zn.D)(this.query.get(e)).pipe(xi.iC)}add(e){return this.ref.add(e)}doc(e){return new ZO(this.ref.doc(e),this.afs)}}class ZO{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:o,query:c}=$O(r,n);return new HO(o,c,this.afs)}snapshotChanges(){return function Hk(t,e){return VO(t,e).pipe(Na(void 0),vd(),(0,$t.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$t.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Zn.D)(this.ref.get(e)).pipe(xi.iC)}}class zk{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?QI(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Xr(n=>n.length>0),xi.iC):QI(this.query,this.afs.schedulers.outsideAngular).pipe(xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qo((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=jO(e);return BO(this.query,n,this.afs.schedulers.outsideAngular).pipe(xi.iC)}valueChanges(e={}){return IA(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),xi.iC)}get(e){return(0,Zn.D)(this.query.get(e)).pipe(xi.iC)}}const qk=new a.OlP("angularfire2.enableFirestorePersistence"),Gk=new a.OlP("angularfire2.firestore.persistenceSettings"),Wk=new a.OlP("angularfire2.firestore.settings"),Kk=new a.OlP("angularfire2.firestore.use-emulator");function $O(t,e=(n=>n)){return{query:e(t),ref:t}}let $w=(()=>{class t{constructor(n,r,o,c,d,m,y,w,T,R,Q,ie,Me,$e,He,rt,bt){this.schedulers=y;const ft=(0,ta.on)(n,m,r),ot=T;R&&LO(ft,m,Q,Me,$e,He,ie,rt),[this.firestore,this.persistenceEnabled$]=(0,ta.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const Ot=m.runOutsideAngular(()=>ft.firestore());if(c&&Ot.settings(c),ot&&Ot.useEmulator(...ot),o&&!Wr(d)){const xn=()=>{try{return(0,Zn.D)(Ot.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ci){return typeof console<"u"&&console.warn(ci),(0,Mt.of)(!1)}};return[Ot,m.runOutsideAngular(xn)]}return[Ot,(0,Mt.of)(!1)]},[c,ot,o])}collection(n,r){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:d}=$O(o,r),m=this.schedulers.ngZone.run(()=>c);return new HO(m,d,this)}collectionGroup(n,r){const o=r||(d=>d),c=this.firestore.collectionGroup(n);return new zk(o(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>r);return new ZO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(ta.Dh),a.LFG(ta.xv,8),a.LFG(qk,8),a.LFG(Wk,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(xi.HU),a.LFG(Gk,8),a.LFG(Kk,8),a.LFG(UO,8),a.LFG(PO,8),a.LFG(OO,8),a.LFG(NO,8),a.LFG(RO,8),a.LFG(kO,8),a.LFG(FO,8),a.LFG(xA,8))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),zw=(()=>{var t;class e{constructor(r,o){this.firestore=r,this.cookieService=o,this.allMembersData=[]}getAllMemberData(){var r=this;return(0,De.Z)(function*(){return r.allMembersData=[],yield r.firestore.collection("memberTable").get().forEach(o=>{o.docs.find(c=>{var d=JSON.parse(JSON.stringify(c.data()));r.allMembersData.push(d)})}),console.log(r.allMembersData),r.allMembersData})()}getAssociationData(){var r=this;return(0,De.Z)(function*(){var o=[];yield r.firestore.collection("associationTable").get().forEach(d=>{d.docs.find(m=>{var y=JSON.parse(JSON.stringify(m.data()));o.push(y)})});var c=o[0];return r.cookieService.set("associationData",JSON.stringify(c),{expires:1}),JSON.parse(JSON.stringify(c))})()}getMemberDetails(r){var o=this;return(0,De.Z)(function*(){var c;return yield o.firestore.collection("memberDetails").get().forEach(d=>{d.docs.find(m=>{var y=JSON.parse(JSON.stringify(m.data()));y.PhoneNumber==r&&(c=y)})}),o.cookieService.set("memberDetails",JSON.stringify(c),{expires:1}),c})()}getMemberMonthlyDetails(r,o,c){var d=this;return(0,De.Z)(function*(){var m;return yield d.firestore.collection("monthlyUserData/"+c+"/"+o).get().forEach(y=>{y.docs.find(w=>{var T=JSON.parse(JSON.stringify(w.data()));T.PhoneNumber==r&&(m=T)})}),m})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG($w),a.LFG(Lo))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Kd=(()=>{var t;class e{constructor(r,o,c,d,m){this.http=r,this.cookieService=o,this.router=c,this.helpService=d,this.firestore=m,this.isEmployeeAdded=!1,this.isEmployeeRemoved=!1,this.isMemberDetailsArrayAdded=!1,this.isAssociationDetailsUpdated=!1,this.isAssociationMonthlyDataAdded=!1,this.isMemberDetailsLoaded=!1,this.isMemberMontlyDataLoaded=!1,this.isNextMonthStarted=!1,this.isLoanEntryAdded=!1,this.memberList=[],this.searchedMemberList=[]}isAdmin(){return"Admin"==ig(this.cookieService)}addNewEmployee(r){var o=this;return(0,De.Z)(function*(){console.log(r),o.isEmployeeAdded=!1;var d,c=JSON.parse(Vh(o.cookieService.get("memberList")));if(console.log(c),c.find(ie=>{ie.PhoneNumber==r.PhoneNumber&&(d=ie)}),null==d){yield o.firestore.collection("memberTable").doc(r.PhoneNumber).set(r);var m=yield o.helpService.getAssociationData(),y=parseInt(m.Shares.toString())+parseInt(r.Shares),w=parseInt(m.TotalMembers.toString())+1,T=parseInt(m.AvailableBalance.toString())+parseInt(r.PremiumPaid)+parseInt(r.InterestPaid)+parseInt(r.TotalPenaltyPaid),R=parseInt(m.TotalBalance.toString())+parseInt(r.PremiumPaid)+parseInt(r.InterestPaid)+parseInt(r.TotalPenaltyPaid),Q=parseInt(m.PenaltyAmount.toString())+parseInt(r.TotalPenaltyPaid);yield o.firestore.collection("associationTable").doc("table").update({Shares:y,TotalMembers:w,AvailableBalance:T,TotalBalance:R,PenaltyAmount:Q}),o.isEmployeeAdded=!0,yield o.firestore.collection("login").doc(r.PhoneNumber).set({PhoneNumber:r.PhoneNumber,Password:r.PhoneNumber})}})()}updateAssociationDetails(r){var o=this;return(0,De.Z)(function*(){o.isAssociationDetailsUpdated=!1,console.log(r),yield o.firestore.collection("associationTable").doc("table").update(r),o.isAssociationDetailsUpdated=!0})()}removeEmployee(r){var o=this;return(0,De.Z)(function*(){o.isEmployeeRemoved=!1;var c=function p0(t){return{email:t}}(r);yield o.http.delete("http://54.215.204.254:9042/Admin/RemoveEmployee",{headers:{},body:c}).toPromise().then(m=>{JSON.parse(JSON.stringify(m)),o.isEmployeeRemoved=!0}).catch(m=>{o.isEmployeeRemoved=!1})})()}getAllMemberDetails(){var r=this;return(0,De.Z)(function*(){r.isMemberDetailsArrayAdded=!1,r.memberList=yield r.helpService.getAllMemberData();const o=rg(JSON.stringify(r.memberList));r.cookieService.set("memberList",o,{expires:30}),r.searchedMemberList=r.memberList,r.isMemberDetailsArrayAdded=!0})()}getAssociationDetails(){var r=this;return(0,De.Z)(function*(){r.associationDetals=yield r.helpService.getAssociationData(),console.log(r.associationDetals.Name)})()}onSearchMemberList(r){this.searchedMemberList=this.memberList.filter(o=>-1!=o.FirstName.indexOf(r)||-1!=o.PhoneNumber.indexOf(r))}getAssociationMontlyData(r,o){var c=this;return(0,De.Z)(function*(){console.log(c.isAssociationMonthlyDataAdded),c.isAssociationMonthlyDataAdded=!1,c.associationMontlyData={TotalInterestRecieved:0,TotalPenaltyRecieved:0,TotalPremiumRecieved:0,PremiumRemainingPhoneNumbers:[]},yield c.firestore.collection("monthlyUserData/"+o+"/"+r).get().forEach(d=>{d.docs.find(m=>{var y=JSON.parse(JSON.stringify(m.data()));y.PremiumStatus?(c.associationMontlyData.TotalPremiumRecieved+=y.Premium,c.associationMontlyData.TotalInterestRecieved+=y.InterestAmount,c.associationMontlyData.TotalPenaltyRecieved+=y.PenaltyPaid):c.associationMontlyData.PremiumRemainingPhoneNumbers.push(y.PhoneNumber)})}),console.log(c.associationMontlyData),c.isAssociationMonthlyDataAdded=!0})()}getMemberDetails(){var r=this;return(0,De.Z)(function*(){r.isMemberDetailsLoaded=!1,r.memberDetails=JSON.parse(r.cookieService.get("memberDetails")),r.memberMontlyData=yield r.helpService.getMemberMonthlyDetails(r.memberDetails.PhoneNumber,"Nov","2023"),console.log(r.memberMontlyData),console.log(r.memberDetails),r.isMemberDetailsLoaded=!0})()}getMemberMothlyDetails(r,o){var c=this;return(0,De.Z)(function*(){c.isMemberMontlyDataLoaded=!1,c.memberMontlyData=yield c.helpService.getMemberMonthlyDetails(c.memberDetails.PhoneNumber,r,o),null==c.memberMontlyData&&(c.memberMontlyData={PhoneNumber:"",Premium:0,PremiumStatus:!1,LoanAmount:0,InterestAmount:0,InterestStatus:!1,PenaltyPaid:0,DateTime:new Date}),console.log(c.memberMontlyData),c.isMemberMontlyDataLoaded=!0})()}startNextMonth(){var r=this;return(0,De.Z)(function*(){if(r.isNextMonthStarted=!1,r.associationDetals=yield r.helpService.getAssociationData(),null!=r.associationDetals){yield r.getAllMemberDetails(),r.memberList.find(m=>{m.NextMonthPremium=m.Shares*r.associationDetals.SharePrice,m.NextMonthInterest=m.LoanAmount*r.associationDetals.InterestRate}),console.log(r.memberList);var o=function OD(t){if("Dec"==t)return"Jan";var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e[e.indexOf(t)+1]}(r.associationDetals.CurrentMonth),c=parseInt(r.associationDetals.CurrentYear);"Jan"==o&&(c+=1);for(var d=0;d<r.memberList.length;d++)yield r.addMemberInNexMonth(r.memberList[d],c,o);r.associationDetals.CurrentMonth=o,r.associationDetals.CurrentYear=c.toString(),yield r.updateAssociationDetails(r.associationDetals),r.isNextMonthStarted=!0}})()}addMemberInNexMonth(r,o,c){var d=this;return(0,De.Z)(function*(){yield d.firestore.collection("monthlyUserData/"+o+"/"+c).doc(r.PhoneNumber).set({PhoneNumber:r.PhoneNumber,Premium:r.NextMonthPremium,PremiumStatus:!1,LoanAmount:r.LoanAmount,InterestAmount:r.NextMonthInterest,InterestStatus:!1,PenaltyPaid:0,DateTime:null})})()}addLoanEntry(r,o){var c=this;return(0,De.Z)(function*(){var d;if(c.isLoanEntryAdded=!1,o=parseInt(o.toString()),c.memberList.find(y=>{y.PhoneNumber==r&&(d=y)}),c.associationDetals=yield c.helpService.getAssociationData(),!(c.associationDetals.AvailableBalance<o)){yield c.firestore.collection("associationTable").doc("table").update({LoanAmount:parseInt(c.associationDetals.LoanAmount.toString())+o,AvailableBalance:parseInt(c.associationDetals.AvailableBalance.toString())-o});var m=parseInt(d.LoanAmount.toString())+o;console.log(m),yield c.firestore.collection("memberTable").doc(d.PhoneNumber).update({LoanAmount:m})}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(ag),a.LFG(Lo),a.LFG(wn),a.LFG(zw),a.LFG($w))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),TA=(()=>{var t;class e{constructor(r,o){this.adminService=r,this.router=o}canActivate(r,o){return!!this.adminService.isAdmin()||this.router.parseUrl("login")}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(Kd),a.LFG(wn))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})(),zO=(()=>{var t;class e{constructor(r,o){this._renderer=r,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.Qsj),a.Y36(a.SBq))},t.\u0275dir=a.lG2({type:t}),e})(),Pm=(()=>{var t;class e extends zO{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,features:[a.qOj]}),e})();const vu=new a.OlP("NgValueAccessor"),Qk={provide:vu,useExisting:(0,a.Gpc)(()=>fs),multi:!0},eF=new a.OlP("CompositionEventMode");let fs=(()=>{var t;class e extends zO{constructor(r,o,c){super(r,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xk(){const t=O()?O().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(eF,8))},t.\u0275dir=a.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&a.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[a._Bn([Qk]),a.qOj]}),e})();function Jf(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function GO(t){return null!=t&&"number"==typeof t.length}const Ho=new a.OlP("NgValidators"),Qf=new a.OlP("NgAsyncValidators"),tF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yt{static min(e){return function WO(t){return e=>{if(Jf(e.value)||Jf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function KO(t){return e=>{if(Jf(e.value)||Jf(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function YO(t){return Jf(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function JO(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function QO(t){return Jf(t.value)||tF.test(t.value)?null:{email:!0}}(e)}static minLength(e){return XO(e)}static maxLength(e){return eN(e)}static pattern(e){return function tN(t){if(!t)return XI;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Jf(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return aN(e)}static composeAsync(e){return cN(e)}}function XO(t){return e=>Jf(e.value)||!GO(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function eN(t){return e=>GO(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function XI(t){return null}function nN(t){return null!=t}function rN(t){return(0,a.QGY)(t)?(0,Zn.D)(t):t}function iN(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oN(t,e){return e.map(n=>n(t))}function sN(t){return t.map(e=>function nF(t){return!t.validate}(e)?e:n=>e.validate(n))}function aN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return iN(oN(n,e))}}function SA(t){return null!=t?aN(sN(t)):null}function cN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return function Yk(...t){const e=(0,Ro.jO)(t),{args:n,keys:r}=Ln(t),o=new go.y(c=>{const{length:d}=n;if(!d)return void c.complete();const m=new Array(d);let y=d,w=d;for(let T=0;T<d;T++){let R=!1;(0,Nc.Xf)(n[T]).subscribe((0,yi.x)(c,Q=>{R||(R=!0,w--),m[T]=Q},()=>y--,void 0,()=>{(!y||!R)&&(w||c.next(r?Ji(r,m):m),c.complete())}))}});return e?o.pipe(El(e)):o}(oN(n,e).map(rN)).pipe((0,$t.U)(iN))}}function AA(t){return null!=t?cN(sN(t)):null}function lN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function uN(t){return t._rawValidators}function dN(t){return t._rawAsyncValidators}function MA(t){return t?Array.isArray(t)?t:[t]:[]}function eD(t,e){return Array.isArray(t)?t.includes(e):t===e}function hN(t,e){const n=MA(e);return MA(t).forEach(o=>{eD(n,o)||n.push(o)}),n}function fN(t,e){return MA(e).filter(n=>!eD(t,n))}class pN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ps extends pN{get formDirective(){return null}get path(){return null}}class Xf extends pN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gs=(()=>{var t;class e extends gN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(Xf,2))},t.\u0275dir=a.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&a.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[a.qOj]}),e})(),nl=(()=>{var t;class e extends gN{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(ps,10))},t.\u0275dir=a.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&a.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[a.qOj]}),e})();const qw="VALID",nD="INVALID",cy="PENDING",Gw="DISABLED";function NA(t){return(rD(t)?t.validators:t)||null}function RA(t,e){return(rD(e)?e.asyncValidators:t)||null}function rD(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function vN(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[n])throw new a.vHH(1001,"")}function yN(t,e,n){t._forEachChild((r,o)=>{if(void 0===n[o])throw new a.vHH(1002,"")})}class iD{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qw}get invalid(){return this.status===nD}get pending(){return this.status==cy}get disabled(){return this.status===Gw}get enabled(){return this.status!==Gw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}hasValidator(e){return eD(this._rawValidators,e)}hasAsyncValidator(e){return eD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Gw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=qw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qw||this.status===cy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gw:qw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cy,this._hasOwnPendingAsyncValidator=!0;const n=rN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Gw:this.errors?nD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cy)?cy:this._anyControlsHaveStatus(nD)?nD:qw}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function sF(t){return Array.isArray(t)?SA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aF(t){return Array.isArray(t)?AA(t):t||null}(this._rawAsyncValidators)}}class Ww extends iD{constructor(e,n,r){super(NA(n),RA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yN(this,0,e),Object.keys(e).forEach(r=>{vN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,c)=>{r=n(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class _N extends Ww{}const Om=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kw}),Kw="always";function oD(t,e){return[...e.path,t]}function Yw(t,e,n=Kw){kA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function lF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bN(t,e)})}(t,e),function dF(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function uF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function cF(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function sD(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cD(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function aD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function kA(t,e){const n=uN(t);null!==e.validator?t.setValidators(lN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=dN(t);null!==e.asyncValidator?t.setAsyncValidators(lN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();aD(e._rawValidators,o),aD(e._rawAsyncValidators,o)}function cD(t,e){let n=!1;if(null!==t){if(null!==e.validator){const o=uN(t);if(Array.isArray(o)&&o.length>0){const c=o.filter(d=>d!==e.validator);c.length!==o.length&&(n=!0,t.setValidators(c))}}if(null!==e.asyncValidator){const o=dN(t);if(Array.isArray(o)&&o.length>0){const c=o.filter(d=>d!==e.asyncValidator);c.length!==o.length&&(n=!0,t.setAsyncValidators(c))}}}const r=()=>{};return aD(e._rawValidators,r),aD(e._rawAsyncValidators,r),n}function bN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function UA(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===fs?n=c:function pF(t){return Object.getPrototypeOf(t.constructor)===Pm}(c)?r=c:o=c}),o||r||n||null}function xN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function EN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Qw=class extends iD{constructor(e=null,n,r){super(NA(n),RA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rD(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=EN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){EN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_F={provide:Xf,useExisting:(0,a.Gpc)(()=>Xw)},TN=(()=>Promise.resolve())();let Xw=(()=>{var t;class e extends Xf{constructor(r,o,c,d,m,y){super(),this._changeDetectorRef=m,this.callSetDisabledState=y,this.control=new Qw,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=r,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=UA(0,d)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const o=r.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),LA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){TN.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const o=r.isDisabled.currentValue,c=0!==o&&(0,a.VuI)(o);TN.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?oD(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(ps,9),a.Y36(Ho,10),a.Y36(Qf,10),a.Y36(vu,10),a.Y36(a.sBO,8),a.Y36(Om,8))},t.\u0275dir=a.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([_F]),a.qOj,a.TTD]}),e})(),rl=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=a.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const bF={provide:vu,useExisting:(0,a.Gpc)(()=>lD),multi:!0};let lD=(()=>{var t;class e extends Pm{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=o=>{r(""==o?null:parseFloat(o))}}}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){1&r&&a.NdJ("input",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},features:[a._Bn([bF]),a.qOj]}),e})(),SN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({}),e})();const BA=new a.OlP("NgModelWithFormControlWarning"),IF={provide:ps,useExisting:(0,a.Gpc)(()=>fa)};let fa=(()=>{var t;class e extends ps{constructor(r,o,c){super(),this.callSetDisabledState=c,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const o=this.form.get(r.path);return Yw(o,r,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){sD(r.control||null,r,!1),function gF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this.submitted=!0,function CN(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const o=r.control,c=this.form.get(r.path);o!==c&&(sD(o||null,r),(t=>t instanceof Qw)(c)&&(Yw(c,r,this.callSetDisabledState),r.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const o=this.form.get(r.path);(function wN(t,e){kA(t,e)})(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const o=this.form.get(r.path);o&&function hF(t,e){return cD(t,e)}(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kA(this.form,this),this._oldForm&&cD(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(Ho,10),a.Y36(Qf,10),a.Y36(Om,8))},t.\u0275dir=a.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&a.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([IF]),a.qOj,a.TTD]}),e})();const SF={provide:Xf,useExisting:(0,a.Gpc)(()=>pa)};let pa=(()=>{var t;class e extends Xf{set isDisabled(r){}constructor(r,o,c,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=UA(0,d)}ngOnChanges(r){this._added||this._setUpControl(),LA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return oD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(a.Y36(ps,13),a.Y36(Ho,10),a.Y36(Qf,10),a.Y36(vu,10),a.Y36(BA,8))},t.\u0275dir=a.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([SF]),a.qOj,a.TTD]}),e})();const AF={provide:vu,useExisting:(0,a.Gpc)(()=>Nm),multi:!0};function NN(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Nm=(()=>{var t;class e extends Pm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const c=NN(this._getOptionId(r),r);this.setProperty("value",c)}registerOnChange(r){this.onChange=o=>{this.value=this._getOptionValue(o),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),r))return o;return null}_getOptionValue(r){const o=function MF(t){return t.split(":")[0]}(r);return this._optionMap.has(o)?this._optionMap.get(o):r}}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&a.NdJ("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([AF]),a.qOj]}),e})(),eC=(()=>{var t;class e{constructor(r,o,c){this._element=r,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(NN(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Nm,9))},t.\u0275dir=a.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const PF={provide:vu,useExisting:(0,a.Gpc)(()=>ZA),multi:!0};function RN(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ZA=(()=>{var t;class e extends Pm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let o;if(this.value=r,Array.isArray(r)){const c=r.map(d=>this._getOptionId(d));o=(d,m)=>{d._setSelected(c.indexOf(m.toString())>-1)}}else o=(c,d)=>{c._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(r){this.onChange=o=>{const c=[],d=o.selectedOptions;if(void 0!==d){const m=d;for(let y=0;y<m.length;y++){const T=this._getOptionValue(m[y].value);c.push(T)}}else{const m=o.options;for(let y=0;y<m.length;y++){const w=m[y];if(w.selected){const T=this._getOptionValue(w.value);c.push(T)}}}this.value=c,r(c)}}_registerOption(r){const o=(this._idCounter++).toString();return this._optionMap.set(o,r),o}_getOptionId(r){for(const o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,r))return o;return null}_getOptionValue(r){const o=function OF(t){return t.split(":")[0]}(r);return this._optionMap.has(o)?this._optionMap.get(o)._value:r}}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&a.NdJ("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([PF]),a.qOj]}),e})(),tC=(()=>{var t;class e{constructor(r,o,c){this._element=r,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(RN(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(RN(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(ZA,9))},t.\u0275dir=a.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function kN(t){return"number"==typeof t?t:parseInt(t,10)}let Rm=(()=>{var t;class e{constructor(){this._validator=XI}ngOnChanges(r){if(this.inputName in r){const o=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):XI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=a.lG2({type:t,features:[a.TTD]}),e})();const UF={provide:Ho,useExisting:(0,a.Gpc)(()=>nC),multi:!0};let nC=(()=>{var t;class e extends Rm{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>kN(r),this.createValidator=r=>XO(r)}}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&a.uIk("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([UF]),a.qOj]}),e})();const VF={provide:Ho,useExisting:(0,a.Gpc)(()=>ep),multi:!0};let ep=(()=>{var t;class e extends Rm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>kN(r),this.createValidator=r=>eN(r)}}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=a.n5z(t)))(o||t)}}(),t.\u0275dir=a.lG2({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&a.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([VF]),a.qOj]}),e})(),HN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[SN]}),e})();class ZN extends iD{constructor(e,n,r){super(NA(n),RA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){yN(this,0,e),e.forEach((r,o)=>{vN(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function $N(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let il=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,o=null){const c=this._reduceControls(r);let d={};return $N(o)?d=o:null!==o&&(d.validators=o.validator,d.asyncValidators=o.asyncValidator),new Ww(c,d)}record(r,o=null){const c=this._reduceControls(r);return new _N(c,o)}control(r,o,c){let d={};return this.useNonNullable?($N(o)?d=o:(d.validators=o,d.asyncValidators=c),new Qw(r,{...d,nonNullable:!0})):new Qw(r,o,c)}array(r,o,c){const d=r.map(m=>this._createControl(m));return new ZN(d,o,c)}_reduceControls(r){const o={};return Object.keys(r).forEach(c=>{o[c]=this._createControl(r[c])}),o}_createControl(r){return r instanceof Qw||r instanceof iD?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rC=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Om,useValue:r.callSetDisabledState??Kw}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[HN]}),e})(),uD=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:BA,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Om,useValue:r.callSetDisabledState??Kw}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[HN]}),e})();function jF(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"type is required"),a.qZA())}function HF(t,e){if(1&t&&(a.TgZ(0,"div",16),a.YNc(1,jF,2,0,"div",17),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.type.errors.required)}}function ZF(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," mmobile is required "),a.qZA())}function $F(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," invalid mmobile "),a.qZA())}function zF(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,ZF,2,0,"div",17),a.YNc(2,$F,2,0,"div",17),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.mmobile.errors.required),a.xp6(1),a.Q6J("ngIf",n.form.mmobile.errors.minLength)}}function qF(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function GF(t,e){if(1&t&&(a.TgZ(0,"div",16),a.YNc(1,qF,2,0,"div",17),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.firstname.errors.required)}}function WF(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function KF(t,e){if(1&t&&(a.TgZ(0,"div",16),a.YNc(1,WF,2,0,"div",17),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.middlename.errors.required)}}function YF(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function JF(t,e){if(1&t&&(a.TgZ(0,"div",16),a.YNc(1,YF,2,0,"div",17),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.lastname.errors.required)}}const Yd=function(t){return{"is-invalid":t}},zA=function(t){return{display:t}};let QF=(()=>{var t;class e{constructor(r,o,c){this.router=r,this.formBuilder=o,this.adminService=c,this.submitted=!1,this.doneDisplayStyle="none",this.somethingWentWrongStyle="none",this.loadingDisplayStyle="none"}ngOnInit(){this.addEmployeeForm=this.formBuilder.group({mmobile:["",[Yt.required,Yt.minLength(10)]],firstname:["",[Yt.required]],lastname:["",[Yt.required]],middlename:["",[Yt.required]],shares:[0,[]],type:["reader",[Yt.required]],premiumpaid:[0,[]],penaltypaid:[0,[]],interestpaid:[0,[]]})}openDonePopup(){this.doneDisplayStyle="flex"}closeDonePopup(){this.doneDisplayStyle="none",this.router.navigate(["manage-members"])}openErrorPopup(){this.somethingWentWrongStyle="flex"}closeErrorPopup(){this.somethingWentWrongStyle="none"}openLoadingPopup(){this.loadingDisplayStyle="flex"}closeLoadingPopup(){this.loadingDisplayStyle="none"}onSubmit(){var r=this;return(0,De.Z)(function*(){if(r.submitted=!0,!r.addEmployeeForm.invalid){r.openLoadingPopup();var o={FirstName:r.addEmployeeForm.value.firstname,LastName:r.addEmployeeForm.value.lastname,MiddleName:r.addEmployeeForm.value.middlename,PhoneNumber:r.addEmployeeForm.value.mmobile,Shares:parseInt(r.addEmployeeForm.value.shares),Role:r.addEmployeeForm.value.type,InterestPaid:parseInt(r.addEmployeeForm.value.interestpaid),PremiumPaid:parseInt(r.addEmployeeForm.value.premiumpaid),LoanAmount:0,TotalPenaltyPaid:parseInt(r.addEmployeeForm.value.penaltypaid)};yield r.adminService.addNewEmployee(o),r.closeLoadingPopup(),r.adminService.isEmployeeAdded?r.openDonePopup():r.openErrorPopup()}})()}get form(){return this.addEmployeeForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-add-employee"]],decls:108,vars:42,consts:[[1,"login-main"],[1,"modal-top"],["src","../../../assets/logos/icon-employees.svg",1,"tavisca-logo"],[1,"text-main"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],["formControlName","type",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],["value","reader"],["value","writer"],["value","admin"],["class","input-error text-align-left",4,"ngIf"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-envelope","input-icon-size"],["type","text","id","mmobile","placeholder","Employee mmobile","aria-label","Username","aria-describedby","basic-addon1","formControlName","mmobile","maxlength","10","minlength","10",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngClass"],[1,"input-error","text-align-left"],[4,"ngIf"],[1,"bi","bi-lock","input-icon-size"],["type","text","placeholder","Member firstname","aria-label","Username","aria-describedby","basic-addon1","formControlName","firstname",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","placeholder","Member middleName","aria-label","Username","aria-describedby","basic-addon1","formControlName","middlename",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","placeholder","Member lastname","aria-label","Username","aria-describedby","basic-addon1","formControlName","lastname",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","shares",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","premiumpaid",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","interestpaid",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","penaltypaid",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","submit",1,"btn","btn-dark","login-button"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],[1,"card-widget-body"],["src","../../../assets/logos/icon-done.svg",1,"card-modal-icon"],[1,"card-modal-text"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle"],["src","../../../assets/gifs/spinner.gif",1,"card-modal-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"p",3),a._uU(4,"Add Member Details"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(6,"div",5)(7,"label"),a._uU(8,"Employee Type"),a.qZA()(),a.TgZ(9,"div",6)(10,"div",7)(11,"select",8)(12,"option",9),a._uU(13,"Reader"),a.qZA(),a.TgZ(14,"option",10),a._uU(15,"Writer"),a.qZA(),a.TgZ(16,"option",11),a._uU(17,"Admin"),a.qZA()()(),a.YNc(18,HF,2,1,"div",12),a.qZA(),a.TgZ(19,"div",5)(20,"label"),a._uU(21,"Member Mobile Number"),a.qZA()(),a.TgZ(22,"div",6)(23,"div",7)(24,"div",13),a._UZ(25,"i",14),a.qZA(),a._UZ(26,"input",15),a.qZA(),a.TgZ(27,"div",16),a.YNc(28,zF,3,2,"div",17),a.qZA()(),a.TgZ(29,"div",5)(30,"label"),a._uU(31,"Member FirstName"),a.qZA()(),a.TgZ(32,"div",6)(33,"div",7)(34,"div",13),a._UZ(35,"i",18),a.qZA(),a._UZ(36,"input",19),a.qZA(),a.YNc(37,GF,2,1,"div",12),a.qZA(),a.TgZ(38,"div",5)(39,"label"),a._uU(40,"Member MiddleName"),a.qZA()(),a.TgZ(41,"div",6)(42,"div",7)(43,"div",13),a._UZ(44,"i",18),a.qZA(),a._UZ(45,"input",20),a.qZA(),a.YNc(46,KF,2,1,"div",12),a.qZA(),a.TgZ(47,"div",5)(48,"label"),a._uU(49,"Member LastName"),a.qZA()(),a.TgZ(50,"div",6)(51,"div",7)(52,"div",13),a._UZ(53,"i",18),a.qZA(),a._UZ(54,"input",21),a.qZA(),a.YNc(55,JF,2,1,"div",12),a.qZA(),a.TgZ(56,"div",5)(57,"label"),a._uU(58,"Member Shares"),a.qZA()(),a.TgZ(59,"div",6)(60,"div",7)(61,"div",13),a._UZ(62,"i",18),a.qZA(),a._UZ(63,"input",22),a.qZA()(),a.TgZ(64,"div",5)(65,"label"),a._uU(66,"Total Premium Paid"),a.qZA()(),a.TgZ(67,"div",6)(68,"div",7)(69,"div",13),a._UZ(70,"i",18),a.qZA(),a._UZ(71,"input",23),a.qZA()(),a.TgZ(72,"div",5)(73,"label"),a._uU(74,"Total Interest Paid"),a.qZA()(),a.TgZ(75,"div",6)(76,"div",7)(77,"div",13),a._UZ(78,"i",18),a.qZA(),a._UZ(79,"input",24),a.qZA()(),a.TgZ(80,"div",5)(81,"label"),a._uU(82,"Total Penalty Paid"),a.qZA()(),a.TgZ(83,"div",6)(84,"div",7)(85,"div",13),a._UZ(86,"i",18),a.qZA(),a._UZ(87,"input",25),a.qZA()(),a.TgZ(88,"button",26),a._uU(89," Add Member "),a.qZA()()(),a.TgZ(90,"div",27),a.NdJ("click",function(){return o.closeDonePopup()}),a.TgZ(91,"div",28)(92,"div",29),a._UZ(93,"img",30),a.TgZ(94,"p",31),a._uU(95,"Entry Successful"),a.qZA()()()(),a.TgZ(96,"div",27),a.NdJ("click",function(){return o.closeErrorPopup()}),a.TgZ(97,"div",28)(98,"div",29),a._UZ(99,"img",32),a.TgZ(100,"p",31),a._uU(101,"Something Went Wrong"),a.qZA()()()(),a.TgZ(102,"div",33)(103,"div",28)(104,"div",29),a._UZ(105,"img",34),a.TgZ(106,"p",31),a._uU(107,"Please Wait"),a.qZA()()()()()),2&r&&(a.xp6(5),a.Q6J("formGroup",o.addEmployeeForm),a.xp6(6),a.Q6J("ngClass",a.VKq(18,Yd,o.submitted&&o.form.type.errors)),a.xp6(7),a.Q6J("ngIf",o.submitted&&o.form.type.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(20,Yd,o.submitted&&o.form.mmobile.errors)),a.xp6(2),a.Q6J("ngIf",o.submitted&&o.form.mmobile.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(22,Yd,o.submitted&&o.form.firstname.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.firstname.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(24,Yd,o.submitted&&o.form.middlename.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.middlename.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(26,Yd,o.submitted&&o.form.lastname.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.lastname.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(28,Yd,o.submitted&&o.form.shares.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(30,Yd,o.submitted&&o.form.premiumpaid.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(32,Yd,o.submitted&&o.form.interestpaid.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(34,Yd,o.submitted&&o.form.penaltypaid.errors)),a.xp6(3),a.Q6J("ngStyle",a.VKq(36,zA,o.doneDisplayStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(38,zA,o.somethingWentWrongStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(40,zA,o.loadingDisplayStyle)))},dependencies:[Fr,Pi,zo,rl,eC,tC,fs,Nm,gs,nl,nC,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:7vh;color:vr(--widget-text-color);font-family:var(--)}.tavisca-logo[_ngcontent-%COMP%]{width:15%;margin-bottom:0%}.text-main[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:700;font-size:18px;letter-spacing:.1px}.dropdown-menu[_ngcontent-%COMP%]{font-family:var(--gilroy-semibold)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{width:50%}.text-main[_ngcontent-%COMP%]{margin-bottom:7%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}"]}),e})();function XF(t,e){if(1&t){const n=a.EpF();a.TgZ(0,"div")(1,"div",12)(2,"div",26),a.NdJ("click",function(){const c=a.CHM(n).$implicit,d=a.oxw();return a.KtG(d.onSelectUser(c))}),a.TgZ(3,"div",27)(4,"p",28),a._uU(5),a.qZA(),a.TgZ(6,"p",28),a._uU(7),a.qZA(),a.TgZ(8,"p",28),a._uU(9),a.qZA()()()()()}if(2&t){const n=e.$implicit;a.xp6(5),a.Oqu(n.FirstName),a.xp6(2),a.Oqu(n.PhoneNumber),a.xp6(2),a.Oqu(n.Role)}}const dD=function(t){return{display:t}};let eL=(()=>{var t;class e{constructor(r,o){this.router=r,this.adminService=o,this.removeEmployeeStyle="none",this.somethingWentWrongStyle="none",this.settingsPopUpStyle="none",this.selectedUserName="",this.selectedUserPhoneNumber="",this.loadingDisplayStyle="none",this.searchText="",this.getAllEmployee()}ngOnInit(){}getAllEmployee(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getAllMemberDetails()})()}removeEmployeeEntry(){return(0,De.Z)(function*(){})()}openRemoveEmployeePopup(){this.removeEmployeeStyle="flex"}closeRemoveEmployeePopup(){this.removeEmployeeStyle="none"}openErrorPopup(){this.somethingWentWrongStyle="flex"}closeErrorPopup(){this.somethingWentWrongStyle="none"}openSettingPopup(){this.settingsPopUpStyle="flex"}closeSettingPopup(){this.settingsPopUpStyle="none"}addEmployee(){this.router.navigate(["add-member"])}openLoadingPopup(){this.loadingDisplayStyle="flex"}closeLoadingPopup(){this.loadingDisplayStyle="none"}onSelectUser(r){this.settingsPopUpStyle="flex",this.selectedUserName=r.FirstName,this.selectedUserPhoneNumber=r.PhoneNumber}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-employee-list"]],decls:49,vars:16,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"search-box"],[1,"search-inner"],[1,"search-text"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-person","input-icon-size"],["type","text","id","email","placeholder","Enter Name","aria-label","Username","aria-describedby","basic-addon1",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngModel","ngModelChange"],[1,"main-text"],[1,"employee-list"],[4,"ngFor","ngForOf"],[1,"row-dashboard"],[1,"add-employee-btn"],["type","submit",1,"btn","btn-dark","add-employee-btn",3,"click"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],[1,"card-widget-body"],["src","../../../assets/logos/icon-cancel.svg",1,"card-modal-icon"],[1,"card-modal-text"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],[1,""],["type","submit",1,"btn","btn-dark"],["type","submit",1,"btn","btn-dark","btn-down",2,"margin-left","5%",3,"click"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle"],["src","../../../assets/gifs/spinner.gif",1,"card-modal-icon"],[1,"card-vehicle-entry",3,"click"],[1,"card-body"],[1,"employee-entry-text"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),a._uU(5,"Search Member"),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a._UZ(8,"i",7),a.qZA(),a.TgZ(9,"input",8),a.NdJ("ngModelChange",function(d){return o.adminService.onSearchMemberList(d)}),a.qZA()()()(),a.TgZ(10,"p",9),a._uU(11,"Member List"),a.qZA(),a.TgZ(12,"div",10),a.YNc(13,XF,10,3,"div",11),a.qZA(),a.TgZ(14,"div",12)(15,"div",13)(16,"button",14),a.NdJ("click",function(){return o.addEmployee()}),a._uU(17," Add Employee "),a.qZA()()()(),a.TgZ(18,"div",15),a.NdJ("click",function(){return o.closeRemoveEmployeePopup()}),a.TgZ(19,"div",16)(20,"div",17),a._UZ(21,"img",18),a.TgZ(22,"p",19),a._uU(23,"Entry Removed"),a.qZA()()()(),a.TgZ(24,"div",15),a.NdJ("click",function(){return o.closeErrorPopup()}),a.TgZ(25,"div",16)(26,"div",17),a._UZ(27,"img",20),a.TgZ(28,"p",19),a._uU(29,"Something Went Wrong"),a.qZA()()()(),a.TgZ(30,"div",15),a.NdJ("click",function(){return o.closeSettingPopup()}),a.TgZ(31,"div",16)(32,"div",17),a._UZ(33,"img",20),a.TgZ(34,"p",19),a._uU(35),a.qZA(),a.TgZ(36,"p",19),a._uU(37),a.qZA(),a.TgZ(38,"div",21)(39,"button",22),a._uU(40,"Update"),a.qZA(),a.TgZ(41,"button",23),a.NdJ("click",function(){return o.removeEmployeeEntry()}),a._uU(42," Remove "),a.qZA()()()()(),a.TgZ(43,"div",24)(44,"div",16)(45,"div",17),a._UZ(46,"img",25),a.TgZ(47,"p",19),a._uU(48,"Please Wait"),a.qZA()()()()()),2&r&&(a.xp6(9),a.Q6J("ngModel",o.searchText),a.xp6(4),a.Q6J("ngForOf",o.adminService.searchedMemberList),a.xp6(5),a.Q6J("ngStyle",a.VKq(8,dD,o.removeEmployeeStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(10,dD,o.somethingWentWrongStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(12,dD,o.settingsPopUpStyle)),a.xp6(5),a.Oqu(o.selectedUserName),a.xp6(2),a.Oqu(o.selectedUserPhoneNumber),a.xp6(6),a.Q6J("ngStyle",a.VKq(14,dD,o.loadingDisplayStyle)))},dependencies:[ys,zo,fs,gs,Xw],styles:['.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover, .card-vehicle-entry[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card-title-text[_ngcontent-%COMP%]{font-weight:700;font-size:140%;line-height:24px;letter-spacing:.1px;font-family:var(--gilroy-bold);margin-bottom:1.5%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%;text-align:left;margin:var(--margin-center);padding:2%}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.vehicle-entry-icon[_ngcontent-%COMP%]{width:7%}.text-align-center[_ngcontent-%COMP%]{text-align:center}.vehicle-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.vehicle-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);margin-bottom:5%}.search-inner[_ngcontent-%COMP%]{width:86%;margin:var(--margin-center)}.search-text[_ngcontent-%COMP%]{margin-bottom:0%;text-align:left}@media screen and (max-width: 800px){.search-box[_ngcontent-%COMP%]{width:100%}}.card[_ngcontent-%COMP%], .card-vehicle-entry[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.employee-entry-text[_ngcontent-%COMP%]{font-weight:500;color:var(--widget-text-color);margin-bottom:0;align-self:center;font-size:100%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%}.employee-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.employee-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.add-employee-btn[_ngcontent-%COMP%]{width:92%;margin:var(--margin-center)}.add-employee-btn-bottom[_ngcontent-%COMP%]{position:fixed;bottom:2vh;right:0;left:0}']}),e})(),tL=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-vehicle-history"]],decls:25,vars:0,consts:[[1,"dashboard-main"],[1,"search-box"],[1,"search-inner"],[1,"search-text"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-calendar-date","input-icon-size"],["type","date","id","email","placeholder","Select Date","aria-label","Username","aria-describedby","basic-addon1","formControlName","email",1,"input-box","form-control","border-none",2,"margin-left","3px"],[1,"main-text"],[1,"row-dashboard"],[1,"card-vehicle-entry"],[1,"card-body"],["src","../../../assets/logos/icon-bike.svg",1,"vehicle-entry-icon"],[1,"card-vehicle-entry-text"],["src","../../../assets/logos/icons-remove.svg",1,"vehicle-entry-icon","delete-icon"],["src","../../../assets/logos/icon-car.svg",1,"vehicle-entry-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),a._uU(4,"Select Date"),a.qZA(),a.TgZ(5,"div",4)(6,"div",5),a._UZ(7,"i",6),a.qZA(),a._UZ(8,"input",7),a.qZA()()(),a.TgZ(9,"p",8),a._uU(10,"Vehicle Entries"),a.qZA(),a.TgZ(11,"div",9)(12,"div",10)(13,"div",11),a._UZ(14,"img",12),a.TgZ(15,"p",13),a._uU(16,"8 : 24 : 13 AM"),a.qZA(),a._UZ(17,"img",14),a.qZA()()(),a.TgZ(18,"div",9)(19,"div",10)(20,"div",11),a._UZ(21,"img",15),a.TgZ(22,"p",13),a._uU(23,"8 : 24 : 13 AM"),a.qZA(),a._UZ(24,"img",14),a.qZA()()()())},dependencies:[fs,gs,pa],styles:['.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover, .card-vehicle-entry[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.card[_ngcontent-%COMP%], .card-vehicle-entry[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.employee-entry-text[_ngcontent-%COMP%]{font-weight:500;color:var(--widget-text-color);margin-bottom:0;align-self:center;font-size:100%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%}.employee-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.employee-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.add-employee-btn[_ngcontent-%COMP%]{width:92%;margin:var(--margin-center)}.add-employee-btn-bottom[_ngcontent-%COMP%]{position:fixed;bottom:2vh;right:0;left:0}.card-title-text[_ngcontent-%COMP%]{font-weight:700;font-size:140%;line-height:24px;letter-spacing:.1px;font-family:var(--gilroy-bold);margin-bottom:1.5%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%;text-align:left;margin:var(--margin-center);padding:2%}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.vehicle-entry-icon[_ngcontent-%COMP%]{width:7%}.text-align-center[_ngcontent-%COMP%]{text-align:center}.vehicle-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.vehicle-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);margin-bottom:5%}.search-inner[_ngcontent-%COMP%]{width:86%;margin:var(--margin-center)}.search-text[_ngcontent-%COMP%]{margin-bottom:0%;text-align:left}@media screen and (max-width: 800px){.search-box[_ngcontent-%COMP%]{width:100%}}']}),e})();const qA=function(t){return{display:t}};let nL=(()=>{var t;class e{get adminService(){return this._adminService}set adminService(r){this._adminService=r}constructor(r,o){this.router=r,this._adminService=o,this.removeEmployeeStyle="none",this.somethingWentWrongStyle="none",this.loadingDisplayStyle="none"}ngOnInit(){}startNewSprint(){var r=this;return(0,De.Z)(function*(){r.openLoadingPopup(),yield r.adminService.startNextMonth(),r.closeLoadingPopup(),r.adminService.isNextMonthStarted?r.openNewMonthStarted():r.openErrorPopup()})()}gotoLoanEntryPage(){this.router.navigate(["loan-entry"])}openErrorPopup(){this.somethingWentWrongStyle="flex"}closeErrorPopup(){this.somethingWentWrongStyle="none"}openLoadingPopup(){this.loadingDisplayStyle="flex"}closeLoadingPopup(){this.loadingDisplayStyle="none"}openNewMonthStarted(){this.removeEmployeeStyle="flex"}closeNewMonthStarted(){this.removeEmployeeStyle="none"}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-update-tables"]],decls:34,vars:9,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"fit-content"],[1,"main-text"],[1,"row-dashboard"],[1,"card","card-left-bg-color"],[1,"card-widget-body"],[1,"card-widget-text"],[1,"btn","btn-dark","login-button",3,"click"],[1,"card-widget-body",3,"click"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],[1,"card-modal-text"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle"],["src","../../../assets/gifs/spinner.gif",1,"card-modal-icon"],["src","../../../assets/logos/icon-done.svg",1,"card-modal-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),a._uU(4,"Update Details"),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"p",7),a._uU(9,"Start Next Month"),a.qZA()(),a.TgZ(10,"button",8),a.NdJ("click",function(){return o.startNewSprint()}),a._uU(11," Start "),a.qZA()(),a.TgZ(12,"div",5)(13,"div",9),a.NdJ("click",function(){return o.gotoLoanEntryPage()}),a.TgZ(14,"p",7),a._uU(15,"Add Loan Entry"),a.qZA()()()()(),a.TgZ(16,"div",10),a.NdJ("click",function(){return o.closeErrorPopup()}),a.TgZ(17,"div",11)(18,"div",6),a._UZ(19,"img",12),a.TgZ(20,"p",13),a._uU(21,"Something Went Wrong"),a.qZA()()()(),a.TgZ(22,"div",14)(23,"div",11)(24,"div",6),a._UZ(25,"img",15),a.TgZ(26,"p",13),a._uU(27,"Please Wait"),a.qZA()()()(),a.TgZ(28,"div",10),a.NdJ("click",function(){return o.closeNewMonthStarted()}),a.TgZ(29,"div",11)(30,"div",6),a._UZ(31,"img",16),a.TgZ(32,"p",13),a._uU(33,"New Month Started"),a.qZA()()()()()),2&r&&(a.xp6(16),a.Q6J("ngStyle",a.VKq(3,qA,o.somethingWentWrongStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(5,qA,o.loadingDisplayStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(7,qA,o.removeEmployeeStyle)))},dependencies:[zo],styles:['.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover, .card-vehicle-entry[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card-title-text[_ngcontent-%COMP%]{font-weight:700;font-size:140%;line-height:24px;letter-spacing:.1px;font-family:var(--gilroy-bold);margin-bottom:1.5%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%;text-align:left;margin:var(--margin-center);padding:2%}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.vehicle-entry-icon[_ngcontent-%COMP%]{width:7%}.text-align-center[_ngcontent-%COMP%]{text-align:center}.vehicle-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.vehicle-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);margin-bottom:5%}.search-inner[_ngcontent-%COMP%]{width:86%;margin:var(--margin-center)}.search-text[_ngcontent-%COMP%]{margin-bottom:0%;text-align:left}@media screen and (max-width: 800px){.search-box[_ngcontent-%COMP%]{width:100%}}.card[_ngcontent-%COMP%], .card-vehicle-entry[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.employee-entry-text[_ngcontent-%COMP%]{font-weight:500;color:var(--widget-text-color);margin-bottom:0;align-self:center;font-size:100%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%}.employee-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.employee-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.add-employee-btn[_ngcontent-%COMP%]{width:92%;margin:var(--margin-center)}.add-employee-btn-bottom[_ngcontent-%COMP%]{position:fixed;bottom:2vh;right:0;left:0}']}),e})();function rL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"name is required"),a.qZA())}function iL(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,rL,2,0,"div",12),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.name.errors.required)}}function oL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function sL(t,e){if(1&t&&(a.TgZ(0,"div",11),a.YNc(1,oL,2,0,"div",12),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.shares.errors.required)}}function aL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function cL(t,e){if(1&t&&(a.TgZ(0,"div",11),a.YNc(1,aL,2,0,"div",12),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.shareprice.errors.required)}}function lL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1,"required"),a.qZA())}function uL(t,e){if(1&t&&(a.TgZ(0,"div",11),a.YNc(1,lL,2,0,"div",12),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.presidentname.errors.required)}}const ms=function(t){return{"is-invalid":t}},GA=function(t){return{display:t}};let dL=(()=>{var t;class e{constructor(r,o,c){this.router=r,this.formBuilder=o,this.adminService=c,this.submitted=!1,this.doneDisplayStyle="none",this.somethingWentWrongStyle="none",this.loadingDisplayStyle="none",this.getAssociationDetails()}getAssociationDetails(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getAssociationDetails(),r.addEmployeeForm.setValue({name:r.adminService.associationDetals.Name,totalmembers:r.adminService.associationDetals.TotalMembers,shares:r.adminService.associationDetals.Shares,shareprice:r.adminService.associationDetals.SharePrice,totalbalance:r.adminService.associationDetals.TotalBalance,availablebalance:r.adminService.associationDetals.AvailableBalance,defaultpassword:r.adminService.associationDetals.DefaultPassword,interestrate:r.adminService.associationDetals.InterestRate,presidentname:r.adminService.associationDetals.PresidentName,startedmonth:r.adminService.associationDetals.StartedMonth,startedyear:r.adminService.associationDetals.StartedYear,loanamount:r.adminService.associationDetals.LoanAmount,penaltyamount:r.adminService.associationDetals.PenaltyAmount,currentmonth:r.adminService.associationDetals.CurrentMonth,currentyear:r.adminService.associationDetals.CurrentYear})})()}ngOnInit(){this.addEmployeeForm=this.formBuilder.group({name:["",[Yt.required]],totalmembers:[{value:0,disabled:!0},[Yt.required]],shares:[{value:0,disabled:!0},[Yt.required]],shareprice:[0,[Yt.required]],totalbalance:[{value:0,disabled:!0},[]],presidentname:["",[Yt.required]],interestrate:[0,[Yt.required]],defaultpassword:["",[Yt.required]],availablebalance:[{value:0,disabled:!0},[Yt.required]],loanamount:[{value:0,disabled:!0},[Yt.required]],penaltyamount:[{value:0,disabled:!0},[Yt.required]],startedmonth:["",[Yt.required]],startedyear:["",[Yt.required]],currentmonth:[{value:"",disabled:!0},[Yt.required]],currentyear:[{value:"",disabled:!0},[Yt.required]]})}openDonePopup(){this.doneDisplayStyle="flex"}closeDonePopup(){this.doneDisplayStyle="none"}openErrorPopup(){this.somethingWentWrongStyle="flex"}closeErrorPopup(){this.somethingWentWrongStyle="none"}openLoadingPopup(){this.loadingDisplayStyle="flex"}closeLoadingPopup(){this.loadingDisplayStyle="none"}onSubmit(){var r=this;return(0,De.Z)(function*(){if(console.log("--\x3e"),r.submitted=!0,!r.addEmployeeForm.invalid){r.openLoadingPopup();var o={Name:r.addEmployeeForm.value.name,PresidentName:r.addEmployeeForm.value.presidentname,SharePrice:r.addEmployeeForm.value.shareprice,InterestRate:r.addEmployeeForm.value.interestrate,DefaultPassword:r.addEmployeeForm.value.defaultpassword};yield r.adminService.updateAssociationDetails(o),r.closeLoadingPopup(),r.adminService.isAssociationDetailsUpdated?r.openDonePopup():r.openErrorPopup()}})()}get form(){return this.addEmployeeForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-association-info"]],decls:151,vars:64,consts:[[1,"login-main"],[1,"modal-top"],["src","../../../assets/logos/icon-employees.svg",1,"tavisca-logo"],[1,"text-main"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-envelope","input-icon-size"],["type","text","id","mmobile","placeholder","","aria-label","Username","aria-describedby","basic-addon1","formControlName","name",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngClass"],[1,"input-error","text-align-left"],[4,"ngIf"],[1,"bi","bi-lock","input-icon-size"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","shares",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["class","input-error text-align-left",4,"ngIf"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","shareprice",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","presidentname",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","interestrate",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","totalbalance",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","availablebalance",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","loanamount",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","penaltyamount",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","totalmembers",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"disabled","ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","defaultpassword",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","startedmonth",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"disabled","ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","startedyear",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"disabled","ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","currentmonth",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"disabled","ngClass"],["type","text","aria-label","Username","aria-describedby","basic-addon1","formControlName","currentyear",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"disabled","ngClass"],["type","submit",1,"btn","btn-dark","login-button"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],[1,"card-widget-body"],["src","../../../assets/logos/icon-done.svg",1,"card-modal-icon"],[1,"card-modal-text"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle"],["src","../../../assets/gifs/spinner.gif",1,"card-modal-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"p",3),a._uU(4,"Association Details"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(6,"div",5)(7,"label"),a._uU(8,"Association Name"),a.qZA()(),a.TgZ(9,"div",6)(10,"div",7)(11,"div",8),a._UZ(12,"i",9),a.qZA(),a._UZ(13,"input",10),a.qZA(),a.TgZ(14,"div",11),a.YNc(15,iL,2,1,"div",12),a.qZA()(),a.TgZ(16,"div",5)(17,"label"),a._uU(18,"Shares"),a.qZA()(),a.TgZ(19,"div",6)(20,"div",7)(21,"div",8),a._UZ(22,"i",13),a.qZA(),a._UZ(23,"input",14),a.qZA(),a.YNc(24,sL,2,1,"div",15),a.qZA(),a.TgZ(25,"div",5)(26,"label"),a._uU(27,"Share Price"),a.qZA()(),a.TgZ(28,"div",6)(29,"div",7)(30,"div",8),a._UZ(31,"i",13),a.qZA(),a._UZ(32,"input",16),a.qZA(),a.YNc(33,cL,2,1,"div",15),a.qZA(),a.TgZ(34,"div",5)(35,"label"),a._uU(36,"President Name"),a.qZA()(),a.TgZ(37,"div",6)(38,"div",7)(39,"div",8),a._UZ(40,"i",13),a.qZA(),a._UZ(41,"input",17),a.qZA(),a.YNc(42,uL,2,1,"div",15),a.qZA(),a.TgZ(43,"div",5)(44,"label"),a._uU(45,"Interest Rate"),a.qZA()(),a.TgZ(46,"div",6)(47,"div",7)(48,"div",8),a._UZ(49,"i",13),a.qZA(),a._UZ(50,"input",18),a.qZA()(),a.TgZ(51,"div",5)(52,"label"),a._uU(53,"Total Balance"),a.qZA()(),a.TgZ(54,"div",6)(55,"div",7)(56,"div",8),a._UZ(57,"i",13),a.qZA(),a._UZ(58,"input",19),a.qZA()(),a.TgZ(59,"div",5)(60,"label"),a._uU(61,"Available Balance"),a.qZA()(),a.TgZ(62,"div",6)(63,"div",7)(64,"div",8),a._UZ(65,"i",13),a.qZA(),a._UZ(66,"input",20),a.qZA()(),a.TgZ(67,"div",5)(68,"label"),a._uU(69,"Loan Amount"),a.qZA()(),a.TgZ(70,"div",6)(71,"div",7)(72,"div",8),a._UZ(73,"i",13),a.qZA(),a._UZ(74,"input",21),a.qZA()(),a.TgZ(75,"div",5)(76,"label"),a._uU(77,"Penalty Amount"),a.qZA()(),a.TgZ(78,"div",6)(79,"div",7)(80,"div",8),a._UZ(81,"i",13),a.qZA(),a._UZ(82,"input",22),a.qZA()(),a.TgZ(83,"div",5)(84,"label"),a._uU(85,"Total Members"),a.qZA()(),a.TgZ(86,"div",6)(87,"div",7)(88,"div",8),a._UZ(89,"i",13),a.qZA(),a._UZ(90,"input",23),a.qZA()(),a.TgZ(91,"div",5)(92,"label"),a._uU(93,"Default Password"),a.qZA()(),a.TgZ(94,"div",6)(95,"div",7)(96,"div",8),a._UZ(97,"i",13),a.qZA(),a._UZ(98,"input",24),a.qZA()(),a.TgZ(99,"div",5)(100,"label"),a._uU(101,"Started Month"),a.qZA()(),a.TgZ(102,"div",6)(103,"div",7)(104,"div",8),a._UZ(105,"i",13),a.qZA(),a._UZ(106,"input",25),a.qZA()(),a.TgZ(107,"div",5)(108,"label"),a._uU(109,"Started Year"),a.qZA()(),a.TgZ(110,"div",6)(111,"div",7)(112,"div",8),a._UZ(113,"i",13),a.qZA(),a._UZ(114,"input",26),a.qZA()(),a.TgZ(115,"div",5)(116,"label"),a._uU(117,"Current Month"),a.qZA()(),a.TgZ(118,"div",6)(119,"div",7)(120,"div",8),a._UZ(121,"i",13),a.qZA(),a._UZ(122,"input",27),a.qZA()(),a.TgZ(123,"div",5)(124,"label"),a._uU(125,"Current Year"),a.qZA()(),a.TgZ(126,"div",6)(127,"div",7)(128,"div",8),a._UZ(129,"i",13),a.qZA(),a._UZ(130,"input",28),a.qZA()(),a.TgZ(131,"button",29),a._uU(132," Update Data "),a.qZA()()(),a.TgZ(133,"div",30),a.NdJ("click",function(){return o.closeDonePopup()}),a.TgZ(134,"div",31)(135,"div",32),a._UZ(136,"img",33),a.TgZ(137,"p",34),a._uU(138,"Entry Successful"),a.qZA()()()(),a.TgZ(139,"div",30),a.NdJ("click",function(){return o.closeErrorPopup()}),a.TgZ(140,"div",31)(141,"div",32),a._UZ(142,"img",35),a.TgZ(143,"p",34),a._uU(144,"Something Went Wrong"),a.qZA()()()(),a.TgZ(145,"div",36)(146,"div",31)(147,"div",32),a._UZ(148,"img",37),a.TgZ(149,"p",34),a._uU(150,"Please Wait"),a.qZA()()()()()),2&r&&(a.xp6(5),a.Q6J("formGroup",o.addEmployeeForm),a.xp6(8),a.Q6J("ngClass",a.VKq(28,ms,o.submitted&&o.form.name.errors)),a.xp6(2),a.Q6J("ngIf",o.submitted&&o.form.name.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(30,ms,o.submitted&&o.form.shares.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.shares.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(32,ms,o.submitted&&o.form.shareprice.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.shareprice.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(34,ms,o.submitted&&o.form.presidentname.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.presidentname.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(36,ms,o.submitted&&o.form.shares.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(38,ms,o.submitted&&o.form.totalbalance.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(40,ms,o.submitted&&o.form.availablebalance.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(42,ms,o.submitted&&o.form.loanamount.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(44,ms,o.submitted&&o.form.penaltyamount.errors)),a.xp6(8),a.Q6J("disabled",!0)("ngClass",a.VKq(46,ms,o.submitted&&o.form.totalmembers.errors)),a.xp6(8),a.Q6J("ngClass",a.VKq(48,ms,o.submitted&&o.form.defaultpassword.errors)),a.xp6(8),a.Q6J("disabled",!0)("ngClass",a.VKq(50,ms,o.submitted&&o.form.startedmonth.errors)),a.xp6(8),a.Q6J("disabled",!0)("ngClass",a.VKq(52,ms,o.submitted&&o.form.startedyear.errors)),a.xp6(8),a.Q6J("disabled",!0)("ngClass",a.VKq(54,ms,o.submitted&&o.form.currentmonth.errors)),a.xp6(8),a.Q6J("disabled",!0)("ngClass",a.VKq(56,ms,o.submitted&&o.form.currentyear.errors)),a.xp6(3),a.Q6J("ngStyle",a.VKq(58,GA,o.doneDisplayStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(60,GA,o.somethingWentWrongStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(62,GA,o.loadingDisplayStyle)))},dependencies:[Fr,Pi,zo,rl,fs,gs,nl,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:7vh;color:vr(--widget-text-color);font-family:var(--)}.tavisca-logo[_ngcontent-%COMP%]{width:15%;margin-bottom:0%}.text-main[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:700;font-size:18px;letter-spacing:.1px}.dropdown-menu[_ngcontent-%COMP%]{font-family:var(--gilroy-semibold)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{width:50%}.text-main[_ngcontent-%COMP%]{margin-bottom:7%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}"]}),e})(),hL=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}goToAssociationAnalytics(){this.router.navigate(["association-analytics"])}goToMemberAnalytics(){this.router.navigate(["member-analytics"])}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-analytics"]],decls:15,vars:0,consts:[[1,"dashboard-main"],[1,"fit-content"],[1,"main-text"],[1,"row-dashboard"],[1,"card","card-left-bg-color",3,"click"],[1,"card-widget-body"],["src","../../../assets/logos/icon-reader.svg",1,"card-widget-icon"],[1,"card-widget-text"],[1,"card","card-right-bg-color",3,"click"],["src","../../../assets/logos/icon-employees.svg",1,"card-widget-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"p",2),a._uU(3,"Analytics"),a.qZA()(),a.TgZ(4,"div",3)(5,"div",4),a.NdJ("click",function(){return o.goToAssociationAnalytics()}),a.TgZ(6,"div",5),a._UZ(7,"img",6),a.TgZ(8,"p",7),a._uU(9,"Association Details"),a.qZA()()(),a.TgZ(10,"div",8),a.NdJ("click",function(){return o.goToMemberAnalytics()}),a.TgZ(11,"div",5),a._UZ(12,"img",9),a.TgZ(13,"p",7),a._uU(14,"Members Details"),a.qZA()()()()())},styles:['.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}']}),e})();function fL(t,e){if(1&t){const n=a.EpF();a.TgZ(0,"div")(1,"div",12)(2,"div",13),a.NdJ("click",function(){const c=a.CHM(n).$implicit,d=a.oxw();return a.KtG(d.onSelectUser(c))}),a.TgZ(3,"div",14)(4,"p",15),a._uU(5),a.qZA(),a.TgZ(6,"p",15),a._uU(7),a.qZA(),a.TgZ(8,"p",15),a._uU(9),a.qZA()()()()()}if(2&t){const n=e.$implicit;a.xp6(5),a.Oqu(n.FirstName),a.xp6(2),a.Oqu(n.PhoneNumber),a.xp6(2),a.Oqu(n.Role)}}let pL=(()=>{var t;class e{constructor(r,o,c){this.router=r,this.adminService=o,this.cookieService=c,this.removeEmployeeStyle="none",this.somethingWentWrongStyle="none",this.settingsPopUpStyle="none",this.selectedUserName="",this.selectedUserPhoneNumber="",this.loadingDisplayStyle="none",this.searchText="",this.getAllEmployee()}ngOnInit(){}getAllEmployee(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getAllMemberDetails()})()}removeEmployeeEntry(){return(0,De.Z)(function*(){})()}onSelectUser(r){this.cookieService.set("memberDetails",JSON.stringify(r),{expires:1}),this.router.navigate(["member-details"])}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(Kd),a.Y36(Lo))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-member-analytics"]],decls:14,vars:2,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"search-box"],[1,"search-inner"],[1,"search-text"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-person","input-icon-size"],["type","text","id","email","placeholder","Enter Name","aria-label","Username","aria-describedby","basic-addon1",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngModel","ngModelChange"],[1,"main-text"],[1,"employee-list"],[4,"ngFor","ngForOf"],[1,"row-dashboard"],[1,"card-vehicle-entry",3,"click"],[1,"card-body"],[1,"employee-entry-text"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),a._uU(5,"Search Member"),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a._UZ(8,"i",7),a.qZA(),a.TgZ(9,"input",8),a.NdJ("ngModelChange",function(d){return o.adminService.onSearchMemberList(d)}),a.qZA()()()(),a.TgZ(10,"p",9),a._uU(11,"Employee List"),a.qZA(),a.TgZ(12,"div",10),a.YNc(13,fL,10,3,"div",11),a.qZA()()()),2&r&&(a.xp6(9),a.Q6J("ngModel",o.searchText),a.xp6(4),a.Q6J("ngForOf",o.adminService.searchedMemberList))},dependencies:[ys,fs,gs,Xw],styles:['.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover, .card-vehicle-entry[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card-title-text[_ngcontent-%COMP%]{font-weight:700;font-size:140%;line-height:24px;letter-spacing:.1px;font-family:var(--gilroy-bold);margin-bottom:1.5%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%;text-align:left;margin:var(--margin-center);padding:2%}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.vehicle-entry-icon[_ngcontent-%COMP%]{width:7%}.text-align-center[_ngcontent-%COMP%]{text-align:center}.vehicle-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.vehicle-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);margin-bottom:5%}.search-inner[_ngcontent-%COMP%]{width:86%;margin:var(--margin-center)}.search-text[_ngcontent-%COMP%]{margin-bottom:0%;text-align:left}@media screen and (max-width: 800px){.search-box[_ngcontent-%COMP%]{width:100%}}.card[_ngcontent-%COMP%], .card-vehicle-entry[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.employee-entry-text[_ngcontent-%COMP%]{font-weight:500;color:var(--widget-text-color);margin-bottom:0;align-self:center;font-size:100%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%}.employee-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.employee-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.add-employee-btn[_ngcontent-%COMP%]{width:92%;margin:var(--margin-center)}.add-employee-btn-bottom[_ngcontent-%COMP%]{position:fixed;bottom:2vh;right:0;left:0}']}),e})();function gL(t,e){if(1&t&&(a.TgZ(0,"option",17),a._uU(1),a.qZA()),2&t){const n=e.$implicit;a.Q6J("value",n),a.xp6(1),a.hij(" ",n," ")}}function mL(t,e){if(1&t&&(a.TgZ(0,"option",17),a._uU(1),a.qZA()),2&t){const n=e.$implicit;a.Q6J("value",n),a.xp6(1),a.hij(" ",n," ")}}function vL(t,e){if(1&t&&(a.TgZ(0,"p",18),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.associationMontlyData.TotalPremiumRecieved," ")}}function yL(t,e){if(1&t&&(a.TgZ(0,"p",18),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.associationMontlyData.TotalInterestRecieved," Rs ")}}function _L(t,e){if(1&t&&(a.TgZ(0,"p",18),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.associationMontlyData.TotalPenaltyRecieved," ")}}function bL(t,e){if(1&t&&(a.TgZ(0,"div")(1,"p",14),a._uU(2),a.qZA()()),2&t){const n=e.$implicit;a.xp6(2),a.Oqu(n)}}function wL(t,e){if(1&t&&(a.TgZ(0,"div",18),a.YNc(1,bL,3,1,"div",19),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngForOf",n.adminService.associationMontlyData.PremiumRemainingPhoneNumbers)}}const zN=function(t){return{"is-invalid":t}};let CL=(()=>{var t;class e{constructor(r,o,c){this.router=r,this.formBuilder=o,this.adminService=c,this.submitted=!1,this.monthList=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.yearList=["2021","2022","2023","2024","2025","2026","2027"]}ngOnInit(){this.searchMonthlyDataForm=this.formBuilder.group({month:["Nov",[]],year:["2023",[]]})}onSubmit(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getAssociationMontlyData(r.searchMonthlyDataForm.value.month,r.searchMonthlyDataForm.value.year)})()}get form(){return this.searchMonthlyDataForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-association-analytics"]],decls:45,vars:13,consts:[[1,"login-form",2,"margin-top","5%",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],["formControlName","month",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","year",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],["type","submit",1,"btn","btn-dark","login-button"],[1,"fit-content",2,"margin-top","5%"],[1,"main-text"],[1,"row-dashboard"],[1,"card-big-size","card","card-car"],[1,"card-widget-body"],["class","card-widget-header-text",4,"ngIf"],[1,"card-widget-text"],[1,"card-big-size","card","card-bike"],[1,"fit-content"],[3,"value"],[1,"card-widget-header-text"],[4,"ngFor","ngForOf"]],template:function(r,o){1&r&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(1,"div",1)(2,"label"),a._uU(3,"Select Month"),a.qZA()(),a.TgZ(4,"div",2)(5,"div",3)(6,"select",4),a.YNc(7,gL,2,2,"option",5),a.qZA()()(),a.TgZ(8,"div",1)(9,"label"),a._uU(10,"Select Year"),a.qZA()(),a.TgZ(11,"div",2)(12,"div",3)(13,"select",6),a.YNc(14,mL,2,2,"option",5),a.qZA()()(),a.TgZ(15,"button",7),a._uU(16,"Search"),a.qZA()(),a.TgZ(17,"div",8)(18,"p",9),a._uU(19,"Premium And Interest"),a.qZA()(),a.TgZ(20,"div",10)(21,"div",11)(22,"div",12),a.YNc(23,vL,2,1,"p",13),a.TgZ(24,"p",14),a._uU(25,"Total Premium Recieved"),a.qZA()()(),a.TgZ(26,"div",15)(27,"div",12),a.YNc(28,yL,2,1,"p",13),a.TgZ(29,"p",14),a._uU(30,"Total Interest Recieved"),a.qZA()()()(),a.TgZ(31,"div",16)(32,"p",9),a._uU(33,"Other Details"),a.qZA()(),a.TgZ(34,"div",10)(35,"div",11)(36,"div",12),a.YNc(37,_L,2,1,"p",13),a.TgZ(38,"p",14),a._uU(39,"Total Penalty Recieved"),a.qZA()()(),a.TgZ(40,"div",15)(41,"div",12),a.YNc(42,wL,2,1,"div",13),a.TgZ(43,"p",14),a._uU(44,"Premium Remaining PhoneNumbers"),a.qZA()()()()),2&r&&(a.Q6J("formGroup",o.searchMonthlyDataForm),a.xp6(6),a.Q6J("ngClass",a.VKq(9,zN,o.submitted&&o.form.month.errors)),a.xp6(1),a.Q6J("ngForOf",o.monthList),a.xp6(6),a.Q6J("ngClass",a.VKq(11,zN,o.submitted&&o.form.year.errors)),a.xp6(1),a.Q6J("ngForOf",o.yearList),a.xp6(9),a.Q6J("ngIf",o.adminService.isAssociationMonthlyDataAdded),a.xp6(5),a.Q6J("ngIf",o.adminService.isAssociationMonthlyDataAdded),a.xp6(9),a.Q6J("ngIf",o.adminService.isAssociationMonthlyDataAdded),a.xp6(5),a.Q6J("ngIf",o.adminService.isAssociationMonthlyDataAdded))},dependencies:[Fr,ys,Pi,rl,eC,tC,Nm,gs,nl,fa,pa],styles:['.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:7vh;color:vr(--widget-text-color);font-family:var(--)}.tavisca-logo[_ngcontent-%COMP%]{width:15%;margin-bottom:0%}.text-main[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:700;font-size:18px;letter-spacing:.1px}.dropdown-menu[_ngcontent-%COMP%]{font-family:var(--gilroy-semibold)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{width:50%}.text-main[_ngcontent-%COMP%]{margin-bottom:7%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.welcome-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:500;font-size:120%;margin:auto}.icon-setting[_ngcontent-%COMP%]{margin-right:10%;margin-left:auto}@media screen and (max-width: 400px){.btn-down[_ngcontent-%COMP%]{margin-top:5%}}']}),e})();function xL(t,e){if(1&t&&(a.TgZ(0,"p",25),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.AsE(" ",n.adminService.memberDetails.FirstName," ",n.adminService.memberDetails.LastName," ")}}function EL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.Shares," ")}}function IL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.PremiumPaid," Rs ")}}function DL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.LoanAmount," Rs ")}}function TL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.InterestPaid," Rs ")}}function SL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.TotalPenaltyPaid," Rs ")}}function AL(t,e){if(1&t&&(a.TgZ(0,"option",27),a._uU(1),a.qZA()),2&t){const n=e.$implicit;a.Q6J("value",n),a.xp6(1),a.hij(" ",n," ")}}function ML(t,e){if(1&t&&(a.TgZ(0,"option",27),a._uU(1),a.qZA()),2&t){const n=e.$implicit;a.Q6J("value",n),a.xp6(1),a.hij(" ",n," ")}}function PL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberDetails.Shares," ")}}function OL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberMontlyData.Premium," Rs ")}}function NL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberMontlyData.LoanAmount," Rs ")}}function RL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberMontlyData.InterestAmount," Rs ")}}function kL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberMontlyData.PenaltyPaid," Rs ")}}function FL(t,e){if(1&t&&(a.TgZ(0,"p",26),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.adminService.memberMontlyData.InterestAmount+n.adminService.memberMontlyData.Premium+n.adminService.memberMontlyData.PenaltyPaid," Rs ")}}const qN=function(t){return{"is-invalid":t}};let LL=(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.adminService=o,this.cookieService=c,this.formBuilder=d,this.submitted=!1,this.monthList=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.yearList=["2021","2022","2023","2024","2025","2026","2027"],this.getAllEmployee()}getAllEmployee(){var r=this;return(0,De.Z)(function*(){r.adminService.getMemberDetails()})()}ngOnInit(){this.searchMonthlyDataForm=this.formBuilder.group({month:["Nov",[]],year:["2023",[]]})}onSubmit(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getMemberMothlyDetails(r.searchMonthlyDataForm.value.month,r.searchMonthlyDataForm.value.year)})()}get form(){return this.searchMonthlyDataForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(Kd),a.Y36(Lo),a.Y36(il))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-member-details"]],decls:94,vars:23,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"welcome-box"],["class","welcome-text",4,"ngIf"],[1,"fit-content"],[1,"main-text"],[1,"row-dashboard"],[1,"card-big-size","card","card-car"],[1,"card-widget-body"],["class","card-widget-header-text",4,"ngIf"],[1,"card-widget-text"],[1,"card-big-size","card","card-bike"],[1,"card","card-car"],[1,"card","card-bike"],[1,"card","card-center"],[1,"login-form",2,"margin-top","5%",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],["formControlName","month",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","year",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],["type","submit",1,"btn","btn-dark","login-button"],[1,"fit-content",2,"margin-top","5%"],[1,"card",3,"ngClass"],[1,"welcome-text"],[1,"card-widget-header-text"],[3,"value"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a.YNc(3,xL,2,2,"p",3),a.qZA(),a.TgZ(4,"div",4)(5,"p",5),a._uU(6,"Member Details"),a.qZA()(),a.TgZ(7,"div",6)(8,"div",7)(9,"div",8),a.YNc(10,EL,2,1,"p",9),a.TgZ(11,"p",10),a._uU(12,"Total Shares"),a.qZA()()(),a.TgZ(13,"div",11)(14,"div",8),a.YNc(15,IL,2,1,"p",9),a.TgZ(16,"p",10),a._uU(17,"Total Premium Paid"),a.qZA()()()(),a.TgZ(18,"div",4)(19,"p",5),a._uU(20,"Loan Details"),a.qZA()(),a.TgZ(21,"div",6)(22,"div",12)(23,"div",8),a.YNc(24,DL,2,1,"p",9),a.TgZ(25,"p",10),a._uU(26,"Loan amount"),a.qZA()()(),a.TgZ(27,"div",13)(28,"div",8),a.YNc(29,TL,2,1,"p",9),a.TgZ(30,"p",10),a._uU(31,"interest paid"),a.qZA()()()(),a.TgZ(32,"div",6)(33,"div",14)(34,"div",8),a.YNc(35,SL,2,1,"p",9),a.TgZ(36,"p",10),a._uU(37,"Penalty paid"),a.qZA()()()()(),a.TgZ(38,"form",15),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(39,"div",16)(40,"label"),a._uU(41,"Select Month"),a.qZA()(),a.TgZ(42,"div",17)(43,"div",18)(44,"select",19),a.YNc(45,AL,2,2,"option",20),a.qZA()()(),a.TgZ(46,"div",16)(47,"label"),a._uU(48,"Select Year"),a.qZA()(),a.TgZ(49,"div",17)(50,"div",18)(51,"select",21),a.YNc(52,ML,2,2,"option",20),a.qZA()()(),a.TgZ(53,"button",22),a._uU(54,"Search"),a.qZA()(),a.TgZ(55,"div",23)(56,"p",5),a._uU(57,"Premium Details"),a.qZA()(),a.TgZ(58,"div",6)(59,"div",7)(60,"div",8),a.YNc(61,PL,2,1,"p",9),a.TgZ(62,"p",10),a._uU(63,"Total Shares"),a.qZA()()(),a.TgZ(64,"div",24)(65,"div",8),a.YNc(66,OL,2,1,"p",9),a.TgZ(67,"p",10),a._uU(68,"Total Premium Paid"),a.qZA()()()(),a.TgZ(69,"div",4)(70,"p",5),a._uU(71,"Loan Details"),a.qZA()(),a.TgZ(72,"div",6)(73,"div",12)(74,"div",8),a.YNc(75,NL,2,1,"p",9),a.TgZ(76,"p",10),a._uU(77,"Loan amount"),a.qZA()()(),a.TgZ(78,"div",24)(79,"div",8),a.YNc(80,RL,2,1,"p",9),a.TgZ(81,"p",10),a._uU(82,"interest paid"),a.qZA()()()(),a.TgZ(83,"div",6)(84,"div",14)(85,"div",8),a.YNc(86,kL,2,1,"p",9),a.TgZ(87,"p",10),a._uU(88,"Penalty paid"),a.qZA()()(),a.TgZ(89,"div",13)(90,"div",8),a.YNc(91,FL,2,1,"p",9),a.TgZ(92,"p",10),a._uU(93,"Total Amount paid"),a.qZA()()()()()),2&r&&(a.xp6(3),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(7),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(5),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(9),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(5),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(6),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(3),a.Q6J("formGroup",o.searchMonthlyDataForm),a.xp6(6),a.Q6J("ngClass",a.VKq(19,qN,o.submitted&&o.form.month.errors)),a.xp6(1),a.Q6J("ngForOf",o.monthList),a.xp6(6),a.Q6J("ngClass",a.VKq(21,qN,o.submitted&&o.form.year.errors)),a.xp6(1),a.Q6J("ngForOf",o.yearList),a.xp6(9),a.Q6J("ngIf",o.adminService.isMemberDetailsLoaded),a.xp6(3),a.Q6J("ngClass",o.adminService.isMemberMontlyDataLoaded&&o.adminService.memberMontlyData.PremiumStatus?"card-col-green":"card-col-red"),a.xp6(2),a.Q6J("ngIf",o.adminService.isMemberMontlyDataLoaded),a.xp6(9),a.Q6J("ngIf",o.adminService.isMemberMontlyDataLoaded),a.xp6(3),a.Q6J("ngClass",o.adminService.isMemberMontlyDataLoaded&&o.adminService.memberMontlyData.InterestStatus?"card-col-green":"card-col-red"),a.xp6(2),a.Q6J("ngIf",o.adminService.isMemberMontlyDataLoaded),a.xp6(6),a.Q6J("ngIf",o.adminService.isMemberMontlyDataLoaded),a.xp6(5),a.Q6J("ngIf",o.adminService.isMemberMontlyDataLoaded))},dependencies:[Fr,ys,Pi,rl,eC,tC,Nm,gs,nl,fa,pa],styles:['.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:7vh;color:vr(--widget-text-color);font-family:var(--)}.tavisca-logo[_ngcontent-%COMP%]{width:15%;margin-bottom:0%}.text-main[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:700;font-size:18px;letter-spacing:.1px}.dropdown-menu[_ngcontent-%COMP%]{font-family:var(--gilroy-semibold)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{width:50%}.text-main[_ngcontent-%COMP%]{margin-bottom:7%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.welcome-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:500;font-size:120%;margin:auto}.icon-setting[_ngcontent-%COMP%]{margin-right:10%;margin-left:auto}@media screen and (max-width: 400px){.btn-down[_ngcontent-%COMP%]{margin-top:5%}}']}),e})();function UL(t,e){if(1&t&&(a.TgZ(0,"option",26),a._uU(1),a.qZA()),2&t){const n=e.$implicit;a.Q6J("value",n.PhoneNumber),a.xp6(1),a.hij(" ",n.PhoneNumber," ")}}const GN=function(t){return{"is-invalid":t}};function VL(t,e){if(1&t&&(a.TgZ(0,"select",24),a.YNc(1,UL,2,2,"option",25),a.qZA()),2&t){const n=a.oxw();a.Q6J("ngClass",a.VKq(2,GN,n.submitted&&n.form.phonenumber.errors)),a.xp6(1),a.Q6J("ngForOf",n.adminService.memberList)}}function BL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," phonenumber is required "),a.qZA())}function jL(t,e){if(1&t&&(a.TgZ(0,"div",13),a.YNc(1,BL,2,0,"div",14),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.phonenumber.errors.required)}}function HL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," loan amount is required "),a.qZA())}function ZL(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,HL,2,0,"div",14),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.loanamount.errors.required)}}const WA=function(t){return{display:t}},$L=[{path:"vehicle-history",component:tL,pathMatch:"full",canActivate:[TA]},{path:"manage-members",component:eL,pathMatch:"full"},{path:"add-member",component:QF},{path:"update-tables",component:nL},{path:"association-info",component:dL},{path:"analytics",component:hL},{path:"association-analytics",component:CL},{path:"member-analytics",component:pL},{path:"member-details",component:LL},{path:"loan-entry",component:(()=>{var t;class e{constructor(r,o,c){this.router=r,this.formBuilder=o,this.adminService=c,this.submitted=!1,this.doneDisplayStyle="none",this.somethingWentWrongStyle="none",this.loadingDisplayStyle="none",this.getAllMembers()}getAllMembers(){var r=this;return(0,De.Z)(function*(){yield r.adminService.getAllMemberDetails()})()}ngOnInit(){this.addLoanEntryForm=this.formBuilder.group({phonenumber:[null,[Yt.required]],loanamount:[0,[Yt.required]]})}openDonePopup(){this.doneDisplayStyle="flex"}closeDonePopup(){this.doneDisplayStyle="none"}openErrorPopup(){this.somethingWentWrongStyle="flex"}closeErrorPopup(){this.somethingWentWrongStyle="none"}openLoadingPopup(){this.loadingDisplayStyle="flex"}closeLoadingPopup(){this.loadingDisplayStyle="none"}get form(){return this.addLoanEntryForm.controls}onSubmit(){var r=this;return(0,De.Z)(function*(){console.log(JSON.stringify(r.addLoanEntryForm.value.phonenumber)),yield r.adminService.addLoanEntry(r.addLoanEntryForm.value.phonenumber,r.addLoanEntryForm.value.loanamount)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Kd))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-loan-entry"]],decls:43,vars:16,consts:[[1,"login-main"],[1,"modal-top"],["src","../../../assets/logos/icon-employees.svg",1,"tavisca-logo"],[1,"text-main"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],["formControlName","phonenumber","class","form-control border-none","style","font-family: 'gilroy-semibold'",3,"ngClass",4,"ngIf"],["class","input-error text-align-left",4,"ngIf"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-envelope","input-icon-size"],["type","text","id","mmobile","aria-label","Username","aria-describedby","basic-addon1","formControlName","loanamount","maxlength","10","minlength","10",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngClass"],[1,"input-error","text-align-left"],[4,"ngIf"],["type","submit",1,"btn","btn-dark","login-button"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],[1,"card-widget-body"],["src","../../../assets/logos/icon-done.svg",1,"card-modal-icon"],[1,"card-modal-text"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle"],["src","../../../assets/gifs/spinner.gif",1,"card-modal-icon"],["formControlName","phonenumber",1,"form-control","border-none",2,"font-family","'gilroy-semibold'",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"p",3),a._uU(4,"Add Loan Entry"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(6,"div",5)(7,"label"),a._uU(8,"Mobile Number"),a.qZA()(),a.TgZ(9,"div",6)(10,"div",7),a.YNc(11,VL,2,4,"select",8),a.qZA(),a.YNc(12,jL,2,1,"div",9),a.qZA(),a.TgZ(13,"div",5)(14,"label"),a._uU(15,"Loan Amount"),a.qZA()(),a.TgZ(16,"div",6)(17,"div",7)(18,"div",10),a._UZ(19,"i",11),a.qZA(),a._UZ(20,"input",12),a.qZA(),a.TgZ(21,"div",13),a.YNc(22,ZL,2,1,"div",14),a.qZA()(),a.TgZ(23,"button",15),a._uU(24,"Add Entry"),a.qZA()()(),a.TgZ(25,"div",16),a.NdJ("click",function(){return o.closeDonePopup()}),a.TgZ(26,"div",17)(27,"div",18),a._UZ(28,"img",19),a.TgZ(29,"p",20),a._uU(30,"Entry Successful"),a.qZA()()()(),a.TgZ(31,"div",16),a.NdJ("click",function(){return o.closeErrorPopup()}),a.TgZ(32,"div",17)(33,"div",18),a._UZ(34,"img",21),a.TgZ(35,"p",20),a._uU(36,"Something Went Wrong"),a.qZA()()()(),a.TgZ(37,"div",22)(38,"div",17)(39,"div",18),a._UZ(40,"img",23),a.TgZ(41,"p",20),a._uU(42,"Please Wait"),a.qZA()()()()()),2&r&&(a.xp6(5),a.Q6J("formGroup",o.addLoanEntryForm),a.xp6(6),a.Q6J("ngIf",o.adminService.isMemberDetailsArrayAdded),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.phonenumber.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(8,GN,o.submitted&&o.form.loanamount.errors)),a.xp6(2),a.Q6J("ngIf",o.submitted&&o.form.loanamount.errors),a.xp6(3),a.Q6J("ngStyle",a.VKq(10,WA,o.doneDisplayStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(12,WA,o.somethingWentWrongStyle)),a.xp6(6),a.Q6J("ngStyle",a.VKq(14,WA,o.loadingDisplayStyle)))},dependencies:[Fr,ys,Pi,zo,rl,eC,tC,fs,Nm,gs,nl,nC,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.login-main[_ngcontent-%COMP%]{text-align:center;margin-top:7vh;color:vr(--widget-text-color);font-family:var(--)}.tavisca-logo[_ngcontent-%COMP%]{width:15%;margin-bottom:0%}.text-main[_ngcontent-%COMP%]{margin-bottom:2%;font-weight:700;font-size:18px;letter-spacing:.1px}.dropdown-menu[_ngcontent-%COMP%]{font-family:var(--gilroy-semibold)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{width:50%}.text-main[_ngcontent-%COMP%]{margin-bottom:7%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}"]}),e})()}];let KA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Xs.forChild($L),Xs]}),e})(),WN=(()=>{var t;class e{constructor(r,o){this.http=r,this.firestore=o,this.isLoading=!1,this.isWrongCredentials=!1,this.isError=!1,this.isUserCredentialsUpdated=!1,this.userData=null,this.associationData=null}requestLogin(r,o){var c=this;return(0,De.Z)(function*(){c.isWrongCredentials=!0;var d=[];yield c.firestore.collection("login").get().forEach(m=>{m.docs.find(w=>{console.log(w.data());var T=JSON.parse(JSON.stringify(w.data()));d.push(T)})}),d.forEach(m=>{m.PhoneNumber==r&&m.Password==o&&(c.isWrongCredentials=!1)}),console.log(c.isWrongCredentials)})()}updateUserCredentials(r,o){var c=this;return(0,De.Z)(function*(){c.isLoading=!0,c.isUserCredentialsUpdated=!1,yield c.firestore.collection("login").doc(r).update({PhoneNumber:r,Password:o}),c.isLoading=!1,c.isUserCredentialsUpdated=!0})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(ag),a.LFG($w))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zL(t,e){1&t&&(a.TgZ(0,"div",10),a._uU(1," Wrong Credentials "),a.qZA())}function qL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," mobile number is required "),a.qZA())}function GL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," invalid mobile number "),a.qZA())}function WL(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,qL,2,0,"div",11),a.YNc(2,GL,2,0,"div",11),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.mmobile.errors.required),a.xp6(1),a.Q6J("ngIf",n.form.mmobile.errors.maxLength||n.form.mmobile.errors.minLength)}}function KL(t,e){1&t&&(a.TgZ(0,"div"),a._UZ(1,"i",18),a.qZA())}function YL(t,e){1&t&&(a.TgZ(0,"div"),a._UZ(1,"i",19),a.qZA())}function JL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," password is required "),a.qZA())}function QL(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," password should be more than 8 characters "),a.qZA())}function XL(t,e){if(1&t&&(a.TgZ(0,"div",10),a.YNc(1,JL,2,0,"div",11),a.YNc(2,QL,2,0,"div",11),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.password.errors.required),a.xp6(1),a.Q6J("ngIf",n.form.password.errors.maxLength)}}const KN=function(t){return{"is-invalid":t}};let YN=(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.formBuilder=o,this.cookieService=c,this.authenticationService=d,this.submitted=!1,this.passwordType="password",this.isShowPassword=!1}ngOnInit(){this.cookieService.check("userMobileNumber")&&this.router.navigate(["login-passcode"]),this.loginForm=this.formBuilder.group({mmobile:["",[Yt.required,Yt.maxLength(10),Yt.minLength(10)]],password:["",[Yt.required,Yt.maxLength(10)]]})}onForgotPassword(){this.router.navigate(["forgot-password"])}togglePassword(){this.isShowPassword=!this.isShowPassword,this.passwordType=this.isShowPassword?"text":"password"}onSubmit(){var r=this;return(0,De.Z)(function*(){if(r.submitted=!0,r.loginForm.invalid||(yield r.authenticationService.requestLogin(r.loginForm.value.mmobile,r.loginForm.value.password),r.authenticationService.isWrongCredentials))return;r.cookieService.set("userMobileNumber",r.loginForm.value.mmobile,{expires:30});const o=rg(JSON.stringify({PhoneNumber:r.loginForm.value.mmobile,Password:r.loginForm.value.password}));r.cookieService.set("userCredentials",o,{expires:30}),r.router.navigate(["create-passcode"])})()}get form(){return this.loginForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Lo),a.Y36(WN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-login"]],decls:31,vars:13,consts:[[1,"login-main"],["src","../../../assets/logos/app-logo.svg",1,"tavisca-logo"],[1,"login-form",3,"formGroup","ngSubmit"],["class","input-error text-align-left",4,"ngIf"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-envelope","input-icon-size"],["type","text","id","mmobile","placeholder","Your mobile number","aria-label","Username","aria-describedby","basic-addon1","formControlName","mmobile","maxlength","10","minlength","10",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngClass"],[1,"input-error","text-align-left"],[4,"ngIf"],[1,"bi","bi-lock","input-icon-size"],["placeholder","Your Password","aria-label","Username","aria-describedby","basic-addon1","formControlName","password","maxlength","10",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"type","ngClass"],[1,"input-group-postpend","border-none",2,"align-self","center",3,"click"],[1,"text-align-right"],[1,"forgot-password",3,"click"],["type","submit",1,"btn","btn-dark","login-button"],[1,"bi","bi-eye","input-icon-size"],[1,"bi","bi-eye-slash","input-icon-size"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"form",2),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.YNc(3,zL,2,0,"div",3),a.TgZ(4,"div",4)(5,"label"),a._uU(6,"Mobile Number"),a.qZA()(),a.TgZ(7,"div",5)(8,"div",6)(9,"div",7),a._UZ(10,"i",8),a.qZA(),a._UZ(11,"input",9),a.qZA(),a.TgZ(12,"div",10),a.YNc(13,WL,3,2,"div",11),a.qZA()(),a.TgZ(14,"div",4)(15,"label"),a._uU(16,"Password"),a.qZA()(),a.TgZ(17,"div",5)(18,"div",6)(19,"div",7),a._UZ(20,"i",12),a.qZA(),a._UZ(21,"input",13),a.TgZ(22,"div",14),a.NdJ("click",function(){return o.togglePassword()}),a.YNc(23,KL,2,0,"div",11),a.YNc(24,YL,2,0,"div",11),a.qZA()(),a.YNc(25,XL,3,2,"div",3),a.qZA(),a.TgZ(26,"div",15)(27,"p",16),a.NdJ("click",function(){return o.onForgotPassword()}),a._uU(28," Forgot Password? "),a.qZA()(),a.TgZ(29,"button",17),a._uU(30,"Login"),a.qZA()()()),2&r&&(a.xp6(2),a.Q6J("formGroup",o.loginForm),a.xp6(1),a.Q6J("ngIf",o.authenticationService.isWrongCredentials),a.xp6(8),a.Q6J("ngClass",a.VKq(9,KN,o.submitted&&o.form.mmobile.errors)),a.xp6(2),a.Q6J("ngIf",o.submitted&&o.form.mmobile.errors),a.xp6(8),a.Q6J("type",o.passwordType)("ngClass",a.VKq(11,KN,o.submitted&&o.form.password.errors)),a.xp6(2),a.Q6J("ngIf",!o.isShowPassword),a.xp6(1),a.Q6J("ngIf",o.isShowPassword),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.password.errors))},dependencies:[Fr,Pi,rl,fs,gs,nl,nC,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}"]}),e})(),e4=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}goToReader(){this.router.navigate(["dashboard-reader"])}goToWriter(){this.router.navigate(["dashboard-writer"])}goToAnalytics(){this.router.navigate(["analytics"])}showEmployeeList(){this.router.navigate(["manage-members"])}gotoConfiguration(){this.router.navigate(["association-info"])}gotoUpdateTables(){this.router.navigate(["update-tables"])}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-admin-dashboard"]],decls:37,vars:0,consts:[[1,"dashboard-main"],[1,"fit-content"],[1,"main-text"],[1,"row-dashboard"],[1,"card","card-left-bg-color",3,"click"],[1,"card-widget-body"],["src","../../../assets/logos/icon-reader.svg",1,"card-widget-icon"],[1,"card-widget-text"],[1,"card","card-right-bg-color",3,"click"],["src","../../../assets/logos/icon-writer.svg",1,"card-widget-icon"],["src","../../../assets/logos/icon-vehicle-history.svg",1,"card-widget-icon"],["src","../../../assets/logos/icon-employees.svg",1,"card-widget-icon"],["src","../../../assets/logos/icon-analytics.svg",1,"card-widget-icon"],["src","../../../assets/logos/icon-configurations.svg",1,"card-widget-icon"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"p",2),a._uU(3,"Realtime Parking Status"),a.qZA()(),a.TgZ(4,"div",3)(5,"div",4),a.NdJ("click",function(){return o.goToReader()}),a.TgZ(6,"div",5),a._UZ(7,"img",6),a.TgZ(8,"p",7),a._uU(9,"Reader Dashboard"),a.qZA()()(),a.TgZ(10,"div",8),a.NdJ("click",function(){return o.goToWriter()}),a.TgZ(11,"div",5),a._UZ(12,"img",9),a.TgZ(13,"p",7),a._uU(14,"Writer Dashboard"),a.qZA()()()(),a.TgZ(15,"div",3)(16,"div",4),a.NdJ("click",function(){return o.gotoUpdateTables()}),a.TgZ(17,"div",5),a._UZ(18,"img",10),a.TgZ(19,"p",7),a._uU(20,"Update Tables"),a.qZA()()(),a.TgZ(21,"div",8),a.NdJ("click",function(){return o.showEmployeeList()}),a.TgZ(22,"div",5),a._UZ(23,"img",11),a.TgZ(24,"p",7),a._uU(25,"Manage Members"),a.qZA()()()(),a.TgZ(26,"div",3)(27,"div",4),a.NdJ("click",function(){return o.goToAnalytics()}),a.TgZ(28,"div",5),a._UZ(29,"img",12),a.TgZ(30,"p",7),a._uU(31,"Analytics"),a.qZA()()(),a.TgZ(32,"div",8),a.NdJ("click",function(){return o.gotoConfiguration()}),a.TgZ(33,"div",5),a._UZ(34,"img",13),a.TgZ(35,"p",7),a._uU(36,"Configurations"),a.qZA()()()()())},styles:['.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}']}),e})(),JN=(()=>{var t;class e{constructor(r,o,c,d){this.http=r,this.cookieService=o,this.firestore=c,this.router=d,this.isReaderDashboardDataLoaded=!1,this.userName=m0(o),this.useEmail=Gy(o)}isReader(){var r=ig(this.cookieService);return"Admin"==r||"Writer"==r||"Reader"==r}requestDashboardData(){var r=this;return(0,De.Z)(function*(){r.cookieService.check("userMobileNumber")?(r.memberData=yield r.getUserData(r.cookieService.get("userMobileNumber")),r.hideLoader()):r.router.navigate(["login"])})()}getUserData(r){var o=this;return(0,De.Z)(function*(){var c,d=[];return yield o.firestore.collection("memberTable").get().forEach(m=>{m.docs.find(y=>{console.log(y.data());var w=JSON.parse(JSON.stringify(y.data()));d.push(w)})}),d.forEach(m=>{m.PhoneNumber==r&&(c=m)}),o.cookieService.set("role",rg(c.Role)),o.memberRole=c.Role,null!=c&&(yield o.getAssociationData(),yield o.getUserCurrentMonthData(r)),console.log(o.associationData),(null==c||null==o.associationData)&&o.router.navigate(["login"]),JSON.parse(JSON.stringify(c))})()}getAssociationData(){var r=this;return(0,De.Z)(function*(){var o=[];yield r.firestore.collection("associationTable").get().forEach(d=>{d.docs.find(m=>{var y=JSON.parse(JSON.stringify(m.data()));o.push(y)})});var c=o[0];r.cookieService.set("associationData",JSON.stringify(c),{expires:1}),r.associationData=JSON.parse(JSON.stringify(c))})()}getUserCurrentMonthData(r){var o=this;return(0,De.Z)(function*(){var c=[];yield o.firestore.collection("monthlyUserData/2023/Nov").get().forEach(d=>{d.docs.find(y=>{if(y.id==r){var w=JSON.parse(JSON.stringify(y.data()));c.push(w)}})}),c.forEach(d=>{d.PhoneNumber==r&&(o.userCurrentMonthData=d)}),null==o.userCurrentMonthData&&(o.userCurrentMonthData={PhoneNumber:r,Premium:0,PremiumStatus:!0,LoanAmount:0,InterestAmount:0,InterestStatus:!0,PenaltyPaid:0,DateTime:new Date}),console.log(o.userCurrentMonthData)})()}makeLoader(){this.isReaderDashboardDataLoaded=!1,qa("card-car"),qa("card-bike"),qa("fit-content"),qa("welcome-box")}hideLoader(){this.isReaderDashboardDataLoaded=!0,fd("card-car"),fd("card-bike"),fd("fit-content"),fd("welcome-box")}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(ag),a.LFG(Lo),a.LFG($w),a.LFG(wn))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function t4(t,e){if(1&t){const n=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(){a.CHM(n);const o=a.oxw();return a.KtG(o.goToMemberRoleScreen())}),a._uU(1),a.qZA()}if(2&t){const n=a.oxw();a.xp6(1),a.hij(" < ",n.readerService.memberRole," screen ")}}function n4(t,e){if(1&t&&(a.TgZ(0,"p",28),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" Welcome, ",n.readerService.memberData.FirstName," ")}}function r4(t,e){if(1&t){const n=a.EpF();a.TgZ(0,"img",29),a.NdJ("click",function(){a.CHM(n);const o=a.oxw();return a.KtG(o.openSettingPopup())}),a.qZA()}}function i4(t,e){if(1&t&&(a.TgZ(0,"p",30),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.userCurrentMonthData.Premium," Rs ")}}function o4(t,e){if(1&t&&(a.TgZ(0,"p",30),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.userCurrentMonthData.InterestAmount," Rs ")}}function s4(t,e){if(1&t&&(a.TgZ(0,"p",30),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.userCurrentMonthData.PenaltyPaid," Rs ")}}function a4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.Shares," ")}}function c4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.PremiumPaid," Rs ")}}function l4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.LoanAmount," Rs ")}}function u4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.InterestPaid," Rs ")}}function d4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.TotalPenaltyPaid," Rs ")}}function h4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.Shares*n.readerService.associationData.SharePrice," Rs ")}}function f4(t,e){if(1&t&&(a.TgZ(0,"p",31),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.hij(" ",n.readerService.memberData.LoanAmount*n.readerService.associationData.InterestRate/100," Rs ")}}const p4=function(t){return{display:t}};let g4=(()=>{var t;class e{constructor(r,o,c){this.router=r,this.readerService=o,this.cookieService=c,this.readerRole="reader",this.settingsPopUpStyle="none",this.getDashboardData()}ngOnInit(){this.readerService.makeLoader(),this.readerService.userName=m0(this.cookieService),this.readerService.useEmail=Gy(this.cookieService)}getDashboardData(){var r=this;return(0,De.Z)(function*(){yield r.readerService.requestDashboardData()})()}openSettingPopup(){this.settingsPopUpStyle="flex"}closeSettingPopup(){this.settingsPopUpStyle="none"}goToChangePassword(){this.router.navigate(["update-password"])}logOut(){this.cookieService.deleteAll(),this.router.navigate(["login"])}goToMemberRoleScreen(){this.router.navigate(["dashboard-"+this.readerService.memberRole])}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(JN),a.Y36(Lo))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-reader-dashboard"]],decls:88,vars:21,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"row-dashboard"],["type","submit","class","btn btn-dark login-button","style","margin-left: 7%",3,"click",4,"ngIf"],[1,"welcome-box"],["class","welcome-text",4,"ngIf"],["class","icon-setting","src","../../../assets/logos/icon-settings.svg",3,"click",4,"ngIf"],[1,"fit-content"],[1,"main-text"],[1,"card",3,"ngClass"],[1,"card-widget-body"],["class","card-widget-header-text-white",4,"ngIf"],[1,"card-widget-text-white"],[1,"card-big-size","card","card-car"],["class","card-widget-header-text",4,"ngIf"],[1,"card-widget-text"],[1,"card-big-size","card","card-bike"],[1,"card","card-car"],[1,"card","card-bike"],[1,"card","card-center"],["tabindex","-1","role","dialog",1,"modal","modal-bottom",3,"ngStyle","click"],[1,"card","card-modal"],["src","../../../assets/logos/icon-exclamation-mark.svg",1,"card-modal-icon"],[1,"card-modal-text"],[1,""],["type","submit",1,"btn","btn-dark",3,"click"],["type","submit",1,"btn","btn-dark","btn-down",2,"margin-left","5%",3,"click"],["type","submit",1,"btn","btn-dark","login-button",2,"margin-left","7%",3,"click"],[1,"welcome-text"],["src","../../../assets/logos/icon-settings.svg",1,"icon-setting",3,"click"],[1,"card-widget-header-text-white"],[1,"card-widget-header-text"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a.YNc(3,t4,2,1,"button",3),a.qZA(),a.TgZ(4,"div",4),a.YNc(5,n4,2,1,"p",5),a.YNc(6,r4,1,0,"img",6),a.qZA(),a.TgZ(7,"div",7)(8,"p",8),a._uU(9,"Brahamani Bachat Mandal"),a.qZA()(),a.TgZ(10,"div",2)(11,"div",9)(12,"div",10),a.YNc(13,i4,2,1,"p",11),a.TgZ(14,"p",12),a._uU(15,"Premium need to pay"),a.qZA()()(),a.TgZ(16,"div",9)(17,"div",10),a.YNc(18,o4,2,1,"p",11),a.TgZ(19,"p",12),a._uU(20,"interest need to pay"),a.qZA()()()(),a.TgZ(21,"div",2)(22,"div",9)(23,"div",10),a.YNc(24,s4,2,1,"p",11),a.TgZ(25,"p",12),a._uU(26,"Penalty need to pay"),a.qZA()()()(),a.TgZ(27,"div",7)(28,"p",8),a._uU(29,"Your Details"),a.qZA()(),a.TgZ(30,"div",2)(31,"div",13)(32,"div",10),a.YNc(33,a4,2,1,"p",14),a.TgZ(34,"p",15),a._uU(35,"Total Shares"),a.qZA()()(),a.TgZ(36,"div",16)(37,"div",10),a.YNc(38,c4,2,1,"p",14),a.TgZ(39,"p",15),a._uU(40,"Total Premium Paid"),a.qZA()()()(),a.TgZ(41,"div",7)(42,"p",8),a._uU(43,"Loan Details"),a.qZA()(),a.TgZ(44,"div",2)(45,"div",17)(46,"div",10),a.YNc(47,l4,2,1,"p",14),a.TgZ(48,"p",15),a._uU(49,"Loan amount"),a.qZA()()(),a.TgZ(50,"div",18)(51,"div",10),a.YNc(52,u4,2,1,"p",14),a.TgZ(53,"p",15),a._uU(54,"interest paid"),a.qZA()()()(),a.TgZ(55,"div",2)(56,"div",19)(57,"div",10),a.YNc(58,d4,2,1,"p",14),a.TgZ(59,"p",15),a._uU(60,"Penalty paid"),a.qZA()()()(),a.TgZ(61,"div",7)(62,"p",8),a._uU(63,"Next Month Details"),a.qZA()(),a.TgZ(64,"div",2)(65,"div",17)(66,"div",10),a.YNc(67,h4,2,1,"p",14),a.TgZ(68,"p",15),a._uU(69,"Premium"),a.qZA()()(),a.TgZ(70,"div",18)(71,"div",10),a.YNc(72,f4,2,1,"p",14),a.TgZ(73,"p",15),a._uU(74,"interest"),a.qZA()()()()(),a.TgZ(75,"div",20),a.NdJ("click",function(){return o.closeSettingPopup()}),a.TgZ(76,"div",21)(77,"div",10),a._UZ(78,"img",22),a.TgZ(79,"p",23),a._uU(80),a.qZA(),a.TgZ(81,"p",23),a._uU(82),a.qZA(),a.TgZ(83,"div",24)(84,"button",25),a.NdJ("click",function(){return o.goToChangePassword()}),a._uU(85," Change Password "),a.qZA(),a.TgZ(86,"button",26),a.NdJ("click",function(){return o.logOut()}),a._uU(87," Log Out "),a.qZA()()()()()()),2&r&&(a.xp6(3),a.Q6J("ngIf",null!=o.readerService.memberRole&&o.readerService.memberRole!=o.readerRole),a.xp6(2),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(1),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(5),a.Q6J("ngClass",null!=o.readerService.userCurrentMonthData&&o.readerService.userCurrentMonthData.PremiumStatus?"card-col-green":"card-col-red"),a.xp6(2),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(3),a.Q6J("ngClass",null!=o.readerService.userCurrentMonthData&&o.readerService.userCurrentMonthData.InterestStatus?"card-col-green":"card-col-red"),a.xp6(2),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(4),a.Q6J("ngClass",o.readerService.isReaderDashboardDataLoaded&&0==o.readerService.userCurrentMonthData.PenaltyPaid?"card-col-center-green":"card-col-center-red"),a.xp6(2),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(9),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(5),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(9),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(5),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(6),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(9),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(5),a.Q6J("ngIf",o.readerService.isReaderDashboardDataLoaded),a.xp6(3),a.Q6J("ngStyle",a.VKq(19,p4,o.settingsPopUpStyle)),a.xp6(5),a.Oqu(o.readerService.userName),a.xp6(2),a.Oqu(o.readerService.useEmail))},dependencies:[Fr,Pi,zo],styles:['.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.welcome-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:500;font-size:120%;margin:auto}.icon-setting[_ngcontent-%COMP%]{margin-right:10%;margin-left:auto}@media screen and (max-width: 400px){.btn-down[_ngcontent-%COMP%]{margin-top:5%}}']}),e})(),YA=(()=>{var t;class e{constructor(r,o,c,d){this.http=r,this.cookieService=o,this.firestore=c,this.helpService=d,this.isDashBoardDetailsAdded=!0,this.isVehicleAdded=!0,this.isVehicleDeleted=!0,this.isAllVehicleEntriesAdded=!0,this.vehicleEntries=[],this.membersMonthlyDetails=[],this.searchedMembersMonthlyDetails=[],this.userName=m0(o)}isWriter(){var r=ig(this.cookieService);return"Admin"==r||"Writer"==r}getCurrentMonthData(){var r=this;return(0,De.Z)(function*(){var o=JSON.parse(Vh(yield r.cookieService.get("memberCurrentMonthData")));r.memberCurrentMonthData=o.memberCurrentMonthData,console.log(typeof r.memberCurrentMonthData),console.log(r.memberCurrentMonthData.FirstName)})()}makeLoader(){qa("card-car"),qa("card-bike"),qa("fit-content"),qa("card-vehicle-entry")}hideLoader(){fd("card-car"),fd("card-bike"),fd("fit-content"),fd("card-vehicle-entry")}getAllMembersMontlyDetails(){var r=this;return(0,De.Z)(function*(){r.isDashBoardDetailsAdded=!1,r.membersMonthlyDetails=[],yield r.firestore.collection("monthlyUserData/2023/Nov").get().forEach(d=>{d.docs.find(m=>{var y=JSON.parse(JSON.stringify(m.data()));r.membersMonthlyDetails.push(y)})});var o=yield r.helpService.getAllMemberData();if(console.log(o),null!=o)for(var c=0;c<r.membersMonthlyDetails.length;c++)o.find(d=>{console.log(d.PhoneNumber),d.PhoneNumber==r.membersMonthlyDetails[c].PhoneNumber&&(r.membersMonthlyDetails[c].FirstName=d.FirstName,r.membersMonthlyDetails[c].MiddleName=d.MiddleName,r.membersMonthlyDetails[c].LastName=d.LastName,r.membersMonthlyDetails[c].Role=d.Role,r.membersMonthlyDetails[c].Shares=d.Shares,r.membersMonthlyDetails[c].PremiumPaid=d.PremiumPaid,r.membersMonthlyDetails[c].LoanAmount=d.LoanAmount,r.membersMonthlyDetails[c].TotalPenaltyPaid=d.TotalPenaltyPaid,r.membersMonthlyDetails[c].InterestPaid=d.InterestPaid,r.membersMonthlyDetails[c].NextMonthPremium=d.NextMonthInterest,r.membersMonthlyDetails[c].NextMonthInterest=d.NextMonthInterest)});r.searchedMembersMonthlyDetails=r.membersMonthlyDetails,console.log(r.membersMonthlyDetails)})()}searchMembers(r){console.log(r),this.searchedMembersMonthlyDetails=this.membersMonthlyDetails.filter(o=>-1!=o.PhoneNumber.indexOf(r)||-1!=o.FirstName.indexOf(r))}AddMemberMontlyEntry(r){var o=this;return(0,De.Z)(function*(){yield o.firestore.collection("monthlyUserData/2023/Nov").doc(o.memberCurrentMonthData.PhoneNumber).update({InterestStatus:!0,PremiumStatus:!0,PenaltyPaid:r});var c=yield o.helpService.getAssociationData(),d=parseInt(c.TotalBalance)+o.memberCurrentMonthData.Premium+o.memberCurrentMonthData.InterestAmount,m=parseInt(c.AvailableBalance)+o.memberCurrentMonthData.Premium+o.memberCurrentMonthData.InterestAmount;yield o.firestore.collection("associationTable").doc("table").update({TotalBalance:d,AvailableBalance:m}),yield o.firestore.collection("associationTable").doc("table").update({TotalBalance:d,AvailableBalance:m})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(ag),a.LFG(Lo),a.LFG($w),a.LFG(zw))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function m4(t,e){if(1&t){const n=a.EpF();a.TgZ(0,"div")(1,"div",2)(2,"div",14),a.NdJ("click",function(){const c=a.CHM(n).$implicit,d=a.oxw();return a.KtG(d.onSelectedMember(c))}),a.TgZ(3,"div",15),a._UZ(4,"img",16),a.TgZ(5,"p",17),a._uU(6),a.qZA(),a.TgZ(7,"p",17),a._uU(8),a.qZA(),a.TgZ(9,"p",17),a._uU(10),a.qZA()()()()()}if(2&t){const n=e.$implicit;a.xp6(4),a.Q6J("src",n.PremiumStatus&&n.InterestStatus?"../../../assets/logos/icon-done.svg":"../../../assets/logos/icon-cancel.svg",a.LSH),a.xp6(2),a.Oqu(n.FirstName),a.xp6(2),a.Oqu(n.MiddleName),a.xp6(2),a.Oqu(n.PhoneNumber)}}let v4=(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.writerService=o,this.formBuilder=c,this.cookieService=d,this.removeEmployeeStyle="none",this.somethingWentWrongStyle="none",this.settingsPopUpStyle="none",this.selectedUserName="",this.selectedUserEmail="",this.loadingDisplayStyle="none",this.searchText="",this.getAllMember()}ngOnInit(){this.searchForm=this.formBuilder.group({searchText:["",[]]})}getAllMember(){var r=this;return(0,De.Z)(function*(){yield r.writerService.getAllMembersMontlyDetails()})()}onSelectedMember(r){const o=rg(JSON.stringify({memberCurrentMonthData:r}));this.cookieService.set("memberCurrentMonthData",o,{expires:30}),this.router.navigate(["add-montly-entry"])}goToReaderScreen(){this.router.navigate(["dashboard-reader"])}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(YA),a.Y36(il),a.Y36(Lo))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-writer-dashboard"]],decls:17,vars:2,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"row-dashboard"],["type","submit",1,"btn","btn-dark","login-button",2,"margin-left","7%",3,"click"],[1,"search-box"],[1,"search-inner"],[1,"search-text"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-person","input-icon-size"],["type","text","id","email","placeholder","Enter mobile number or name","aria-label","Username","aria-describedby","basic-addon1",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngModel","ngModelChange"],[1,"main-text"],[1,"employee-list"],[4,"ngFor","ngForOf"],[1,"card-vehicle-entry",3,"click"],[1,"card-body"],["height","6%","width","6%",1,"employee-entry-text",3,"src"],[1,"employee-entry-text"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),a.NdJ("click",function(){return o.goToReaderScreen()}),a._uU(4," < reader screen "),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5)(7,"p",6),a._uU(8,"Search member"),a.qZA(),a.TgZ(9,"div",7)(10,"div",8),a._UZ(11,"i",9),a.qZA(),a.TgZ(12,"input",10),a.NdJ("ngModelChange",function(d){return o.writerService.searchMembers(d)}),a.qZA()()()(),a.TgZ(13,"p",11),a._uU(14,"Member List"),a.qZA(),a.TgZ(15,"div",12),a.YNc(16,m4,11,4,"div",13),a.qZA()()()),2&r&&(a.xp6(12),a.Q6J("ngModel",o.searchText),a.xp6(4),a.Q6J("ngForOf",o.writerService.searchedMembersMonthlyDetails))},dependencies:[ys,fs,gs,Xw],styles:['.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover, .card-vehicle-entry[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%]{width:100%}}.card[_ngcontent-%COMP%], .card-vehicle-entry[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.employee-entry-text[_ngcontent-%COMP%]{font-weight:500;color:var(--widget-text-color);margin-bottom:0;align-self:center;font-size:100%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%}.employee-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.employee-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.add-employee-btn[_ngcontent-%COMP%]{width:92%;margin:var(--margin-center)}.add-employee-btn-bottom[_ngcontent-%COMP%]{position:fixed;bottom:2vh;right:0;left:0}.card-title-text[_ngcontent-%COMP%]{font-weight:700;font-size:140%;line-height:24px;letter-spacing:.1px;font-family:var(--gilroy-bold);margin-bottom:1.5%}.card-vehicle-entry[_ngcontent-%COMP%]{width:86%;text-align:left;margin:var(--margin-center);padding:2%}.card-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.vehicle-entry-icon[_ngcontent-%COMP%]{width:7%}.text-align-center[_ngcontent-%COMP%]{text-align:center}.vehicle-list[_ngcontent-%COMP%]{height:55vh;overflow:scroll}.vehicle-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);margin-bottom:5%}.search-inner[_ngcontent-%COMP%]{width:86%;margin:var(--margin-center)}.search-text[_ngcontent-%COMP%]{margin-bottom:0%;text-align:left}@media screen and (max-width: 800px){.search-box[_ngcontent-%COMP%]{width:100%}}']}),e})();function y4(t,e){if(1&t&&(a.TgZ(0,"p",4),a._uU(1),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.lnq(" ",n.writerService.memberCurrentMonthData.FirstName," ",n.writerService.memberCurrentMonthData.MiddleName," ",n.writerService.memberCurrentMonthData.LastName," ")}}const _4=[{path:"add-montly-entry",component:(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.helpService=o,this.formBuilder=c,this.writerService=d,this.writerService.getCurrentMonthData()}ngOnInit(){this.penaltyForm=this.formBuilder.group({penalty:[this.writerService.memberCurrentMonthData.PenaltyPaid,[]]}),console.log(this.writerService.memberCurrentMonthData)}onAddEntry(){var r=this;return(0,De.Z)(function*(){console.log(r.penaltyForm.value.penalty),yield r.writerService.AddMemberMontlyEntry(r.penaltyForm.value.penalty),r.router.navigate(["dashboard-writer"])})()}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(zw),a.Y36(il),a.Y36(YA))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-add-montly-entry"]],decls:26,vars:8,consts:[[1,"dashboard-main"],[1,"modal-top"],[1,"welcome-box"],["class","welcome-text",4,"ngIf"],[1,"welcome-text"],[1,"row-dashboard"],[1,"card",3,"ngClass"],[1,"card-widget-body"],[1,"card-widget-header-text-white"],[1,"card-widget-text-white"],[1,"card-widget-body",3,"formGroup","ngSubmit"],["type","text","id","email","aria-label","Username","aria-describedby","basic-addon1","formControlName","penalty",1,"input-box","form-control","border-none"],["type","submit",1,"btn","btn-dark",2,"margin-top","3px"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a.YNc(3,y4,2,3,"p",3),a.qZA(),a.TgZ(4,"div",2)(5,"p",4),a._uU(6),a.qZA()()(),a.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"p",8),a._uU(11),a.qZA(),a.TgZ(12,"p",9),a._uU(13,"Premium need to pay"),a.qZA()()(),a.TgZ(14,"div",6)(15,"div",7)(16,"p",8),a._uU(17),a.qZA(),a.TgZ(18,"p",9),a._uU(19,"interest need to pay"),a.qZA()()()(),a.TgZ(20,"div",5)(21,"div",6)(22,"form",10),a.NdJ("ngSubmit",function(){return o.onAddEntry()}),a._UZ(23,"input",11),a.TgZ(24,"button",12),a._uU(25," Add entry "),a.qZA()()()()()),2&r&&(a.xp6(3),a.Q6J("ngIf",null!=o.writerService.memberCurrentMonthData),a.xp6(3),a.hij(" ",o.writerService.memberCurrentMonthData.PhoneNumber," "),a.xp6(2),a.Q6J("ngClass",o.writerService.memberCurrentMonthData.PremiumStatus?"card-col-green":"card-col-red"),a.xp6(3),a.hij(" ",o.writerService.memberCurrentMonthData.Premium," Rs "),a.xp6(3),a.Q6J("ngClass",o.writerService.memberCurrentMonthData.InterestStatus?"card-col-green":"card-col-red"),a.xp6(3),a.hij(" ",o.writerService.memberCurrentMonthData.InterestAmount," Rs "),a.xp6(4),a.Q6J("ngClass",o.writerService.memberCurrentMonthData.InterestStatus?"card-col-center-green":"card-col-center-red"),a.xp6(1),a.Q6J("formGroup",o.penaltyForm))},dependencies:[Fr,Pi,rl,fs,gs,nl,fa,pa],styles:['.dashboard-main[_ngcontent-%COMP%]{text-align:center;width:80%;letter-spacing:.2px;margin:var(--margin-center);padding:3% 0% 1.5%;color:var(--widget-text-color)}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:60%;margin:var(--margin-center);display:flex;margin-bottom:1rem}.main-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:700;font-size:130%;line-height:24px}.card-vehicle-entry-text[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.005) translateZ(0)}.card-left-bg-color[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--white)}.card-car[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--car-bg-color)}.card-big-size[_ngcontent-%COMP%]{padding:5%}.card-col-red[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--red-color)}.card-col-center-red[_ngcontent-%COMP%]{margin:auto;background-color:var(--red-color)}.card-col-center-green[_ngcontent-%COMP%]{margin:auto;background-color:var(--green-color)}.card-col-green[_ngcontent-%COMP%]{margin-left:7%;margin-right:6%;background-color:var(--green-color)}.card-right-bg-color[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--white)}.card-bike[_ngcontent-%COMP%]{margin-right:7%;background-color:var(--bike-bg-color)}.card-center[_ngcontent-%COMP%]{margin:auto;background-color:var(--bike-bg-color)}.card-widget-icon[_ngcontent-%COMP%]{width:60%}.card-widget-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%]{letter-spacing:.2px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-text-white[_ngcontent-%COMP%]{color:var(--white)}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{letter-spacing:.2px;font-size:20px;font-weight:500;color:var(--widget-text-color);margin-bottom:0}.card-widget-header-text-white[_ngcontent-%COMP%]{color:var(--white)}@media screen and (max-width: 800px){.card-widget-text[_ngcontent-%COMP%], .card-vehicle-entry-text[_ngcontent-%COMP%], .card-widget-text-white[_ngcontent-%COMP%]{font-size:100%}.dashboard-main[_ngcontent-%COMP%]{width:100%}.card-widget-header-text[_ngcontent-%COMP%], .card-widget-header-text-white[_ngcontent-%COMP%]{font-size:120%}.row-dashboard[_ngcontent-%COMP%], .welcome-box[_ngcontent-%COMP%]{width:100%}}.loading[_ngcontent-%COMP%]{position:relative;background-color:#e2e2e2;padding:0}.loading[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading .8s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}.visibility-visible[_ngcontent-%COMP%]{visibility:visible}.fit-content[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:var(--margin-center);border-radius:10px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.welcome-text[_ngcontent-%COMP%]{color:var(--widget-text-color);font-weight:500;font-size:120%;margin:auto}.icon-setting[_ngcontent-%COMP%]{margin-right:10%;margin-left:auto}@media screen and (max-width: 400px){.btn-down[_ngcontent-%COMP%]{margin-top:5%}}']}),e})()}];let JA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Xs.forChild(_4),Sn,Xs]}),e})();const b4=[{path:"dashboard-reader",component:g4},{path:"dashboard-writer",component:v4},{path:"dashboard-admin",component:e4}];let QA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Xs.forChild(b4),KA,JA,Xs]}),e})();function w4(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," please fill input "),a.qZA())}function C4(t,e){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,w4,2,0,"div",10),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.password.errors.required)}}function x4(t,e){1&t&&(a.TgZ(0,"div"),a._uU(1," please fill input "),a.qZA())}function E4(t,e){if(1&t&&(a.TgZ(0,"div",9),a.YNc(1,x4,2,0,"div",10),a.qZA()),2&t){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.form.cpassword.errors.required)}}function I4(t,e){1&t&&a._UZ(0,"div",15)}function D4(t,e){1&t&&(a.TgZ(0,"span"),a._uU(1," Update Password"),a.qZA())}const QN=function(t){return{"is-invalid":t}};let XN=(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.formBuilder=o,this.authenticationService=c,this.cookieService=d,this.submitted=!1}ngOnInit(){this.updatePasswordForm=this.formBuilder.group({password:["",[Yt.required,Yt.maxLength(8)]],cpassword:["",[Yt.required,Yt.maxLength(8)]]})}onSubmit(){var r=this;return(0,De.Z)(function*(){r.submitted=!0,!r.updatePasswordForm.invalid&&(yield r.authenticationService.updateUserCredentials(Gy(r.cookieService),r.updatePasswordForm.value.password),r.authenticationService.isUserCredentialsUpdated&&r.router.navigate(["dashboard-reader"]))})()}get form(){return this.updatePasswordForm.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(WN),a.Y36(Lo))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-update-password"]],decls:25,vars:11,consts:[[1,"login-main"],["src","../../../assets/logos/app-logo.svg",1,"tavisca-logo"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"text-align-left"],[1,"mb-3"],[1,"input-group","input-border"],[1,"input-group-prepend","border-none",2,"align-self","center"],[1,"bi","bi-lock","input-icon-size"],["type","text","id","email","placeholder","Enter Password","aria-label","Username","aria-describedby","basic-addon1","formControlName","password","maxlength","8",1,"input-box","form-control","border-none",2,"margin-left","3px",3,"ngClass"],[1,"input-error","text-align-left"],[4,"ngIf"],["type","text","placeholder","Confirm Password","aria-label","Username","aria-describedby","basic-addon1","formControlName","cpassword","maxlength","8",1,"input-box","form-control","border-none",2,"margin","auto 3px",3,"ngClass"],["class","input-error text-align-left",4,"ngIf"],["type","submit",1,"btn","btn-dark","login-button"],["style","height: 1rem; width: 1rem","class","spinner-border","role","status",4,"ngIf"],["role","status",1,"spinner-border",2,"height","1rem","width","1rem"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"form",2),a.NdJ("ngSubmit",function(){return o.onSubmit()}),a.TgZ(3,"div",3)(4,"label"),a._uU(5,"Enter Password"),a.qZA()(),a.TgZ(6,"div",4)(7,"div",5)(8,"div",6),a._UZ(9,"i",7),a.qZA(),a._UZ(10,"input",8),a.qZA(),a.TgZ(11,"div",9),a.YNc(12,C4,2,1,"div",10),a.qZA()(),a.TgZ(13,"div",3)(14,"label"),a._uU(15,"Confirm Password"),a.qZA()(),a.TgZ(16,"div",4)(17,"div",5)(18,"div",6),a._UZ(19,"i",7),a.qZA(),a._UZ(20,"input",11),a.qZA(),a.YNc(21,E4,2,1,"div",12),a.qZA(),a.TgZ(22,"button",13),a.YNc(23,I4,1,0,"div",14),a.YNc(24,D4,2,0,"span",10),a.qZA()()()),2&r&&(a.xp6(2),a.Q6J("formGroup",o.updatePasswordForm),a.xp6(8),a.Q6J("ngClass",a.VKq(7,QN,o.submitted&&o.form.password.errors)),a.xp6(2),a.Q6J("ngIf",o.submitted&&o.form.password.errors),a.xp6(8),a.Q6J("ngClass",a.VKq(9,QN,o.submitted&&o.form.cpassword.errors)),a.xp6(1),a.Q6J("ngIf",o.submitted&&o.form.cpassword.errors),a.xp6(2),a.Q6J("ngIf",o.authenticationService.isLoading),a.xp6(1),a.Q6J("ngIf",!o.authenticationService.isLoading))},dependencies:[Fr,Pi,rl,fs,gs,nl,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}@media screen and (max-width: 800px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:50%}.login-form[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}"]}),e})();function T4(t,e){1&t&&(a.TgZ(0,"p",13),a._uU(1,"Create Passcode"),a.qZA())}function S4(t,e){1&t&&(a.TgZ(0,"p",13),a._uU(1,"Confirm Passcode"),a.qZA())}function A4(t,e){1&t&&(a.TgZ(0,"div",14),a._uU(1," Passwords must be same "),a.qZA())}function M4(t,e){1&t&&(a.TgZ(0,"div",15),a._uU(1,"Create Passcode"),a.qZA())}function P4(t,e){1&t&&(a.TgZ(0,"div",15),a._uU(1,"Confirm Passcode"),a.qZA())}let O4=(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.formBuilder=o,this.cookieService=c,this.helpservice=d,this.currentId="",this.isFirstPasscode=!0,this.isValuesSame=!0,this.submitted=!1,this.loginForm=this.createForm()}ngOnInit(){document.getElementById("1")?.focus()}createForm(){return this.formBuilder.group({one:["",[Yt.required,Yt.maxLength(1)]],two:["",[Yt.required,Yt.maxLength(1)]],three:["",[Yt.required,Yt.maxLength(1)]],four:["",[Yt.required,Yt.maxLength(1)]]})}onCreatePasscode(){this.submitted=!0,!this.loginForm.invalid&&(this.isFirstPasscode?this.firstPasscodeSubmit():this.secondPasscodeSubmit())}firstPasscodeSubmit(){this.submitted=!1,this.isFirstPasscode=!1,this.firstPasscodeForm=this.loginForm,this.loginForm=this.createForm(),document.getElementById("1")?.focus()}secondPasscodeSubmit(){var r=this;return(0,De.Z)(function*(){var o=r.getValue(r.firstPasscodeForm.value),c=r.getValue(r.loginForm.value);console.log(o+" "+c),r.checkFormValues(o,c)?(r.cookieService.set("passcode",rg(o),{expires:30}),r.router.navigate(["dashboard-reader"])):r.isValuesSame=!1})()}getValue(r){var o=r.one+"",c=r.two+"",d=r.three+"",m=r.four+"";return o.charAt(o.length-1)+""+c.charAt(c.length-1)+d.charAt(d.length-1)+m.charAt(m.length-1)}checkFormValues(r,o){return r==o}get form(){return this.loginForm.controls}onInput(r){var o;if(r.value.length>1&&(r.value=r.value[1]),""==r.value){if("1"!=this.currentId){let d=(+this.currentId-1).toString();o=document.getElementById(d)}}else if("4"!=this.currentId){let d=(+this.currentId+1).toString();o=document.getElementById(d)}else this.secondPasscodeSubmit();o&&o.focus()}onFocus(r){this.currentId=r}OnForgotPasscode(){this.router.navigate(["login"])}onPrev(){var r;if("1"!=this.currentId){let c=(+this.currentId-1).toString();r=document.getElementById(c)}r&&r.focus()}onNext(){var r;if("4"!=this.currentId){let c=(+this.currentId+1).toString();r=document.getElementById(c)}else this.secondPasscodeSubmit();r&&r.focus()}onKey(r){"Enter"!=r.key&&"ArrowLeft"!=r.key&&"ArrowRight"!=r.key||("Enter"==r.key||"ArrowRight"==r.key?this.onNext():this.onPrev())}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Lo),a.Y36(zw))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-page"]],hostBindings:function(r,o){1&r&&a.NdJ("input",function(d){return o.onInput(d.target)})},decls:15,vars:10,consts:[[1,"passcode-main"],["src","../../../assets/logos/app-logo.svg",1,"tavisca-logo"],["class","heading-text",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"input-error","text-align-left"],["style","text-align: center",4,"ngIf"],[1,"passcode-container"],["type","number","inputmode","numeric","id","1","name","11","formControlName","one",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","2","name","2","formControlName","two",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","3","name","3","formControlName","three",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","4","name","4","ngModel","","maxlength","1","formControlName","four",1,"passcode-field",3,"focus","keyup"],["type","submit",1,"btn","btn-dark","login-button","passcode-btn",3,"disabled"],["class","mb-0",4,"ngIf"],[1,"heading-text"],[2,"text-align","center"],[1,"mb-0"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.YNc(2,T4,2,0,"p",2),a.YNc(3,S4,2,0,"p",2),a.TgZ(4,"form",3),a.NdJ("ngSubmit",function(){return o.onCreatePasscode()}),a.TgZ(5,"div",4),a.YNc(6,A4,2,0,"div",5),a.qZA(),a.TgZ(7,"div",6)(8,"input",7),a.NdJ("focus",function(){return o.onFocus("1")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(9,"input",8),a.NdJ("focus",function(){return o.onFocus("2")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(10,"input",9),a.NdJ("focus",function(){return o.onFocus("3")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(11,"input",10),a.NdJ("focus",function(){return o.onFocus("4")})("keyup",function(d){return o.onKey(d)}),a.qZA()(),a.TgZ(12,"button",11),a.YNc(13,M4,2,0,"div",12),a.YNc(14,P4,2,0,"div",12),a.qZA()()()),2&r&&(a.xp6(2),a.Q6J("ngIf",o.isFirstPasscode),a.xp6(1),a.Q6J("ngIf",!o.isFirstPasscode),a.xp6(1),a.Q6J("formGroup",o.loginForm),a.xp6(2),a.Q6J("ngIf",!o.isValuesSame),a.xp6(2),a.Q6J("maxlength",1),a.xp6(1),a.Q6J("maxlength",1),a.xp6(1),a.Q6J("maxlength",1),a.xp6(2),a.Q6J("disabled",o.form.one.errors||o.form.two.errors||o.form.three.errors||o.form.four.errors),a.xp6(1),a.Q6J("ngIf",o.isFirstPasscode),a.xp6(1),a.Q6J("ngIf",!o.isFirstPasscode))},dependencies:[Pi,rl,fs,lD,gs,nl,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.passcode-main[_ngcontent-%COMP%]{text-align:center;margin:var(--margin-center);margin-top:15vh;width:60%}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:30%}.heading-text[_ngcontent-%COMP%]{font-size:110%;font-weight:400;margin-bottom:4%}.passcode-container[_ngcontent-%COMP%]{width:35%;height:10vh;display:flex;flex-direction:row;justify-content:space-around;margin:var(--margin-center);margin-bottom:4%}.passcode-field[_ngcontent-%COMP%]{font-family:var(--gilroy-bold);width:18%;height:90%;border:1px solid #3B414B;border-radius:.5rem;margin:.2rem;text-align:center}.passcode-btn[_ngcontent-%COMP%]{width:40%;margin:var(--margin-center)}.forgot-passcode[_ngcontent-%COMP%]{margin-top:2%;margin-right:30%;color:var(--link-color);cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}@media screen and (max-width: 900px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.passcode-main[_ngcontent-%COMP%]{width:100%}.passcode-field[_ngcontent-%COMP%]{width:20%;height:100%}.passcode-container[_ngcontent-%COMP%]{width:70%}.passcode-btn[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}@media screen and (max-width: 500px){.passcode-field[_ngcontent-%COMP%]{width:20%;height:80%}}"]}),e})();function N4(t,e){1&t&&(a.TgZ(0,"div",14),a._uU(1," Wrong Passcode "),a.qZA())}const R4=[{path:"login",component:YN},{path:"forgot-password",component:XN},{path:"update-password",component:XN},{path:"create-passcode",component:O4},{path:"login-passcode",component:(()=>{var t;class e{constructor(r,o,c,d){this.router=r,this.formBuilder=o,this.cookieService=c,this.helpService=d,this.currentId="",this.isFirstPasscode=!0,this.isValuesSame=!0,this.submitted=!1,this.isWrongPasscode=!1,this.loginForm=this.createForm()}ngOnInit(){}createForm(){return this.formBuilder.group({one:["",[Yt.required,Yt.maxLength(1)]],two:["",[Yt.required,Yt.maxLength(1)]],three:["",[Yt.required,Yt.maxLength(1)]],four:["",[Yt.required,Yt.maxLength(1)]]})}onCreatePasscode(){var r=this;return(0,De.Z)(function*(){if(r.submitted=!0,!r.loginForm.invalid)if(r.cookieService.check("passcode")){var o=r.loginForm.value.one+"",c=r.loginForm.value.two+"",d=r.loginForm.value.three+"",m=r.loginForm.value.four+"",y=o.charAt(o.length-1)+""+c.charAt(c.length-1)+d.charAt(d.length-1)+m.charAt(m.length-1);console.log(y),y==Vh(r.cookieService.get("passcode"))?r.router.navigate(["dashboard-reader"]):r.isWrongPasscode=!0}else r.router.navigate(["login"])})()}get form(){return this.loginForm.controls}onInput(r){var o;if(r.value.length>1&&(r.value=r.value.charAt(r.value.length-1)),""==r.value){if("1"!=this.currentId){let d=(+this.currentId-1).toString();o=document.getElementById(d)}}else if("4"!=this.currentId){let d=(+this.currentId+1).toString();o=document.getElementById(d)}o&&o.focus()}onFocus(r){this.currentId=r}onForgotPasscode(){this.cookieService.deleteAll(),this.router.navigate(["login"])}onPrev(){var r;if("1"!=this.currentId){let c=(+this.currentId-1).toString();r=document.getElementById(c)}r&&r.focus()}onNext(){var r;if("4"!=this.currentId){let c=(+this.currentId+1).toString();r=document.getElementById(c)}r&&r.focus()}onKey(r){"Enter"!=r.key&&"ArrowLeft"!=r.key&&"ArrowRight"!=r.key||("Enter"==r.key||"ArrowRight"==r.key?this.onNext():this.onPrev())}}return(t=e).\u0275fac=function(r){return new(r||t)(a.Y36(wn),a.Y36(il),a.Y36(Lo),a.Y36(zw))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-passcode-login"]],hostBindings:function(r,o){1&r&&a.NdJ("input",function(d){return o.onInput(d.target)})},decls:17,vars:6,consts:[[1,"passcode-main"],["src","../../../assets/logos/app-logo.svg",1,"tavisca-logo"],[1,"heading-text"],[3,"formGroup","ngSubmit"],[1,"input-error","text-align-left"],["style","text-align: center",4,"ngIf"],[1,"passcode-container"],["type","number","inputmode","numeric","id","1","name","11","formControlName","one",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","2","name","2","formControlName","two",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","3","name","3","formControlName","three",1,"passcode-field",3,"maxlength","focus","keyup"],["type","number","inputmode","numeric","id","4","name","4","ngModel","","maxlength","1","formControlName","four",1,"passcode-field",3,"focus","keyup"],["type","submit",1,"btn","btn-dark","login-button","passcode-btn",3,"disabled"],[1,"text-align-right"],[1,"forgot-passcode",3,"click"],[2,"text-align","center"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"p",2),a._uU(3,"Enter Passcode"),a.qZA(),a.TgZ(4,"form",3),a.NdJ("ngSubmit",function(){return o.onCreatePasscode()}),a.TgZ(5,"div",4),a.YNc(6,N4,2,0,"div",5),a.qZA(),a.TgZ(7,"div",6)(8,"input",7),a.NdJ("focus",function(){return o.onFocus("1")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(9,"input",8),a.NdJ("focus",function(){return o.onFocus("2")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(10,"input",9),a.NdJ("focus",function(){return o.onFocus("3")})("keyup",function(d){return o.onKey(d)}),a.qZA(),a.TgZ(11,"input",10),a.NdJ("focus",function(){return o.onFocus("4")})("keyup",function(d){return o.onKey(d)}),a.qZA()(),a.TgZ(12,"button",11),a._uU(13," Login "),a.qZA()(),a.TgZ(14,"div",12)(15,"p",13),a.NdJ("click",function(){return o.onForgotPasscode()}),a._uU(16,"Forgot Passcode?"),a.qZA()()()),2&r&&(a.xp6(4),a.Q6J("formGroup",o.loginForm),a.xp6(2),a.Q6J("ngIf",o.isWrongPasscode),a.xp6(2),a.Q6J("maxlength",1),a.xp6(1),a.Q6J("maxlength",1),a.xp6(1),a.Q6J("maxlength",1),a.xp6(2),a.Q6J("disabled",o.form.one.errors||o.form.two.errors||o.form.three.errors||o.form.four.errors))},dependencies:[Pi,rl,fs,lD,gs,nl,ep,fa,pa],styles:[".login-main[_ngcontent-%COMP%]{text-align:center;margin-top:10vh}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:15%}.login-form[_ngcontent-%COMP%]{width:30%;margin:var(--margin-center)}.border-none[_ngcontent-%COMP%]{border:none}.input-border[_ngcontent-%COMP%]{border:1px solid var(--input-border);border-radius:4px;padding:5px 10px}.input-icon-size[_ngcontent-%COMP%]{height:var(--input-icon-size);width:var(--input-icon-size)}.input-box[_ngcontent-%COMP%]{margin-left:2px}.forgot-password[_ngcontent-%COMP%]{color:var(--link-color);cursor:pointer}.login-button[_ngcontent-%COMP%]{width:100%}.text-align-left[_ngcontent-%COMP%]{text-align:left}.text-align-right[_ngcontent-%COMP%]{text-align:right}.input-error[_ngcontent-%COMP%]{color:var(--red)}.passcode-main[_ngcontent-%COMP%]{text-align:center;margin:var(--margin-center);margin-top:15vh;width:60%}.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:7%;width:30%}.heading-text[_ngcontent-%COMP%]{font-size:110%;font-weight:400;margin-bottom:4%}.passcode-container[_ngcontent-%COMP%]{width:35%;height:10vh;display:flex;flex-direction:row;justify-content:space-around;margin:var(--margin-center);margin-bottom:4%}.passcode-field[_ngcontent-%COMP%]{font-family:var(--gilroy-bold);width:18%;height:90%;border:1px solid #3B414B;border-radius:.5rem;margin:.2rem;text-align:center}.passcode-btn[_ngcontent-%COMP%]{width:40%;margin:var(--margin-center)}.forgot-passcode[_ngcontent-%COMP%]{margin-top:2%;margin-right:30%;color:var(--link-color);cursor:pointer}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}@media screen and (max-width: 900px){.tavisca-logo[_ngcontent-%COMP%]{margin-bottom:15%;width:50%}.passcode-main[_ngcontent-%COMP%]{width:100%}.passcode-field[_ngcontent-%COMP%]{width:20%;height:100%}.passcode-container[_ngcontent-%COMP%]{width:70%}.passcode-btn[_ngcontent-%COMP%]{width:80%;margin:var(--margin-center)}}@media screen and (max-width: 500px){.passcode-field[_ngcontent-%COMP%]{width:20%;height:80%}}"]}),e})()}];let k4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Sn,Xs.forRoot(R4),QA,Xs]}),e})();const F4=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",component:YN}];let L4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[Xs.forRoot(F4),k4,QA,KA,JA,Xs]}),e})(),U4=(()=>{var t;class e{constructor(){this.title="Tavisca Parking"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"parking-main"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a._UZ(1,"router-outlet"),a.qZA())},dependencies:[sd],styles:['.parking-main[_ngcontent-%COMP%]{--input-border: #A2A2A6;--link-color: #2805FF;--dark: #000000;--red: red;--widget-text-color: #3B414B}.parking-main[_ngcontent-%COMP%]{--car-bg-color: #ffe1eb;--bike-bg-color: #fff4d4;--white: #ffffff;--red-color: #f32828;--green-color: #65f467}.parking-main[_ngcontent-%COMP%]{--margin-center: 0 auto;--input-icon-size: 1rem}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 1px 10px #00000024;width:40%;text-align:center;padding:3%;transition:all .3s ease-out}.modal-top[_ngcontent-%COMP%]{z-index:-1}.modal-bottom[_ngcontent-%COMP%]{background-color:#000000bf}.card-modal[_ngcontent-%COMP%]{margin:auto;width:40%}.card-modal-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:600}.card-modal-icon[_ngcontent-%COMP%]{width:40%}.card-widget-body[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 800px){.card-modal[_ngcontent-%COMP%]{width:70%}.card-modal-text[_ngcontent-%COMP%]{font-size:1.2rem}}.parking-main[_ngcontent-%COMP%]{--gilroy-semibold:"gilroy-semibold";--gilroy-bold:"gilroy-bold";--gilroy-regular:"gilroy-regular"}']}),e})(),e2=(()=>{var t;class e{constructor(r,o){this.writerService=r,this.router=o}canActivate(r,o){return!!this.writerService.isWriter()||this.router.parseUrl("login")}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(YA),a.LFG(wn))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})(),t2=(()=>{var t;class e{constructor(r,o){this.readerService=r,this.router=o}canActivate(r,o){return!!this.readerService.isReader()||this.router.parseUrl("login")}}return(t=e).\u0275fac=function(r){return new(r||t)(a.LFG(JN),a.LFG(wn))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),e})(),n2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[TA,e2,t2],imports:[Sn,QA,rC]}),e})(),V4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[Lo,t2],imports:[Sn,Hu,rC,uD,n2]}),e})(),B4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[TA],imports:[Sn,KA,uD,rC]}),e})();const r2_firebase={apiKey:"AIzaSyD0vjy8pTLRW1HbMNYdxn4SsThdejDmX_A",authDomain:"brahmani-bachat-mandal-ng.firebaseapp.com",projectId:"brahmani-bachat-mandal-ng",storageBucket:"brahmani-bachat-mandal-ng.appspot.com",messagingSenderId:"182214854138",appId:"1:182214854138:web:8d1d273385abee4be01043",measurementId:"G-GJSHE47949"};let j4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[e2],imports:[Sn,JA,uD,rC]}),e})(),H4=(()=>{var t;class e{static forRoot(){return{ngModule:e}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t,bootstrap:[U4]}),t.\u0275inj=a.cJS({providers:[Lo],imports:[Hu,L4,V4,B4,n2,j4,rC,uD,c1,ta.hO.initializeApp(r2_firebase),ta.hO]}),e})();mh().bootstrapModule(H4).catch(t=>console.error(t))},8042:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(5506),P(2873),P(2066),P(3270),function(){var L=a,z=L.lib.BlockCipher,ee=L.algo,W=[],X=[],V=[],H=[],N=[],M=[],U=[],B=[],$=[],ne=[];!function(){for(var Z=[],J=0;J<256;J++)Z[J]=J<128?J<<1:J<<1^283;var _e=0,G=0;for(J=0;J<256;J++){var he=G^G<<1^G<<2^G<<3^G<<4;W[_e]=he=he>>>8^255&he^99,X[he]=_e;var ue,Y=Z[_e],ge=Z[Y],be=Z[ge];V[_e]=(ue=257*Z[he]^16843008*he)<<24|ue>>>8,H[_e]=ue<<16|ue>>>16,N[_e]=ue<<8|ue>>>24,M[_e]=ue,U[he]=(ue=16843009*be^65537*ge^257*Y^16843008*_e)<<24|ue>>>8,B[he]=ue<<16|ue>>>16,$[he]=ue<<8|ue>>>24,ne[he]=ue,_e?(_e=Y^Z[Z[Z[be^Y]]],G^=Z[Z[G]]):_e=G=1}}();var ae=[0,1,2,4,8,16,32,64,128,27,54],pe=ee.AES=z.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var J=this._keyPriorReset=this._key,_e=J.words,G=J.sigBytes/4,Y=4*((this._nRounds=G+6)+1),ge=this._keySchedule=[],be=0;be<Y;be++)be<G?ge[be]=_e[be]:(Z=ge[be-1],be%G?G>6&&be%G==4&&(Z=W[Z>>>24]<<24|W[Z>>>16&255]<<16|W[Z>>>8&255]<<8|W[255&Z]):(Z=W[(Z=Z<<8|Z>>>24)>>>24]<<24|W[Z>>>16&255]<<16|W[Z>>>8&255]<<8|W[255&Z],Z^=ae[be/G|0]<<24),ge[be]=ge[be-G]^Z);for(var ue=this._invKeySchedule=[],Ee=0;Ee<Y;Ee++){if(be=Y-Ee,Ee%4)var Z=ge[be];else Z=ge[be-4];ue[Ee]=Ee<4||be<=4?Z:U[W[Z>>>24]]^B[W[Z>>>16&255]]^$[W[Z>>>8&255]]^ne[W[255&Z]]}}},encryptBlock:function(Z,J){this._doCryptBlock(Z,J,this._keySchedule,V,H,N,M,W)},decryptBlock:function(Z,J){var _e=Z[J+1];Z[J+1]=Z[J+3],Z[J+3]=_e,this._doCryptBlock(Z,J,this._invKeySchedule,U,B,$,ne,X),_e=Z[J+1],Z[J+1]=Z[J+3],Z[J+3]=_e},_doCryptBlock:function(Z,J,_e,G,he,Y,ge,be){for(var ue=this._nRounds,Ee=Z[J]^_e[0],ye=Z[J+1]^_e[1],Ne=Z[J+2]^_e[2],Xe=Z[J+3]^_e[3],Ze=4,lt=1;lt<ue;lt++){var gt=G[Ee>>>24]^he[ye>>>16&255]^Y[Ne>>>8&255]^ge[255&Xe]^_e[Ze++],xt=G[ye>>>24]^he[Ne>>>16&255]^Y[Xe>>>8&255]^ge[255&Ee]^_e[Ze++],kt=G[Ne>>>24]^he[Xe>>>16&255]^Y[Ee>>>8&255]^ge[255&ye]^_e[Ze++],te=G[Xe>>>24]^he[Ee>>>16&255]^Y[ye>>>8&255]^ge[255&Ne]^_e[Ze++];Ee=gt,ye=xt,Ne=kt,Xe=te}gt=(be[Ee>>>24]<<24|be[ye>>>16&255]<<16|be[Ne>>>8&255]<<8|be[255&Xe])^_e[Ze++],xt=(be[ye>>>24]<<24|be[Ne>>>16&255]<<16|be[Xe>>>8&255]<<8|be[255&Ee])^_e[Ze++],kt=(be[Ne>>>24]<<24|be[Xe>>>16&255]<<16|be[Ee>>>8&255]<<8|be[255&ye])^_e[Ze++],te=(be[Xe>>>24]<<24|be[Ee>>>16&255]<<16|be[ye>>>8&255]<<8|be[255&Ne])^_e[Ze++],Z[J]=gt,Z[J+1]=xt,Z[J+2]=kt,Z[J+3]=te},keySize:8});L.AES=z._createHelper(pe)}(),a.AES)},3270:function(Le,Ce,P){var O,z,ee,W,X,V,N,U,B,ne,ae,pe,J,G,Y,ge,ue,Ee,a;Le.exports=(a=P(12),P(2066),void(a.lib.Cipher||(O=a,z=O.lib,ee=z.Base,W=z.WordArray,X=z.BufferedBlockAlgorithm,V=O.enc,N=V.Base64,U=O.algo.EvpKDF,B=z.Cipher=X.extend({cfg:ee.extend(),createEncryptor:function(ye,Ne){return this.create(this._ENC_XFORM_MODE,ye,Ne)},createDecryptor:function(ye,Ne){return this.create(this._DEC_XFORM_MODE,ye,Ne)},init:function(ye,Ne,Xe){this.cfg=this.cfg.extend(Xe),this._xformMode=ye,this._key=Ne,this.reset()},reset:function(){X.reset.call(this),this._doReset()},process:function(ye){return this._append(ye),this._process()},finalize:function(ye){return ye&&this._append(ye),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ye(Ne){return"string"==typeof Ne?Ee:ge}return function(Ne){return{encrypt:function(Xe,Ze,lt){return ye(Ze).encrypt(Ne,Xe,Ze,lt)},decrypt:function(Xe,Ze,lt){return ye(Ze).decrypt(Ne,Xe,Ze,lt)}}}}()}),z.StreamCipher=B.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),ne=O.mode={},ae=z.BlockCipherMode=ee.extend({createEncryptor:function(ye,Ne){return this.Encryptor.create(ye,Ne)},createDecryptor:function(ye,Ne){return this.Decryptor.create(ye,Ne)},init:function(ye,Ne){this._cipher=ye,this._iv=Ne}}),pe=ne.CBC=function(){var ye=ae.extend();function Ne(Xe,Ze,lt){var gt,xt=this._iv;xt?(gt=xt,this._iv=undefined):gt=this._prevBlock;for(var kt=0;kt<lt;kt++)Xe[Ze+kt]^=gt[kt]}return ye.Encryptor=ye.extend({processBlock:function(Xe,Ze){var lt=this._cipher,gt=lt.blockSize;Ne.call(this,Xe,Ze,gt),lt.encryptBlock(Xe,Ze),this._prevBlock=Xe.slice(Ze,Ze+gt)}}),ye.Decryptor=ye.extend({processBlock:function(Xe,Ze){var lt=this._cipher,gt=lt.blockSize,xt=Xe.slice(Ze,Ze+gt);lt.decryptBlock(Xe,Ze),Ne.call(this,Xe,Ze,gt),this._prevBlock=xt}}),ye}(),J=(O.pad={}).Pkcs7={pad:function(ye,Ne){for(var Xe=4*Ne,Ze=Xe-ye.sigBytes%Xe,lt=Ze<<24|Ze<<16|Ze<<8|Ze,gt=[],xt=0;xt<Ze;xt+=4)gt.push(lt);var kt=W.create(gt,Ze);ye.concat(kt)},unpad:function(ye){ye.sigBytes-=255&ye.words[ye.sigBytes-1>>>2]}},z.BlockCipher=B.extend({cfg:B.cfg.extend({mode:pe,padding:J}),reset:function(){var ye;B.reset.call(this);var Ne=this.cfg,Xe=Ne.iv,Ze=Ne.mode;this._xformMode==this._ENC_XFORM_MODE?ye=Ze.createEncryptor:(ye=Ze.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ye?this._mode.init(this,Xe&&Xe.words):(this._mode=ye.call(Ze,this,Xe&&Xe.words),this._mode.__creator=ye)},_doProcessBlock:function(ye,Ne){this._mode.processBlock(ye,Ne)},_doFinalize:function(){var ye,Ne=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ne.pad(this._data,this.blockSize),ye=this._process(!0)):(ye=this._process(!0),Ne.unpad(ye)),ye},blockSize:4}),G=z.CipherParams=ee.extend({init:function(ye){this.mixIn(ye)},toString:function(ye){return(ye||this.formatter).stringify(this)}}),Y=(O.format={}).OpenSSL={stringify:function(ye){var Xe=ye.ciphertext,Ze=ye.salt;return(Ze?W.create([1398893684,1701076831]).concat(Ze).concat(Xe):Xe).toString(N)},parse:function(ye){var Ne,Xe=N.parse(ye),Ze=Xe.words;return 1398893684==Ze[0]&&1701076831==Ze[1]&&(Ne=W.create(Ze.slice(2,4)),Ze.splice(0,4),Xe.sigBytes-=16),G.create({ciphertext:Xe,salt:Ne})}},ge=z.SerializableCipher=ee.extend({cfg:ee.extend({format:Y}),encrypt:function(ye,Ne,Xe,Ze){Ze=this.cfg.extend(Ze);var lt=ye.createEncryptor(Xe,Ze),gt=lt.finalize(Ne),xt=lt.cfg;return G.create({ciphertext:gt,key:Xe,iv:xt.iv,algorithm:ye,mode:xt.mode,padding:xt.padding,blockSize:ye.blockSize,formatter:Ze.format})},decrypt:function(ye,Ne,Xe,Ze){return Ze=this.cfg.extend(Ze),Ne=this._parse(Ne,Ze.format),ye.createDecryptor(Xe,Ze).finalize(Ne.ciphertext)},_parse:function(ye,Ne){return"string"==typeof ye?Ne.parse(ye,this):ye}}),ue=(O.kdf={}).OpenSSL={execute:function(ye,Ne,Xe,Ze){Ze||(Ze=W.random(8));var lt=U.create({keySize:Ne+Xe}).compute(ye,Ze),gt=W.create(lt.words.slice(Ne),4*Xe);return lt.sigBytes=4*Ne,G.create({key:lt,iv:gt,salt:Ze})}},Ee=z.PasswordBasedCipher=ge.extend({cfg:ge.cfg.extend({kdf:ue}),encrypt:function(ye,Ne,Xe,Ze){var lt=(Ze=this.cfg.extend(Ze)).kdf.execute(Xe,ye.keySize,ye.ivSize);Ze.iv=lt.iv;var gt=ge.encrypt.call(this,ye,Ne,lt.key,Ze);return gt.mixIn(lt),gt},decrypt:function(ye,Ne,Xe,Ze){Ze=this.cfg.extend(Ze),Ne=this._parse(Ne,Ze.format);var lt=Ze.kdf.execute(Xe,ye.keySize,ye.ivSize,Ne.salt);return Ze.iv=lt.iv,ge.decrypt.call(this,ye,Ne,lt.key,Ze)}}))))},12:function(Le,Ce,P){var a;Le.exports=(a=a||function(L,O){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof global<"u"&&global.crypto&&(z=global.crypto),!z)try{z=P(2480)}catch{}var ee=function(){if(z){if("function"==typeof z.getRandomValues)try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof z.randomBytes)try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},W=Object.create||function(){function Z(){}return function(J){var _e;return Z.prototype=J,_e=new Z,Z.prototype=null,_e}}(),X={},V=X.lib={},H=V.Base={extend:function(Z){var J=W(this);return Z&&J.mixIn(Z),(!J.hasOwnProperty("init")||this.init===J.init)&&(J.init=function(){J.$super.init.apply(this,arguments)}),J.init.prototype=J,J.$super=this,J},create:function(){var Z=this.extend();return Z.init.apply(Z,arguments),Z},init:function(){},mixIn:function(Z){for(var J in Z)Z.hasOwnProperty(J)&&(this[J]=Z[J]);Z.hasOwnProperty("toString")&&(this.toString=Z.toString)},clone:function(){return this.init.prototype.extend(this)}},N=V.WordArray=H.extend({init:function(Z,J){Z=this.words=Z||[],this.sigBytes=null!=J?J:4*Z.length},toString:function(Z){return(Z||U).stringify(this)},concat:function(Z){var J=this.words,_e=Z.words,G=this.sigBytes,he=Z.sigBytes;if(this.clamp(),G%4)for(var Y=0;Y<he;Y++)J[G+Y>>>2]|=(_e[Y>>>2]>>>24-Y%4*8&255)<<24-(G+Y)%4*8;else for(var be=0;be<he;be+=4)J[G+be>>>2]=_e[be>>>2];return this.sigBytes+=he,this},clamp:function(){var Z=this.words,J=this.sigBytes;Z[J>>>2]&=4294967295<<32-J%4*8,Z.length=L.ceil(J/4)},clone:function(){var Z=H.clone.call(this);return Z.words=this.words.slice(0),Z},random:function(Z){for(var J=[],_e=0;_e<Z;_e+=4)J.push(ee());return new N.init(J,Z)}}),M=X.enc={},U=M.Hex={stringify:function(Z){for(var J=Z.words,_e=Z.sigBytes,G=[],he=0;he<_e;he++){var Y=J[he>>>2]>>>24-he%4*8&255;G.push((Y>>>4).toString(16)),G.push((15&Y).toString(16))}return G.join("")},parse:function(Z){for(var J=Z.length,_e=[],G=0;G<J;G+=2)_e[G>>>3]|=parseInt(Z.substr(G,2),16)<<24-G%8*4;return new N.init(_e,J/2)}},B=M.Latin1={stringify:function(Z){for(var J=Z.words,_e=Z.sigBytes,G=[],he=0;he<_e;he++)G.push(String.fromCharCode(J[he>>>2]>>>24-he%4*8&255));return G.join("")},parse:function(Z){for(var J=Z.length,_e=[],G=0;G<J;G++)_e[G>>>2]|=(255&Z.charCodeAt(G))<<24-G%4*8;return new N.init(_e,J)}},$=M.Utf8={stringify:function(Z){try{return decodeURIComponent(escape(B.stringify(Z)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Z){return B.parse(unescape(encodeURIComponent(Z)))}},ne=V.BufferedBlockAlgorithm=H.extend({reset:function(){this._data=new N.init,this._nDataBytes=0},_append:function(Z){"string"==typeof Z&&(Z=$.parse(Z)),this._data.concat(Z),this._nDataBytes+=Z.sigBytes},_process:function(Z){var J,_e=this._data,G=_e.words,he=_e.sigBytes,Y=this.blockSize,be=he/(4*Y),ue=(be=Z?L.ceil(be):L.max((0|be)-this._minBufferSize,0))*Y,Ee=L.min(4*ue,he);if(ue){for(var ye=0;ye<ue;ye+=Y)this._doProcessBlock(G,ye);J=G.splice(0,ue),_e.sigBytes-=Ee}return new N.init(J,Ee)},clone:function(){var Z=H.clone.call(this);return Z._data=this._data.clone(),Z},_minBufferSize:0}),pe=(V.Hasher=ne.extend({cfg:H.extend(),init:function(Z){this.cfg=this.cfg.extend(Z),this.reset()},reset:function(){ne.reset.call(this),this._doReset()},update:function(Z){return this._append(Z),this._process(),this},finalize:function(Z){return Z&&this._append(Z),this._doFinalize()},blockSize:16,_createHelper:function(Z){return function(J,_e){return new Z.init(_e).finalize(J)}},_createHmacHelper:function(Z){return function(J,_e){return new pe.HMAC.init(Z,_e).finalize(J)}}}),X.algo={});return X}(Math),a)},5506:function(Le,Ce,P){var a,z;Le.exports=(a=P(12),z=a.lib.WordArray,a.enc.Base64={stringify:function(V){var H=V.words,N=V.sigBytes,M=this._map;V.clamp();for(var U=[],B=0;B<N;B+=3)for(var pe=(H[B>>>2]>>>24-B%4*8&255)<<16|(H[B+1>>>2]>>>24-(B+1)%4*8&255)<<8|H[B+2>>>2]>>>24-(B+2)%4*8&255,Z=0;Z<4&&B+.75*Z<N;Z++)U.push(M.charAt(pe>>>6*(3-Z)&63));var J=M.charAt(64);if(J)for(;U.length%4;)U.push(J);return U.join("")},parse:function(V){var H=V.length,N=this._map,M=this._reverseMap;if(!M){M=this._reverseMap=[];for(var U=0;U<N.length;U++)M[N.charCodeAt(U)]=U}var B=N.charAt(64);if(B){var $=V.indexOf(B);-1!==$&&(H=$)}return function X(V,H,N){for(var M=[],U=0,B=0;B<H;B++)if(B%4){var $=N[V.charCodeAt(B-1)]<<B%4*2,ne=N[V.charCodeAt(B)]>>>6-B%4*2;M[U>>>2]|=($|ne)<<24-U%4*8,U++}return z.create(M,U)}(V,H,M)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},7523:function(Le,Ce,P){var a,z;Le.exports=(a=P(12),z=a.lib.WordArray,a.enc.Base64url={stringify:function(V,H=!0){var N=V.words,M=V.sigBytes,U=H?this._safe_map:this._map;V.clamp();for(var B=[],$=0;$<M;$+=3)for(var Z=(N[$>>>2]>>>24-$%4*8&255)<<16|(N[$+1>>>2]>>>24-($+1)%4*8&255)<<8|N[$+2>>>2]>>>24-($+2)%4*8&255,J=0;J<4&&$+.75*J<M;J++)B.push(U.charAt(Z>>>6*(3-J)&63));var _e=U.charAt(64);if(_e)for(;B.length%4;)B.push(_e);return B.join("")},parse:function(V,H=!0){var N=V.length,M=H?this._safe_map:this._map,U=this._reverseMap;if(!U){U=this._reverseMap=[];for(var B=0;B<M.length;B++)U[M.charCodeAt(B)]=B}var $=M.charAt(64);if($){var ne=V.indexOf($);-1!==ne&&(N=ne)}return function X(V,H,N){for(var M=[],U=0,B=0;B<H;B++)if(B%4){var $=N[V.charCodeAt(B-1)]<<B%4*2,ne=N[V.charCodeAt(B)]>>>6-B%4*2;M[U>>>2]|=($|ne)<<24-U%4*8,U++}return z.create(M,U)}(V,N,U)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},a.enc.Base64url)},2454:function(Le,Ce,P){var a;Le.exports=(a=P(12),function(){var z=a.lib.WordArray,ee=a.enc;function X(V){return V<<8&4278255360|V>>>8&16711935}ee.Utf16=ee.Utf16BE={stringify:function(V){for(var H=V.words,N=V.sigBytes,M=[],U=0;U<N;U+=2)M.push(String.fromCharCode(H[U>>>2]>>>16-U%4*8&65535));return M.join("")},parse:function(V){for(var H=V.length,N=[],M=0;M<H;M++)N[M>>>1]|=V.charCodeAt(M)<<16-M%2*16;return z.create(N,2*H)}},ee.Utf16LE={stringify:function(V){for(var H=V.words,N=V.sigBytes,M=[],U=0;U<N;U+=2){var B=X(H[U>>>2]>>>16-U%4*8&65535);M.push(String.fromCharCode(B))}return M.join("")},parse:function(V){for(var H=V.length,N=[],M=0;M<H;M++)N[M>>>1]|=X(V.charCodeAt(M)<<16-M%2*16);return z.create(N,2*H)}}}(),a.enc.Utf16)},2066:function(Le,Ce,P){var L,O,z,ee,W,V,a;Le.exports=(a=P(12),P(4446),P(990),ee=(O=(L=a).lib).WordArray,V=(W=L.algo).EvpKDF=(z=O.Base).extend({cfg:z.extend({keySize:4,hasher:W.MD5,iterations:1}),init:function(H){this.cfg=this.cfg.extend(H)},compute:function(H,N){for(var M,U=this.cfg,B=U.hasher.create(),$=ee.create(),ne=$.words,ae=U.keySize,pe=U.iterations;ne.length<ae;){M&&B.update(M),M=B.update(H).finalize(N),B.reset();for(var Z=1;Z<pe;Z++)M=B.finalize(M),B.reset();$.concat(M)}return $.sigBytes=4*ae,$}}),L.EvpKDF=function(H,N,M){return V.create(M).compute(H,N)},a.EvpKDF)},2826:function(Le,Ce,P){var a,ee,X;Le.exports=(a=P(12),P(3270),ee=a.lib.CipherParams,X=a.enc.Hex,a.format.Hex={stringify:function(N){return N.ciphertext.toString(X)},parse:function(N){var M=X.parse(N);return ee.create({ciphertext:M})}},a.format.Hex)},990:function(Le,Ce,P){var a,W;Le.exports=(a=P(12),W=a.enc.Utf8,void(a.algo.HMAC=a.lib.Base.extend({init:function(H,N){H=this._hasher=new H.init,"string"==typeof N&&(N=W.parse(N));var M=H.blockSize,U=4*M;N.sigBytes>U&&(N=H.finalize(N)),N.clamp();for(var B=this._oKey=N.clone(),$=this._iKey=N.clone(),ne=B.words,ae=$.words,pe=0;pe<M;pe++)ne[pe]^=1549556828,ae[pe]^=909522486;B.sigBytes=$.sigBytes=U,this.reset()},reset:function(){var H=this._hasher;H.reset(),H.update(this._iKey)},update:function(H){return this._hasher.update(H),this},finalize:function(H){var N=this._hasher,M=N.finalize(H);return N.reset(),N.finalize(this._oKey.clone().concat(M))}})))},7874:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(1802),P(4037),P(2454),P(5506),P(7523),P(2873),P(4446),P(2078),P(9811),P(4870),P(2913),P(6545),P(5558),P(990),P(3538),P(2066),P(3270),P(5228),P(3392),P(3584),P(2015),P(5594),P(7237),P(8501),P(4004),P(3297),P(2738),P(2826),P(8042),P(5769),P(1195),P(4969),P(7848),a)},4037:function(Le,Ce,P){var a;Le.exports=(a=P(12),function(){if("function"==typeof ArrayBuffer){var z=a.lib.WordArray,ee=z.init,W=z.init=function(X){if(X instanceof ArrayBuffer&&(X=new Uint8Array(X)),(X instanceof Int8Array||typeof Uint8ClampedArray<"u"&&X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array)&&(X=new Uint8Array(X.buffer,X.byteOffset,X.byteLength)),X instanceof Uint8Array){for(var V=X.byteLength,H=[],N=0;N<V;N++)H[N>>>2]|=X[N]<<24-N%4*8;ee.call(this,H,V)}else ee.apply(this,arguments)};W.prototype=z}}(),a.lib.WordArray)},2873:function(Le,Ce,P){var a;Le.exports=(a=P(12),function(L){var O=a,z=O.lib,ee=z.WordArray,W=z.Hasher,X=O.algo,V=[];!function(){for(var $=0;$<64;$++)V[$]=4294967296*L.abs(L.sin($+1))|0}();var H=X.MD5=W.extend({_doReset:function(){this._hash=new ee.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function($,ne){for(var ae=0;ae<16;ae++){var pe=ne+ae,Z=$[pe];$[pe]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8)}var J=this._hash.words,_e=$[ne+0],G=$[ne+1],he=$[ne+2],Y=$[ne+3],ge=$[ne+4],be=$[ne+5],ue=$[ne+6],Ee=$[ne+7],ye=$[ne+8],Ne=$[ne+9],Xe=$[ne+10],Ze=$[ne+11],lt=$[ne+12],gt=$[ne+13],xt=$[ne+14],kt=$[ne+15],te=J[0],ce=J[1],fe=J[2],le=J[3];te=N(te,ce,fe,le,_e,7,V[0]),le=N(le,te,ce,fe,G,12,V[1]),fe=N(fe,le,te,ce,he,17,V[2]),ce=N(ce,fe,le,te,Y,22,V[3]),te=N(te,ce,fe,le,ge,7,V[4]),le=N(le,te,ce,fe,be,12,V[5]),fe=N(fe,le,te,ce,ue,17,V[6]),ce=N(ce,fe,le,te,Ee,22,V[7]),te=N(te,ce,fe,le,ye,7,V[8]),le=N(le,te,ce,fe,Ne,12,V[9]),fe=N(fe,le,te,ce,Xe,17,V[10]),ce=N(ce,fe,le,te,Ze,22,V[11]),te=N(te,ce,fe,le,lt,7,V[12]),le=N(le,te,ce,fe,gt,12,V[13]),fe=N(fe,le,te,ce,xt,17,V[14]),te=M(te,ce=N(ce,fe,le,te,kt,22,V[15]),fe,le,G,5,V[16]),le=M(le,te,ce,fe,ue,9,V[17]),fe=M(fe,le,te,ce,Ze,14,V[18]),ce=M(ce,fe,le,te,_e,20,V[19]),te=M(te,ce,fe,le,be,5,V[20]),le=M(le,te,ce,fe,Xe,9,V[21]),fe=M(fe,le,te,ce,kt,14,V[22]),ce=M(ce,fe,le,te,ge,20,V[23]),te=M(te,ce,fe,le,Ne,5,V[24]),le=M(le,te,ce,fe,xt,9,V[25]),fe=M(fe,le,te,ce,Y,14,V[26]),ce=M(ce,fe,le,te,ye,20,V[27]),te=M(te,ce,fe,le,gt,5,V[28]),le=M(le,te,ce,fe,he,9,V[29]),fe=M(fe,le,te,ce,Ee,14,V[30]),te=U(te,ce=M(ce,fe,le,te,lt,20,V[31]),fe,le,be,4,V[32]),le=U(le,te,ce,fe,ye,11,V[33]),fe=U(fe,le,te,ce,Ze,16,V[34]),ce=U(ce,fe,le,te,xt,23,V[35]),te=U(te,ce,fe,le,G,4,V[36]),le=U(le,te,ce,fe,ge,11,V[37]),fe=U(fe,le,te,ce,Ee,16,V[38]),ce=U(ce,fe,le,te,Xe,23,V[39]),te=U(te,ce,fe,le,gt,4,V[40]),le=U(le,te,ce,fe,_e,11,V[41]),fe=U(fe,le,te,ce,Y,16,V[42]),ce=U(ce,fe,le,te,ue,23,V[43]),te=U(te,ce,fe,le,Ne,4,V[44]),le=U(le,te,ce,fe,lt,11,V[45]),fe=U(fe,le,te,ce,kt,16,V[46]),te=B(te,ce=U(ce,fe,le,te,he,23,V[47]),fe,le,_e,6,V[48]),le=B(le,te,ce,fe,Ee,10,V[49]),fe=B(fe,le,te,ce,xt,15,V[50]),ce=B(ce,fe,le,te,be,21,V[51]),te=B(te,ce,fe,le,lt,6,V[52]),le=B(le,te,ce,fe,Y,10,V[53]),fe=B(fe,le,te,ce,Xe,15,V[54]),ce=B(ce,fe,le,te,G,21,V[55]),te=B(te,ce,fe,le,ye,6,V[56]),le=B(le,te,ce,fe,kt,10,V[57]),fe=B(fe,le,te,ce,ue,15,V[58]),ce=B(ce,fe,le,te,gt,21,V[59]),te=B(te,ce,fe,le,ge,6,V[60]),le=B(le,te,ce,fe,Ze,10,V[61]),fe=B(fe,le,te,ce,he,15,V[62]),ce=B(ce,fe,le,te,Ne,21,V[63]),J[0]=J[0]+te|0,J[1]=J[1]+ce|0,J[2]=J[2]+fe|0,J[3]=J[3]+le|0},_doFinalize:function(){var $=this._data,ne=$.words,ae=8*this._nDataBytes,pe=8*$.sigBytes;ne[pe>>>5]|=128<<24-pe%32;var Z=L.floor(ae/4294967296),J=ae;ne[15+(pe+64>>>9<<4)]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),ne[14+(pe+64>>>9<<4)]=16711935&(J<<8|J>>>24)|4278255360&(J<<24|J>>>8),$.sigBytes=4*(ne.length+1),this._process();for(var _e=this._hash,G=_e.words,he=0;he<4;he++){var Y=G[he];G[he]=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8)}return _e},clone:function(){var $=W.clone.call(this);return $._hash=this._hash.clone(),$}});function N($,ne,ae,pe,Z,J,_e){var G=$+(ne&ae|~ne&pe)+Z+_e;return(G<<J|G>>>32-J)+ne}function M($,ne,ae,pe,Z,J,_e){var G=$+(ne&pe|ae&~pe)+Z+_e;return(G<<J|G>>>32-J)+ne}function U($,ne,ae,pe,Z,J,_e){var G=$+(ne^ae^pe)+Z+_e;return(G<<J|G>>>32-J)+ne}function B($,ne,ae,pe,Z,J,_e){var G=$+(ae^(ne|~pe))+Z+_e;return(G<<J|G>>>32-J)+ne}O.MD5=W._createHelper(H),O.HmacMD5=W._createHmacHelper(H)}(Math),a.MD5)},5228:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.mode.CFB=function(){var L=a.lib.BlockCipherMode.extend();function O(z,ee,W,X){var V,H=this._iv;H?(V=H.slice(0),this._iv=void 0):V=this._prevBlock,X.encryptBlock(V,0);for(var N=0;N<W;N++)z[ee+N]^=V[N]}return L.Encryptor=L.extend({processBlock:function(z,ee){var W=this._cipher,X=W.blockSize;O.call(this,z,ee,X,W),this._prevBlock=z.slice(ee,ee+X)}}),L.Decryptor=L.extend({processBlock:function(z,ee){var W=this._cipher,X=W.blockSize,V=z.slice(ee,ee+X);O.call(this,z,ee,X,W),this._prevBlock=V}}),L}(),a.mode.CFB)},3584:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.mode.CTRGladman=function(){var L=a.lib.BlockCipherMode.extend();function O(W){if(255==(W>>24&255)){var X=W>>16&255,V=W>>8&255,H=255&W;255===X?(X=0,255===V?(V=0,255===H?H=0:++H):++V):++X,W=0,W+=X<<16,W+=V<<8,W+=H}else W+=1<<24;return W}var ee=L.Encryptor=L.extend({processBlock:function(W,X){var V=this._cipher,H=V.blockSize,N=this._iv,M=this._counter;N&&(M=this._counter=N.slice(0),this._iv=void 0),function z(W){return 0===(W[0]=O(W[0]))&&(W[1]=O(W[1])),W}(M);var U=M.slice(0);V.encryptBlock(U,0);for(var B=0;B<H;B++)W[X+B]^=U[B]}});return L.Decryptor=ee,L}(),a.mode.CTRGladman)},3392:function(Le,Ce,P){var L,O,a;Le.exports=(a=P(12),P(3270),a.mode.CTR=(O=(L=a.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(z,ee){var W=this._cipher,X=W.blockSize,V=this._iv,H=this._counter;V&&(H=this._counter=V.slice(0),this._iv=void 0);var N=H.slice(0);W.encryptBlock(N,0),H[X-1]=H[X-1]+1|0;for(var M=0;M<X;M++)z[ee+M]^=N[M]}}),L.Decryptor=O,L),a.mode.CTR)},5594:function(Le,Ce,P){var L,a;Le.exports=(a=P(12),P(3270),a.mode.ECB=((L=a.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(O,z){this._cipher.encryptBlock(O,z)}}),L.Decryptor=L.extend({processBlock:function(O,z){this._cipher.decryptBlock(O,z)}}),L),a.mode.ECB)},2015:function(Le,Ce,P){var L,O,a;Le.exports=(a=P(12),P(3270),a.mode.OFB=(O=(L=a.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(z,ee){var W=this._cipher,X=W.blockSize,V=this._iv,H=this._keystream;V&&(H=this._keystream=V.slice(0),this._iv=void 0),W.encryptBlock(H,0);for(var N=0;N<X;N++)z[ee+N]^=H[N]}}),L.Decryptor=O,L),a.mode.OFB)},7237:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.pad.AnsiX923={pad:function(L,O){var z=L.sigBytes,ee=4*O,W=ee-z%ee,X=z+W-1;L.clamp(),L.words[X>>>2]|=W<<24-X%4*8,L.sigBytes+=W},unpad:function(L){L.sigBytes-=255&L.words[L.sigBytes-1>>>2]}},a.pad.Ansix923)},8501:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.pad.Iso10126={pad:function(L,O){var z=4*O,ee=z-L.sigBytes%z;L.concat(a.lib.WordArray.random(ee-1)).concat(a.lib.WordArray.create([ee<<24],1))},unpad:function(L){L.sigBytes-=255&L.words[L.sigBytes-1>>>2]}},a.pad.Iso10126)},4004:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.pad.Iso97971={pad:function(L,O){L.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(L,O)},unpad:function(L){a.pad.ZeroPadding.unpad(L),L.sigBytes--}},a.pad.Iso97971)},2738:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding)},3297:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(3270),a.pad.ZeroPadding={pad:function(L,O){var z=4*O;L.clamp(),L.sigBytes+=z-(L.sigBytes%z||z)},unpad:function(L){var O=L.words,z=L.sigBytes-1;for(z=L.sigBytes-1;z>=0;z--)if(O[z>>>2]>>>24-z%4*8&255){L.sigBytes=z+1;break}}},a.pad.ZeroPadding)},3538:function(Le,Ce,P){var L,O,z,ee,W,V,H,a;Le.exports=(a=P(12),P(4446),P(990),ee=(O=(L=a).lib).WordArray,V=(W=L.algo).HMAC,H=W.PBKDF2=(z=O.Base).extend({cfg:z.extend({keySize:4,hasher:W.SHA1,iterations:1}),init:function(N){this.cfg=this.cfg.extend(N)},compute:function(N,M){for(var U=this.cfg,B=V.create(U.hasher,N),$=ee.create(),ne=ee.create([1]),ae=$.words,pe=ne.words,Z=U.keySize,J=U.iterations;ae.length<Z;){var _e=B.update(M).finalize(ne);B.reset();for(var G=_e.words,he=G.length,Y=_e,ge=1;ge<J;ge++){Y=B.finalize(Y),B.reset();for(var be=Y.words,ue=0;ue<he;ue++)G[ue]^=be[ue]}$.concat(_e),pe[0]++}return $.sigBytes=4*Z,$}}),L.PBKDF2=function(N,M,U){return H.create(U).compute(N,M)},a.PBKDF2)},7848:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(5506),P(2873),P(2066),P(3270),function(){var L=a,z=L.lib.StreamCipher,W=[],X=[],V=[],H=L.algo.RabbitLegacy=z.extend({_doReset:function(){var M=this._key.words,U=this.cfg.iv,B=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],$=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];this._b=0;for(var ne=0;ne<4;ne++)N.call(this);for(ne=0;ne<8;ne++)$[ne]^=B[ne+4&7];if(U){var ae=U.words,pe=ae[0],Z=ae[1],J=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),_e=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),G=J>>>16|4294901760&_e,he=_e<<16|65535&J;for($[0]^=J,$[1]^=G,$[2]^=_e,$[3]^=he,$[4]^=J,$[5]^=G,$[6]^=_e,$[7]^=he,ne=0;ne<4;ne++)N.call(this)}},_doProcessBlock:function(M,U){var B=this._X;N.call(this),W[0]=B[0]^B[5]>>>16^B[3]<<16,W[1]=B[2]^B[7]>>>16^B[5]<<16,W[2]=B[4]^B[1]>>>16^B[7]<<16,W[3]=B[6]^B[3]>>>16^B[1]<<16;for(var $=0;$<4;$++)W[$]=16711935&(W[$]<<8|W[$]>>>24)|4278255360&(W[$]<<24|W[$]>>>8),M[U+$]^=W[$]},blockSize:4,ivSize:2});function N(){for(var M=this._X,U=this._C,B=0;B<8;B++)X[B]=U[B];for(U[0]=U[0]+1295307597+this._b|0,U[1]=U[1]+3545052371+(U[0]>>>0<X[0]>>>0?1:0)|0,U[2]=U[2]+886263092+(U[1]>>>0<X[1]>>>0?1:0)|0,U[3]=U[3]+1295307597+(U[2]>>>0<X[2]>>>0?1:0)|0,U[4]=U[4]+3545052371+(U[3]>>>0<X[3]>>>0?1:0)|0,U[5]=U[5]+886263092+(U[4]>>>0<X[4]>>>0?1:0)|0,U[6]=U[6]+1295307597+(U[5]>>>0<X[5]>>>0?1:0)|0,U[7]=U[7]+3545052371+(U[6]>>>0<X[6]>>>0?1:0)|0,this._b=U[7]>>>0<X[7]>>>0?1:0,B=0;B<8;B++){var $=M[B]+U[B],ne=65535&$,ae=$>>>16;V[B]=((ne*ne>>>17)+ne*ae>>>15)+ae*ae^((4294901760&$)*$|0)+((65535&$)*$|0)}M[0]=V[0]+(V[7]<<16|V[7]>>>16)+(V[6]<<16|V[6]>>>16)|0,M[1]=V[1]+(V[0]<<8|V[0]>>>24)+V[7]|0,M[2]=V[2]+(V[1]<<16|V[1]>>>16)+(V[0]<<16|V[0]>>>16)|0,M[3]=V[3]+(V[2]<<8|V[2]>>>24)+V[1]|0,M[4]=V[4]+(V[3]<<16|V[3]>>>16)+(V[2]<<16|V[2]>>>16)|0,M[5]=V[5]+(V[4]<<8|V[4]>>>24)+V[3]|0,M[6]=V[6]+(V[5]<<16|V[5]>>>16)+(V[4]<<16|V[4]>>>16)|0,M[7]=V[7]+(V[6]<<8|V[6]>>>24)+V[5]|0}L.RabbitLegacy=z._createHelper(H)}(),a.RabbitLegacy)},4969:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(5506),P(2873),P(2066),P(3270),function(){var L=a,z=L.lib.StreamCipher,W=[],X=[],V=[],H=L.algo.Rabbit=z.extend({_doReset:function(){for(var M=this._key.words,U=this.cfg.iv,B=0;B<4;B++)M[B]=16711935&(M[B]<<8|M[B]>>>24)|4278255360&(M[B]<<24|M[B]>>>8);var $=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],ne=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];for(this._b=0,B=0;B<4;B++)N.call(this);for(B=0;B<8;B++)ne[B]^=$[B+4&7];if(U){var ae=U.words,pe=ae[0],Z=ae[1],J=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),_e=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),G=J>>>16|4294901760&_e,he=_e<<16|65535&J;for(ne[0]^=J,ne[1]^=G,ne[2]^=_e,ne[3]^=he,ne[4]^=J,ne[5]^=G,ne[6]^=_e,ne[7]^=he,B=0;B<4;B++)N.call(this)}},_doProcessBlock:function(M,U){var B=this._X;N.call(this),W[0]=B[0]^B[5]>>>16^B[3]<<16,W[1]=B[2]^B[7]>>>16^B[5]<<16,W[2]=B[4]^B[1]>>>16^B[7]<<16,W[3]=B[6]^B[3]>>>16^B[1]<<16;for(var $=0;$<4;$++)W[$]=16711935&(W[$]<<8|W[$]>>>24)|4278255360&(W[$]<<24|W[$]>>>8),M[U+$]^=W[$]},blockSize:4,ivSize:2});function N(){for(var M=this._X,U=this._C,B=0;B<8;B++)X[B]=U[B];for(U[0]=U[0]+1295307597+this._b|0,U[1]=U[1]+3545052371+(U[0]>>>0<X[0]>>>0?1:0)|0,U[2]=U[2]+886263092+(U[1]>>>0<X[1]>>>0?1:0)|0,U[3]=U[3]+1295307597+(U[2]>>>0<X[2]>>>0?1:0)|0,U[4]=U[4]+3545052371+(U[3]>>>0<X[3]>>>0?1:0)|0,U[5]=U[5]+886263092+(U[4]>>>0<X[4]>>>0?1:0)|0,U[6]=U[6]+1295307597+(U[5]>>>0<X[5]>>>0?1:0)|0,U[7]=U[7]+3545052371+(U[6]>>>0<X[6]>>>0?1:0)|0,this._b=U[7]>>>0<X[7]>>>0?1:0,B=0;B<8;B++){var $=M[B]+U[B],ne=65535&$,ae=$>>>16;V[B]=((ne*ne>>>17)+ne*ae>>>15)+ae*ae^((4294901760&$)*$|0)+((65535&$)*$|0)}M[0]=V[0]+(V[7]<<16|V[7]>>>16)+(V[6]<<16|V[6]>>>16)|0,M[1]=V[1]+(V[0]<<8|V[0]>>>24)+V[7]|0,M[2]=V[2]+(V[1]<<16|V[1]>>>16)+(V[0]<<16|V[0]>>>16)|0,M[3]=V[3]+(V[2]<<8|V[2]>>>24)+V[1]|0,M[4]=V[4]+(V[3]<<16|V[3]>>>16)+(V[2]<<16|V[2]>>>16)|0,M[5]=V[5]+(V[4]<<8|V[4]>>>24)+V[3]|0,M[6]=V[6]+(V[5]<<16|V[5]>>>16)+(V[4]<<16|V[4]>>>16)|0,M[7]=V[7]+(V[6]<<8|V[6]>>>24)+V[5]|0}L.Rabbit=z._createHelper(H)}(),a.Rabbit)},1195:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(5506),P(2873),P(2066),P(3270),function(){var L=a,z=L.lib.StreamCipher,ee=L.algo,W=ee.RC4=z.extend({_doReset:function(){for(var H=this._key,N=H.words,M=H.sigBytes,U=this._S=[],B=0;B<256;B++)U[B]=B;B=0;for(var $=0;B<256;B++){var ne=B%M,pe=U[B];U[B]=U[$=($+U[B]+(N[ne>>>2]>>>24-ne%4*8&255))%256],U[$]=pe}this._i=this._j=0},_doProcessBlock:function(H,N){H[N]^=X.call(this)},keySize:8,ivSize:0});function X(){for(var H=this._S,N=this._i,M=this._j,U=0,B=0;B<4;B++){var $=H[N=(N+1)%256];H[N]=H[M=(M+H[N])%256],H[M]=$,U|=H[(H[N]+H[M])%256]<<24-8*B}return this._i=N,this._j=M,U}L.RC4=z._createHelper(W);var V=ee.RC4Drop=W.extend({cfg:W.cfg.extend({drop:192}),_doReset:function(){W._doReset.call(this);for(var H=this.cfg.drop;H>0;H--)X.call(this)}});L.RC4Drop=z._createHelper(V)}(),a.RC4)},5558:function(Le,Ce,P){var a;Le.exports=(a=P(12),function(L){var O=a,z=O.lib,ee=z.WordArray,W=z.Hasher,X=O.algo,V=ee.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),H=ee.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),N=ee.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=ee.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),U=ee.create([0,1518500249,1859775393,2400959708,2840853838]),B=ee.create([1352829926,1548603684,1836072691,2053994217,0]),$=X.RIPEMD160=W.extend({_doReset:function(){this._hash=ee.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(G,he){for(var Y=0;Y<16;Y++){var ge=he+Y,be=G[ge];G[ge]=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)}var gt,xt,kt,te,ce,fe,le,Ue,Re,nt,Be,ue=this._hash.words,Ee=U.words,ye=B.words,Ne=V.words,Xe=H.words,Ze=N.words,lt=M.words;for(fe=gt=ue[0],le=xt=ue[1],Ue=kt=ue[2],Re=te=ue[3],nt=ce=ue[4],Y=0;Y<80;Y+=1)Be=gt+G[he+Ne[Y]]|0,Be+=Y<16?ne(xt,kt,te)+Ee[0]:Y<32?ae(xt,kt,te)+Ee[1]:Y<48?pe(xt,kt,te)+Ee[2]:Y<64?Z(xt,kt,te)+Ee[3]:J(xt,kt,te)+Ee[4],Be=(Be=_e(Be|=0,Ze[Y]))+ce|0,gt=ce,ce=te,te=_e(kt,10),kt=xt,xt=Be,Be=fe+G[he+Xe[Y]]|0,Be+=Y<16?J(le,Ue,Re)+ye[0]:Y<32?Z(le,Ue,Re)+ye[1]:Y<48?pe(le,Ue,Re)+ye[2]:Y<64?ae(le,Ue,Re)+ye[3]:ne(le,Ue,Re)+ye[4],Be=(Be=_e(Be|=0,lt[Y]))+nt|0,fe=nt,nt=Re,Re=_e(Ue,10),Ue=le,le=Be;Be=ue[1]+kt+Re|0,ue[1]=ue[2]+te+nt|0,ue[2]=ue[3]+ce+fe|0,ue[3]=ue[4]+gt+le|0,ue[4]=ue[0]+xt+Ue|0,ue[0]=Be},_doFinalize:function(){var G=this._data,he=G.words,Y=8*this._nDataBytes,ge=8*G.sigBytes;he[ge>>>5]|=128<<24-ge%32,he[14+(ge+64>>>9<<4)]=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8),G.sigBytes=4*(he.length+1),this._process();for(var be=this._hash,ue=be.words,Ee=0;Ee<5;Ee++){var ye=ue[Ee];ue[Ee]=16711935&(ye<<8|ye>>>24)|4278255360&(ye<<24|ye>>>8)}return be},clone:function(){var G=W.clone.call(this);return G._hash=this._hash.clone(),G}});function ne(G,he,Y){return G^he^Y}function ae(G,he,Y){return G&he|~G&Y}function pe(G,he,Y){return(G|~he)^Y}function Z(G,he,Y){return G&Y|he&~Y}function J(G,he,Y){return G^(he|~Y)}function _e(G,he){return G<<he|G>>>32-he}O.RIPEMD160=W._createHelper($),O.HmacRIPEMD160=W._createHmacHelper($)}(Math),a.RIPEMD160)},4446:function(Le,Ce,P){var L,O,z,ee,X,V,a;Le.exports=(a=P(12),z=(O=(L=a).lib).WordArray,X=[],V=L.algo.SHA1=(ee=O.Hasher).extend({_doReset:function(){this._hash=new z.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,N){for(var M=this._hash.words,U=M[0],B=M[1],$=M[2],ne=M[3],ae=M[4],pe=0;pe<80;pe++){if(pe<16)X[pe]=0|H[N+pe];else{var Z=X[pe-3]^X[pe-8]^X[pe-14]^X[pe-16];X[pe]=Z<<1|Z>>>31}var J=(U<<5|U>>>27)+ae+X[pe];J+=pe<20?1518500249+(B&$|~B&ne):pe<40?1859775393+(B^$^ne):pe<60?(B&$|B&ne|$&ne)-1894007588:(B^$^ne)-899497514,ae=ne,ne=$,$=B<<30|B>>>2,B=U,U=J}M[0]=M[0]+U|0,M[1]=M[1]+B|0,M[2]=M[2]+$|0,M[3]=M[3]+ne|0,M[4]=M[4]+ae|0},_doFinalize:function(){var H=this._data,N=H.words,M=8*this._nDataBytes,U=8*H.sigBytes;return N[U>>>5]|=128<<24-U%32,N[14+(U+64>>>9<<4)]=Math.floor(M/4294967296),N[15+(U+64>>>9<<4)]=M,H.sigBytes=4*N.length,this._process(),this._hash},clone:function(){var H=ee.clone.call(this);return H._hash=this._hash.clone(),H}}),L.SHA1=ee._createHelper(V),L.HmacSHA1=ee._createHmacHelper(V),a.SHA1)},9811:function(Le,Ce,P){var L,z,ee,W,X,a;Le.exports=(a=P(12),P(2078),z=(L=a).lib.WordArray,X=(ee=L.algo).SHA224=(W=ee.SHA256).extend({_doReset:function(){this._hash=new z.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var V=W._doFinalize.call(this);return V.sigBytes-=4,V}}),L.SHA224=W._createHelper(X),L.HmacSHA224=W._createHmacHelper(X),a.SHA224)},2078:function(Le,Ce,P){var a;Le.exports=(a=P(12),function(L){var O=a,z=O.lib,ee=z.WordArray,W=z.Hasher,X=O.algo,V=[],H=[];!function(){function U(ae){for(var pe=L.sqrt(ae),Z=2;Z<=pe;Z++)if(!(ae%Z))return!1;return!0}function B(ae){return 4294967296*(ae-(0|ae))|0}for(var $=2,ne=0;ne<64;)U($)&&(ne<8&&(V[ne]=B(L.pow($,.5))),H[ne]=B(L.pow($,1/3)),ne++),$++}();var N=[],M=X.SHA256=W.extend({_doReset:function(){this._hash=new ee.init(V.slice(0))},_doProcessBlock:function(U,B){for(var $=this._hash.words,ne=$[0],ae=$[1],pe=$[2],Z=$[3],J=$[4],_e=$[5],G=$[6],he=$[7],Y=0;Y<64;Y++){if(Y<16)N[Y]=0|U[B+Y];else{var ge=N[Y-15],ue=N[Y-2];N[Y]=((ge<<25|ge>>>7)^(ge<<14|ge>>>18)^ge>>>3)+N[Y-7]+((ue<<15|ue>>>17)^(ue<<13|ue>>>19)^ue>>>10)+N[Y-16]}var Ne=ne&ae^ne&pe^ae&pe,lt=he+((J<<26|J>>>6)^(J<<21|J>>>11)^(J<<7|J>>>25))+(J&_e^~J&G)+H[Y]+N[Y];he=G,G=_e,_e=J,J=Z+lt|0,Z=pe,pe=ae,ae=ne,ne=lt+(((ne<<30|ne>>>2)^(ne<<19|ne>>>13)^(ne<<10|ne>>>22))+Ne)|0}$[0]=$[0]+ne|0,$[1]=$[1]+ae|0,$[2]=$[2]+pe|0,$[3]=$[3]+Z|0,$[4]=$[4]+J|0,$[5]=$[5]+_e|0,$[6]=$[6]+G|0,$[7]=$[7]+he|0},_doFinalize:function(){var U=this._data,B=U.words,$=8*this._nDataBytes,ne=8*U.sigBytes;return B[ne>>>5]|=128<<24-ne%32,B[14+(ne+64>>>9<<4)]=L.floor($/4294967296),B[15+(ne+64>>>9<<4)]=$,U.sigBytes=4*B.length,this._process(),this._hash},clone:function(){var U=W.clone.call(this);return U._hash=this._hash.clone(),U}});O.SHA256=W._createHelper(M),O.HmacSHA256=W._createHmacHelper(M)}(Math),a.SHA256)},6545:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(1802),function(L){var O=a,z=O.lib,ee=z.WordArray,W=z.Hasher,V=O.x64.Word,H=O.algo,N=[],M=[],U=[];!function(){for(var ne=1,ae=0,pe=0;pe<24;pe++){N[ne+5*ae]=(pe+1)*(pe+2)/2%64;var J=(2*ne+3*ae)%5;ne=ae%5,ae=J}for(ne=0;ne<5;ne++)for(ae=0;ae<5;ae++)M[ne+5*ae]=ae+(2*ne+3*ae)%5*5;for(var _e=1,G=0;G<24;G++){for(var he=0,Y=0,ge=0;ge<7;ge++){if(1&_e){var be=(1<<ge)-1;be<32?Y^=1<<be:he^=1<<be-32}128&_e?_e=_e<<1^113:_e<<=1}U[G]=V.create(he,Y)}}();var B=[];!function(){for(var ne=0;ne<25;ne++)B[ne]=V.create()}();var $=H.SHA3=W.extend({cfg:W.cfg.extend({outputLength:512}),_doReset:function(){for(var ne=this._state=[],ae=0;ae<25;ae++)ne[ae]=new V.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(ne,ae){for(var pe=this._state,Z=this.blockSize/2,J=0;J<Z;J++){var _e=ne[ae+2*J],G=ne[ae+2*J+1];_e=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),(he=pe[J]).high^=G=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),he.low^=_e}for(var Y=0;Y<24;Y++){for(var ge=0;ge<5;ge++){for(var be=0,ue=0,Ee=0;Ee<5;Ee++)be^=(he=pe[ge+5*Ee]).high,ue^=he.low;var ye=B[ge];ye.high=be,ye.low=ue}for(ge=0;ge<5;ge++){var Ne=B[(ge+4)%5],Xe=B[(ge+1)%5],Ze=Xe.high,lt=Xe.low;for(be=Ne.high^(Ze<<1|lt>>>31),ue=Ne.low^(lt<<1|Ze>>>31),Ee=0;Ee<5;Ee++)(he=pe[ge+5*Ee]).high^=be,he.low^=ue}for(var gt=1;gt<25;gt++){var xt=(he=pe[gt]).high,kt=he.low,te=N[gt];te<32?(be=xt<<te|kt>>>32-te,ue=kt<<te|xt>>>32-te):(be=kt<<te-32|xt>>>64-te,ue=xt<<te-32|kt>>>64-te);var ce=B[M[gt]];ce.high=be,ce.low=ue}var fe=B[0],le=pe[0];for(fe.high=le.high,fe.low=le.low,ge=0;ge<5;ge++)for(Ee=0;Ee<5;Ee++){var Ue=B[gt=ge+5*Ee],Re=B[(ge+1)%5+5*Ee],nt=B[(ge+2)%5+5*Ee];(he=pe[gt]).high=Ue.high^~Re.high&nt.high,he.low=Ue.low^~Re.low&nt.low}var he,Be=U[Y];(he=pe[0]).high^=Be.high,he.low^=Be.low}},_doFinalize:function(){var ne=this._data,ae=ne.words,Z=8*ne.sigBytes,J=32*this.blockSize;ae[Z>>>5]|=1<<24-Z%32,ae[(L.ceil((Z+1)/J)*J>>>5)-1]|=128,ne.sigBytes=4*ae.length,this._process();for(var _e=this._state,G=this.cfg.outputLength/8,he=G/8,Y=[],ge=0;ge<he;ge++){var be=_e[ge],ue=be.high,Ee=be.low;ue=16711935&(ue<<8|ue>>>24)|4278255360&(ue<<24|ue>>>8),Y.push(Ee=16711935&(Ee<<8|Ee>>>24)|4278255360&(Ee<<24|Ee>>>8)),Y.push(ue)}return new ee.init(Y,G)},clone:function(){for(var ne=W.clone.call(this),ae=ne._state=this._state.slice(0),pe=0;pe<25;pe++)ae[pe]=ae[pe].clone();return ne}});O.SHA3=W._createHelper($),O.HmacSHA3=W._createHmacHelper($)}(Math),a.SHA3)},2913:function(Le,Ce,P){var L,O,z,ee,W,X,V,a;Le.exports=(a=P(12),P(1802),P(4870),z=(O=(L=a).x64).Word,ee=O.WordArray,V=(W=L.algo).SHA384=(X=W.SHA512).extend({_doReset:function(){this._hash=new ee.init([new z.init(3418070365,3238371032),new z.init(1654270250,914150663),new z.init(2438529370,812702999),new z.init(355462360,4144912697),new z.init(1731405415,4290775857),new z.init(2394180231,1750603025),new z.init(3675008525,1694076839),new z.init(1203062813,3204075428)])},_doFinalize:function(){var H=X._doFinalize.call(this);return H.sigBytes-=16,H}}),L.SHA384=X._createHelper(V),L.HmacSHA384=X._createHmacHelper(V),a.SHA384)},4870:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(1802),function(){var L=a,z=L.lib.Hasher,ee=L.x64,W=ee.Word,X=ee.WordArray,V=L.algo;function H(){return W.create.apply(W,arguments)}var N=[H(1116352408,3609767458),H(1899447441,602891725),H(3049323471,3964484399),H(3921009573,2173295548),H(961987163,4081628472),H(1508970993,3053834265),H(2453635748,2937671579),H(2870763221,3664609560),H(3624381080,2734883394),H(310598401,1164996542),H(607225278,1323610764),H(1426881987,3590304994),H(1925078388,4068182383),H(2162078206,991336113),H(2614888103,633803317),H(3248222580,3479774868),H(3835390401,2666613458),H(4022224774,944711139),H(264347078,2341262773),H(604807628,2007800933),H(770255983,1495990901),H(1249150122,1856431235),H(1555081692,3175218132),H(1996064986,2198950837),H(2554220882,3999719339),H(2821834349,766784016),H(2952996808,2566594879),H(3210313671,3203337956),H(3336571891,1034457026),H(3584528711,2466948901),H(113926993,3758326383),H(338241895,168717936),H(666307205,1188179964),H(773529912,1546045734),H(1294757372,1522805485),H(1396182291,2643833823),H(1695183700,2343527390),H(1986661051,1014477480),H(2177026350,1206759142),H(2456956037,344077627),H(2730485921,1290863460),H(2820302411,3158454273),H(3259730800,3505952657),H(3345764771,106217008),H(3516065817,3606008344),H(3600352804,1432725776),H(4094571909,1467031594),H(275423344,851169720),H(430227734,3100823752),H(506948616,1363258195),H(659060556,3750685593),H(883997877,3785050280),H(958139571,3318307427),H(1322822218,3812723403),H(1537002063,2003034995),H(1747873779,3602036899),H(1955562222,1575990012),H(2024104815,1125592928),H(2227730452,2716904306),H(2361852424,442776044),H(2428436474,593698344),H(2756734187,3733110249),H(3204031479,2999351573),H(3329325298,3815920427),H(3391569614,3928383900),H(3515267271,566280711),H(3940187606,3454069534),H(4118630271,4000239992),H(116418474,1914138554),H(174292421,2731055270),H(289380356,3203993006),H(460393269,320620315),H(685471733,587496836),H(852142971,1086792851),H(1017036298,365543100),H(1126000580,2618297676),H(1288033470,3409855158),H(1501505948,4234509866),H(1607167915,987167468),H(1816402316,1246189591)],M=[];!function(){for(var B=0;B<80;B++)M[B]=H()}();var U=V.SHA512=z.extend({_doReset:function(){this._hash=new X.init([new W.init(1779033703,4089235720),new W.init(3144134277,2227873595),new W.init(1013904242,4271175723),new W.init(2773480762,1595750129),new W.init(1359893119,2917565137),new W.init(2600822924,725511199),new W.init(528734635,4215389547),new W.init(1541459225,327033209)])},_doProcessBlock:function(B,$){for(var ne=this._hash.words,ae=ne[0],pe=ne[1],Z=ne[2],J=ne[3],_e=ne[4],G=ne[5],he=ne[6],Y=ne[7],ge=ae.high,be=ae.low,ue=pe.high,Ee=pe.low,ye=Z.high,Ne=Z.low,Xe=J.high,Ze=J.low,lt=_e.high,gt=_e.low,xt=G.high,kt=G.low,te=he.high,ce=he.low,fe=Y.high,le=Y.low,Ue=ge,Re=be,nt=ue,Be=Ee,On=ye,wt=Ne,en=Xe,Ft=Ze,rn=lt,cn=gt,Jt=xt,ln=kt,Bn=te,Kn=ce,li=fe,Ir=le,Yn=0;Yn<80;Yn++){var _n,Nr,At=M[Yn];if(Yn<16)Nr=At.high=0|B[$+2*Yn],_n=At.low=0|B[$+2*Yn+1];else{var Nt=M[Yn-15],Vt=Nt.high,an=Nt.low,Xn=(an>>>1|Vt<<31)^(an>>>8|Vt<<24)^(an>>>7|Vt<<25),fn=M[Yn-2],Dn=fn.high,Rr=fn.low,Hi=(Rr>>>19|Dn<<13)^(Rr<<3|Dn>>>29)^(Rr>>>6|Dn<<26),un=M[Yn-7],$i=M[Yn-16],Do=$i.low;At.high=Nr=(Nr=(Nr=((Vt>>>1|an<<31)^(Vt>>>8|an<<24)^Vt>>>7)+un.high+((_n=Xn+un.low)>>>0<Xn>>>0?1:0))+((Dn>>>19|Rr<<13)^(Dn<<3|Rr>>>29)^Dn>>>6)+((_n+=Hi)>>>0<Hi>>>0?1:0))+$i.high+((_n+=Do)>>>0<Do>>>0?1:0),At.low=_n}var Se,qe=rn&Jt^~rn&Bn,me=cn&ln^~cn&Kn,Fe=Ue&nt^Ue&On^nt&On,vt=(Re>>>28|Ue<<4)^(Re<<30|Ue>>>2)^(Re<<25|Ue>>>7),se=N[Yn],je=se.low,at=li+((rn>>>14|cn<<18)^(rn>>>18|cn<<14)^(rn<<23|cn>>>9))+((Se=Ir+((cn>>>14|rn<<18)^(cn>>>18|rn<<14)^(cn<<23|rn>>>9)))>>>0<Ir>>>0?1:0),Pt=vt+(Re&Be^Re&wt^Be&wt);li=Bn,Ir=Kn,Bn=Jt,Kn=ln,Jt=rn,ln=cn,rn=en+(at=(at=(at=at+qe+((Se+=me)>>>0<me>>>0?1:0))+se.high+((Se+=je)>>>0<je>>>0?1:0))+Nr+((Se+=_n)>>>0<_n>>>0?1:0))+((cn=Ft+Se|0)>>>0<Ft>>>0?1:0)|0,en=On,Ft=wt,On=nt,wt=Be,nt=Ue,Be=Re,Ue=at+(((Ue>>>28|Re<<4)^(Ue<<30|Re>>>2)^(Ue<<25|Re>>>7))+Fe+(Pt>>>0<vt>>>0?1:0))+((Re=Se+Pt|0)>>>0<Se>>>0?1:0)|0}be=ae.low=be+Re,ae.high=ge+Ue+(be>>>0<Re>>>0?1:0),Ee=pe.low=Ee+Be,pe.high=ue+nt+(Ee>>>0<Be>>>0?1:0),Ne=Z.low=Ne+wt,Z.high=ye+On+(Ne>>>0<wt>>>0?1:0),Ze=J.low=Ze+Ft,J.high=Xe+en+(Ze>>>0<Ft>>>0?1:0),gt=_e.low=gt+cn,_e.high=lt+rn+(gt>>>0<cn>>>0?1:0),kt=G.low=kt+ln,G.high=xt+Jt+(kt>>>0<ln>>>0?1:0),ce=he.low=ce+Kn,he.high=te+Bn+(ce>>>0<Kn>>>0?1:0),le=Y.low=le+Ir,Y.high=fe+li+(le>>>0<Ir>>>0?1:0)},_doFinalize:function(){var B=this._data,$=B.words,ne=8*this._nDataBytes,ae=8*B.sigBytes;return $[ae>>>5]|=128<<24-ae%32,$[30+(ae+128>>>10<<5)]=Math.floor(ne/4294967296),$[31+(ae+128>>>10<<5)]=ne,B.sigBytes=4*$.length,this._process(),this._hash.toX32()},clone:function(){var B=z.clone.call(this);return B._hash=this._hash.clone(),B},blockSize:32});L.SHA512=z._createHelper(U),L.HmacSHA512=z._createHmacHelper(U)}(),a.SHA512)},5769:function(Le,Ce,P){var a;Le.exports=(a=P(12),P(5506),P(2873),P(2066),P(3270),function(){var L=a,O=L.lib,z=O.WordArray,ee=O.BlockCipher,W=L.algo,X=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],V=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],H=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],N=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],M=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],U=W.DES=ee.extend({_doReset:function(){for(var pe=this._key.words,Z=[],J=0;J<56;J++){var _e=X[J]-1;Z[J]=pe[_e>>>5]>>>31-_e%32&1}for(var G=this._subKeys=[],he=0;he<16;he++){var Y=G[he]=[],ge=H[he];for(J=0;J<24;J++)Y[J/6|0]|=Z[(V[J]-1+ge)%28]<<31-J%6,Y[4+(J/6|0)]|=Z[28+(V[J+24]-1+ge)%28]<<31-J%6;for(Y[0]=Y[0]<<1|Y[0]>>>31,J=1;J<7;J++)Y[J]=Y[J]>>>4*(J-1)+3;Y[7]=Y[7]<<5|Y[7]>>>27}var be=this._invSubKeys=[];for(J=0;J<16;J++)be[J]=G[15-J]},encryptBlock:function(ae,pe){this._doCryptBlock(ae,pe,this._subKeys)},decryptBlock:function(ae,pe){this._doCryptBlock(ae,pe,this._invSubKeys)},_doCryptBlock:function(ae,pe,Z){this._lBlock=ae[pe],this._rBlock=ae[pe+1],B.call(this,4,252645135),B.call(this,16,65535),$.call(this,2,858993459),$.call(this,8,16711935),B.call(this,1,1431655765);for(var J=0;J<16;J++){for(var _e=Z[J],G=this._lBlock,he=this._rBlock,Y=0,ge=0;ge<8;ge++)Y|=N[ge][((he^_e[ge])&M[ge])>>>0];this._lBlock=he,this._rBlock=G^Y}var be=this._lBlock;this._lBlock=this._rBlock,this._rBlock=be,B.call(this,1,1431655765),$.call(this,8,16711935),$.call(this,2,858993459),B.call(this,16,65535),B.call(this,4,252645135),ae[pe]=this._lBlock,ae[pe+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function B(ae,pe){var Z=(this._lBlock>>>ae^this._rBlock)&pe;this._rBlock^=Z,this._lBlock^=Z<<ae}function $(ae,pe){var Z=(this._rBlock>>>ae^this._lBlock)&pe;this._lBlock^=Z,this._rBlock^=Z<<ae}L.DES=ee._createHelper(U);var ne=W.TripleDES=ee.extend({_doReset:function(){var pe=this._key.words;if(2!==pe.length&&4!==pe.length&&pe.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Z=pe.slice(0,2),J=pe.length<4?pe.slice(0,2):pe.slice(2,4),_e=pe.length<6?pe.slice(0,2):pe.slice(4,6);this._des1=U.createEncryptor(z.create(Z)),this._des2=U.createEncryptor(z.create(J)),this._des3=U.createEncryptor(z.create(_e))},encryptBlock:function(ae,pe){this._des1.encryptBlock(ae,pe),this._des2.decryptBlock(ae,pe),this._des3.encryptBlock(ae,pe)},decryptBlock:function(ae,pe){this._des3.decryptBlock(ae,pe),this._des2.encryptBlock(ae,pe),this._des1.decryptBlock(ae,pe)},keySize:6,ivSize:2,blockSize:2});L.TripleDES=ee._createHelper(ne)}(),a.TripleDES)},1802:function(Le,Ce,P){var z,ee,W,X,a;Le.exports=(a=P(12),ee=(z=a.lib).Base,W=z.WordArray,(X=a.x64={}).Word=ee.extend({init:function(N,M){this.high=N,this.low=M}}),X.WordArray=ee.extend({init:function(N,M){N=this.words=N||[],this.sigBytes=null!=M?M:8*N.length},toX32:function(){for(var N=this.words,M=N.length,U=[],B=0;B<M;B++){var $=N[B];U.push($.high),U.push($.low)}return W.create(U,this.sigBytes)},clone:function(){for(var N=ee.clone.call(this),M=N.words=this.words.slice(0),U=M.length,B=0;B<U;B++)M[B]=M[B].clone();return N}}),a)},5619:(Le,Ce,P)=>{"use strict";P.d(Ce,{X:()=>L});var a=P(8645);class L extends a.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const ee=super._subscribe(z);return!ee.closed&&z.next(this._value),ee}getValue(){const{hasError:z,thrownError:ee,_value:W}=this;if(z)throw ee;return this._throwIfClosed(),W}next(z){super.next(this._value=z)}}},5592:(Le,Ce,P)=>{"use strict";P.d(Ce,{y:()=>V});var a=P(305),L=P(7394),O=P(4850),z=P(8407),ee=P(2653),W=P(4674),X=P(1441);let V=(()=>{class U{constructor($){$&&(this._subscribe=$)}lift($){const ne=new U;return ne.source=this,ne.operator=$,ne}subscribe($,ne,ae){const pe=function M(U){return U&&U instanceof a.Lv||function N(U){return U&&(0,W.m)(U.next)&&(0,W.m)(U.error)&&(0,W.m)(U.complete)}(U)&&(0,L.Nn)(U)}($)?$:new a.Hp($,ne,ae);return(0,X.x)(()=>{const{operator:Z,source:J}=this;pe.add(Z?Z.call(pe,J):J?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe($){try{return this._subscribe($)}catch(ne){$.error(ne)}}forEach($,ne){return new(ne=H(ne))((ae,pe)=>{const Z=new a.Hp({next:J=>{try{$(J)}catch(_e){pe(_e),Z.unsubscribe()}},error:pe,complete:ae});this.subscribe(Z)})}_subscribe($){var ne;return null===(ne=this.source)||void 0===ne?void 0:ne.subscribe($)}[O.L](){return this}pipe(...$){return(0,z.U)($)(this)}toPromise($){return new($=H($))((ne,ae)=>{let pe;this.subscribe(Z=>pe=Z,Z=>ae(Z),()=>ne(pe))})}}return U.create=B=>new U(B),U})();function H(U){var B;return null!==(B=U??ee.config.Promise)&&void 0!==B?B:Promise}},8645:(Le,Ce,P)=>{"use strict";P.d(Ce,{x:()=>X});var a=P(5592),L=P(7394);const z=(0,P(2306).d)(H=>function(){H(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=P(9039),W=P(1441);let X=(()=>{class H extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(M){const U=new V(this,this);return U.operator=M,U}_throwIfClosed(){if(this.closed)throw new z}next(M){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(M)}})}error(M){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=M;const{observers:U}=this;for(;U.length;)U.shift().error(M)}})}complete(){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:M}=this;for(;M.length;)M.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var M;return(null===(M=this.observers)||void 0===M?void 0:M.length)>0}_trySubscribe(M){return this._throwIfClosed(),super._trySubscribe(M)}_subscribe(M){return this._throwIfClosed(),this._checkFinalizedStatuses(M),this._innerSubscribe(M)}_innerSubscribe(M){const{hasError:U,isStopped:B,observers:$}=this;return U||B?L.Lc:(this.currentObservers=null,$.push(M),new L.w0(()=>{this.currentObservers=null,(0,ee.P)($,M)}))}_checkFinalizedStatuses(M){const{hasError:U,thrownError:B,isStopped:$}=this;U?M.error(B):$&&M.complete()}asObservable(){const M=new a.y;return M.source=this,M}}return H.create=(N,M)=>new V(N,M),H})();class V extends X{constructor(N,M){super(),this.destination=N,this.source=M}next(N){var M,U;null===(U=null===(M=this.destination)||void 0===M?void 0:M.next)||void 0===U||U.call(M,N)}error(N){var M,U;null===(U=null===(M=this.destination)||void 0===M?void 0:M.error)||void 0===U||U.call(M,N)}complete(){var N,M;null===(M=null===(N=this.destination)||void 0===N?void 0:N.complete)||void 0===M||M.call(N)}_subscribe(N){var M,U;return null!==(U=null===(M=this.source)||void 0===M?void 0:M.subscribe(N))&&void 0!==U?U:L.Lc}}},305:(Le,Ce,P)=>{"use strict";P.d(Ce,{Hp:()=>ae,Lv:()=>U});var a=P(4674),L=P(7394),O=P(2653),z=P(3894),ee=P(2420);const W=H("C",void 0,void 0);function H(G,he,Y){return{kind:G,value:he,error:Y}}var N=P(7599),M=P(1441);class U extends L.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,L.Nn)(he)&&he.add(this)):this.destination=_e}static create(he,Y,ge){return new ae(he,Y,ge)}next(he){this.isStopped?J(function V(G){return H("N",G,void 0)}(he),this):this._next(he)}error(he){this.isStopped?J(function X(G){return H("E",void 0,G)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?J(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const B=Function.prototype.bind;function $(G,he){return B.call(G,he)}class ne{constructor(he){this.partialObserver=he}next(he){const{partialObserver:Y}=this;if(Y.next)try{Y.next(he)}catch(ge){pe(ge)}}error(he){const{partialObserver:Y}=this;if(Y.error)try{Y.error(he)}catch(ge){pe(ge)}else pe(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(Y){pe(Y)}}}class ae extends U{constructor(he,Y,ge){let be;if(super(),(0,a.m)(he)||!he)be={next:he??void 0,error:Y??void 0,complete:ge??void 0};else{let ue;this&&O.config.useDeprecatedNextContext?(ue=Object.create(he),ue.unsubscribe=()=>this.unsubscribe(),be={next:he.next&&$(he.next,ue),error:he.error&&$(he.error,ue),complete:he.complete&&$(he.complete,ue)}):be=he}this.destination=new ne(be)}}function pe(G){O.config.useDeprecatedSynchronousErrorHandling?(0,M.O)(G):(0,z.h)(G)}function J(G,he){const{onStoppedNotification:Y}=O.config;Y&&N.z.setTimeout(()=>Y(G,he))}const _e={closed:!0,next:ee.Z,error:function Z(G){throw G},complete:ee.Z}},7394:(Le,Ce,P)=>{"use strict";P.d(Ce,{Lc:()=>W,w0:()=>ee,Nn:()=>X});var a=P(4674);const O=(0,P(2306).d)(H=>function(M){H(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((U,B)=>`${B+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M});var z=P(9039);class ee{constructor(N){this.initialTeardown=N,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let N;if(!this.closed){this.closed=!0;const{_parentage:M}=this;if(M)if(this._parentage=null,Array.isArray(M))for(const $ of M)$.remove(this);else M.remove(this);const{initialTeardown:U}=this;if((0,a.m)(U))try{U()}catch($){N=$ instanceof O?$.errors:[$]}const{_finalizers:B}=this;if(B){this._finalizers=null;for(const $ of B)try{V($)}catch(ne){N=N??[],ne instanceof O?N=[...N,...ne.errors]:N.push(ne)}}if(N)throw new O(N)}}add(N){var M;if(N&&N!==this)if(this.closed)V(N);else{if(N instanceof ee){if(N.closed||N._hasParent(this))return;N._addParent(this)}(this._finalizers=null!==(M=this._finalizers)&&void 0!==M?M:[]).push(N)}}_hasParent(N){const{_parentage:M}=this;return M===N||Array.isArray(M)&&M.includes(N)}_addParent(N){const{_parentage:M}=this;this._parentage=Array.isArray(M)?(M.push(N),M):M?[M,N]:N}_removeParent(N){const{_parentage:M}=this;M===N?this._parentage=null:Array.isArray(M)&&(0,z.P)(M,N)}remove(N){const{_finalizers:M}=this;M&&(0,z.P)(M,N),N instanceof ee&&N._removeParent(this)}}ee.EMPTY=(()=>{const H=new ee;return H.closed=!0,H})();const W=ee.EMPTY;function X(H){return H instanceof ee||H&&"closed"in H&&(0,a.m)(H.remove)&&(0,a.m)(H.add)&&(0,a.m)(H.unsubscribe)}function V(H){(0,a.m)(H)?H():H.unsubscribe()}},2653:(Le,Ce,P)=>{"use strict";P.d(Ce,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Le,Ce,P)=>{"use strict";P.d(Ce,{E:()=>L});const L=new(P(5592).y)(ee=>ee.complete())},2459:(Le,Ce,P)=>{"use strict";P.d(Ce,{D:()=>he});var a=P(4829),L=P(3093),O=P(5137),W=P(5592),V=P(4971),H=P(4674),N=P(7103);function U(Y,ge){if(!Y)throw new Error("Iterable cannot be null");return new W.y(be=>{(0,N.f)(be,ge,()=>{const ue=Y[Symbol.asyncIterator]();(0,N.f)(be,ge,()=>{ue.next().then(Ee=>{Ee.done?be.complete():be.next(Ee.value)})},0,!0)})})}var B=P(8382),$=P(4026),ne=P(4266),ae=P(3664),pe=P(5726),Z=P(9853),J=P(541);function he(Y,ge){return ge?function G(Y,ge){if(null!=Y){if((0,B.c)(Y))return function z(Y,ge){return(0,a.Xf)(Y).pipe((0,O.R)(ge),(0,L.Q)(ge))}(Y,ge);if((0,ne.z)(Y))return function X(Y,ge){return new W.y(be=>{let ue=0;return ge.schedule(function(){ue===Y.length?be.complete():(be.next(Y[ue++]),be.closed||this.schedule())})})}(Y,ge);if((0,$.t)(Y))return function ee(Y,ge){return(0,a.Xf)(Y).pipe((0,O.R)(ge),(0,L.Q)(ge))}(Y,ge);if((0,pe.D)(Y))return U(Y,ge);if((0,ae.T)(Y))return function M(Y,ge){return new W.y(be=>{let ue;return(0,N.f)(be,ge,()=>{ue=Y[V.h](),(0,N.f)(be,ge,()=>{let Ee,ye;try{({value:Ee,done:ye}=ue.next())}catch(Ne){return void be.error(Ne)}ye?be.complete():be.next(Ee)},0,!0)}),()=>(0,H.m)(ue?.return)&&ue.return()})}(Y,ge);if((0,J.L)(Y))return function _e(Y,ge){return U((0,J.Q)(Y),ge)}(Y,ge)}throw(0,Z.z)(Y)}(Y,ge):(0,a.Xf)(Y)}},4829:(Le,Ce,P)=>{"use strict";P.d(Ce,{Xf:()=>B});var a=P(7582),L=P(4266),O=P(4026),z=P(5592),ee=P(8382),W=P(5726),X=P(9853),V=P(3664),H=P(541),N=P(4674),M=P(3894),U=P(4850);function B(G){if(G instanceof z.y)return G;if(null!=G){if((0,ee.c)(G))return function $(G){return new z.y(he=>{const Y=G[U.L]();if((0,N.m)(Y.subscribe))return Y.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(G);if((0,L.z)(G))return function ne(G){return new z.y(he=>{for(let Y=0;Y<G.length&&!he.closed;Y++)he.next(G[Y]);he.complete()})}(G);if((0,O.t)(G))return function ae(G){return new z.y(he=>{G.then(Y=>{he.closed||(he.next(Y),he.complete())},Y=>he.error(Y)).then(null,M.h)})}(G);if((0,W.D)(G))return Z(G);if((0,V.T)(G))return function pe(G){return new z.y(he=>{for(const Y of G)if(he.next(Y),he.closed)return;he.complete()})}(G);if((0,H.L)(G))return function J(G){return Z((0,H.Q)(G))}(G)}throw(0,X.z)(G)}function Z(G){return new z.y(he=>{(function _e(G,he){var Y,ge,be,ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Y=(0,a.KL)(G);!(ge=yield Y.next()).done;)if(he.next(ge.value),he.closed)return}catch(Ee){be={error:Ee}}finally{try{ge&&!ge.done&&(ue=Y.return)&&(yield ue.call(Y))}finally{if(be)throw be.error}}he.complete()})})(G,he).catch(Y=>he.error(Y))})}},3019:(Le,Ce,P)=>{"use strict";P.d(Ce,{T:()=>W});var a=P(7537),L=P(4829),O=P(6232),z=P(4564),ee=P(2459);function W(...X){const V=(0,z.yG)(X),H=(0,z._6)(X,1/0),N=X;return N.length?1===N.length?(0,L.Xf)(N[0]):(0,a.J)(H)((0,ee.D)(N,V)):O.E}},2096:(Le,Ce,P)=>{"use strict";P.d(Ce,{of:()=>O});var a=P(4564),L=P(2459);function O(...z){const ee=(0,a.yG)(z);return(0,L.D)(z,ee)}},8251:(Le,Ce,P)=>{"use strict";P.d(Ce,{x:()=>L});var a=P(305);function L(z,ee,W,X,V){return new O(z,ee,W,X,V)}class O extends a.Lv{constructor(ee,W,X,V,H,N){super(ee),this.onFinalize=H,this.shouldUnsubscribe=N,this._next=W?function(M){try{W(M)}catch(U){ee.error(U)}}:super._next,this._error=V?function(M){try{V(M)}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(M){ee.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},3997:(Le,Ce,P)=>{"use strict";P.d(Ce,{x:()=>z});var a=P(2737),L=P(9360),O=P(8251);function z(W,X=a.y){return W=W??ee,(0,L.e)((V,H)=>{let N,M=!0;V.subscribe((0,O.x)(H,U=>{const B=X(U);(M||!W(N,B))&&(M=!1,N=B,H.next(U))}))})}function ee(W,X){return W===X}},7398:(Le,Ce,P)=>{"use strict";P.d(Ce,{U:()=>O});var a=P(9360),L=P(8251);function O(z,ee){return(0,a.e)((W,X)=>{let V=0;W.subscribe((0,L.x)(X,H=>{X.next(z.call(ee,H,V++))}))})}},7537:(Le,Ce,P)=>{"use strict";P.d(Ce,{J:()=>O});var a=P(1631),L=P(2737);function O(z=1/0){return(0,a.z)(L.y,z)}},1631:(Le,Ce,P)=>{"use strict";P.d(Ce,{z:()=>V});var a=P(7398),L=P(4829),O=P(9360),z=P(7103),ee=P(8251),X=P(4674);function V(H,N,M=1/0){return(0,X.m)(N)?V((U,B)=>(0,a.U)(($,ne)=>N(U,$,B,ne))((0,L.Xf)(H(U,B))),M):("number"==typeof N&&(M=N),(0,O.e)((U,B)=>function W(H,N,M,U,B,$,ne,ae){const pe=[];let Z=0,J=0,_e=!1;const G=()=>{_e&&!pe.length&&!Z&&N.complete()},he=ge=>Z<U?Y(ge):pe.push(ge),Y=ge=>{$&&N.next(ge),Z++;let be=!1;(0,L.Xf)(M(ge,J++)).subscribe((0,ee.x)(N,ue=>{B?.(ue),$?he(ue):N.next(ue)},()=>{be=!0},void 0,()=>{if(be)try{for(Z--;pe.length&&Z<U;){const ue=pe.shift();ne?(0,z.f)(N,ne,()=>Y(ue)):Y(ue)}G()}catch(ue){N.error(ue)}}))};return H.subscribe((0,ee.x)(N,he,()=>{_e=!0,G()})),()=>{ae?.()}}(U,B,H,M)))}},3093:(Le,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>z});var a=P(7103),L=P(9360),O=P(8251);function z(ee,W=0){return(0,L.e)((X,V)=>{X.subscribe((0,O.x)(V,H=>(0,a.f)(V,ee,()=>V.next(H),W),()=>(0,a.f)(V,ee,()=>V.complete(),W),H=>(0,a.f)(V,ee,()=>V.error(H),W)))})}},3020:(Le,Ce,P)=>{"use strict";P.d(Ce,{B:()=>ee});var a=P(4829),L=P(8645),O=P(305),z=P(9360);function ee(X={}){const{connector:V=(()=>new L.x),resetOnError:H=!0,resetOnComplete:N=!0,resetOnRefCountZero:M=!0}=X;return U=>{let B,$,ne,ae=0,pe=!1,Z=!1;const J=()=>{$?.unsubscribe(),$=void 0},_e=()=>{J(),B=ne=void 0,pe=Z=!1},G=()=>{const he=B;_e(),he?.unsubscribe()};return(0,z.e)((he,Y)=>{ae++,!Z&&!pe&&J();const ge=ne=ne??V();Y.add(()=>{ae--,0===ae&&!Z&&!pe&&($=W(G,M))}),ge.subscribe(Y),!B&&ae>0&&(B=new O.Hp({next:be=>ge.next(be),error:be=>{Z=!0,J(),$=W(_e,H,be),ge.error(be)},complete:()=>{pe=!0,J(),$=W(_e,N),ge.complete()}}),(0,a.Xf)(he).subscribe(B))})(U)}}function W(X,V,...H){if(!0===V)return void X();if(!1===V)return;const N=new O.Hp({next:()=>{N.unsubscribe(),X()}});return(0,a.Xf)(V(...H)).subscribe(N)}},5137:(Le,Ce,P)=>{"use strict";P.d(Ce,{R:()=>L});var a=P(9360);function L(O,z=0){return(0,a.e)((ee,W)=>{W.add(O.schedule(()=>ee.subscribe(W),z))})}},4664:(Le,Ce,P)=>{"use strict";P.d(Ce,{w:()=>z});var a=P(4829),L=P(9360),O=P(8251);function z(ee,W){return(0,L.e)((X,V)=>{let H=null,N=0,M=!1;const U=()=>M&&!H&&V.complete();X.subscribe((0,O.x)(V,B=>{H?.unsubscribe();let $=0;const ne=N++;(0,a.Xf)(ee(B,ne)).subscribe(H=(0,O.x)(V,ae=>V.next(W?W(B,ae,ne,$++):ae),()=>{H=null,U()}))},()=>{M=!0,U()}))})}},9397:(Le,Ce,P)=>{"use strict";P.d(Ce,{b:()=>ee});var a=P(4674),L=P(9360),O=P(8251),z=P(2737);function ee(W,X,V){const H=(0,a.m)(W)||X||V?{next:W,error:X,complete:V}:W;return H?(0,L.e)((N,M)=>{var U;null===(U=H.subscribe)||void 0===U||U.call(H);let B=!0;N.subscribe((0,O.x)(M,$=>{var ne;null===(ne=H.next)||void 0===ne||ne.call(H,$),M.next($)},()=>{var $;B=!1,null===($=H.complete)||void 0===$||$.call(H),M.complete()},$=>{var ne;B=!1,null===(ne=H.error)||void 0===ne||ne.call(H,$),M.error($)},()=>{var $,ne;B&&(null===($=H.unsubscribe)||void 0===$||$.call(H)),null===(ne=H.finalize)||void 0===ne||ne.call(H)}))}):z.y}},1954:(Le,Ce,P)=>{"use strict";P.d(Ce,{o:()=>ee});var a=P(7394);class L extends a.w0{constructor(X,V){super()}schedule(X,V=0){return this}}const O={setInterval(W,X,...V){const{delegate:H}=O;return H?.setInterval?H.setInterval(W,X,...V):setInterval(W,X,...V)},clearInterval(W){const{delegate:X}=O;return(X?.clearInterval||clearInterval)(W)},delegate:void 0};var z=P(9039);class ee extends L{constructor(X,V){super(X,V),this.scheduler=X,this.work=V,this.pending=!1}schedule(X,V=0){var H;if(this.closed)return this;this.state=X;const N=this.id,M=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId(M,N,V)),this.pending=!0,this.delay=V,this.id=null!==(H=this.id)&&void 0!==H?H:this.requestAsyncId(M,this.id,V),this}requestAsyncId(X,V,H=0){return O.setInterval(X.flush.bind(X,this),H)}recycleAsyncId(X,V,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return V;null!=V&&O.clearInterval(V)}execute(X,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(X,V);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,V){let N,H=!1;try{this.work(X)}catch(M){H=!0,N=M||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),N}unsubscribe(){if(!this.closed){const{id:X,scheduler:V}=this,{actions:H}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.P)(H,this),null!=X&&(this.id=this.recycleAsyncId(V,X,null)),this.delay=null,super.unsubscribe()}}}},2631:(Le,Ce,P)=>{"use strict";P.d(Ce,{v:()=>O});var a=P(4552);class L{constructor(ee,W=L.now){this.schedulerActionCtor=ee,this.now=W}schedule(ee,W=0,X){return new this.schedulerActionCtor(this,ee).schedule(X,W)}}L.now=a.l.now;class O extends L{constructor(ee,W=L.now){super(ee,W),this.actions=[],this._active=!1}flush(ee){const{actions:W}=this;if(this._active)return void W.push(ee);let X;this._active=!0;do{if(X=ee.execute(ee.state,ee.delay))break}while(ee=W.shift());if(this._active=!1,X){for(;ee=W.shift();)ee.unsubscribe();throw X}}}},6321:(Le,Ce,P)=>{"use strict";P.d(Ce,{z:()=>O});var a=P(1954);const O=new(P(2631).v)(a.o)},4552:(Le,Ce,P)=>{"use strict";P.d(Ce,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(Le,Ce,P)=>{"use strict";P.d(Ce,{z:()=>a});const a={setTimeout(L,O,...z){const{delegate:ee}=a;return ee?.setTimeout?ee.setTimeout(L,O,...z):setTimeout(L,O,...z)},clearTimeout(L){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(Le,Ce,P)=>{"use strict";P.d(Ce,{h:()=>L});const L=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Le,Ce,P)=>{"use strict";P.d(Ce,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Le,Ce,P)=>{"use strict";P.d(Ce,{_6:()=>W,jO:()=>z,yG:()=>ee});var a=P(4674);function O(X){return X[X.length-1]}function z(X){return(0,a.m)(O(X))?X.pop():void 0}function ee(X){return function L(X){return X&&(0,a.m)(X.schedule)}(O(X))?X.pop():void 0}function W(X,V){return"number"==typeof O(X)?X.pop():V}},9039:(Le,Ce,P)=>{"use strict";function a(L,O){if(L){const z=L.indexOf(O);0<=z&&L.splice(z,1)}}P.d(Ce,{P:()=>a})},2306:(Le,Ce,P)=>{"use strict";function a(L){const z=L(ee=>{Error.call(ee),ee.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}P.d(Ce,{d:()=>a})},1441:(Le,Ce,P)=>{"use strict";P.d(Ce,{O:()=>z,x:()=>O});var a=P(2653);let L=null;function O(ee){if(a.config.useDeprecatedSynchronousErrorHandling){const W=!L;if(W&&(L={errorThrown:!1,error:null}),ee(),W){const{errorThrown:X,error:V}=L;if(L=null,X)throw V}}else ee()}function z(ee){a.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ee)}},7103:(Le,Ce,P)=>{"use strict";function a(L,O,z,ee=0,W=!1){const X=O.schedule(function(){z(),W?L.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(L.add(X),!W)return X}P.d(Ce,{f:()=>a})},2737:(Le,Ce,P)=>{"use strict";function a(L){return L}P.d(Ce,{y:()=>a})},4266:(Le,Ce,P)=>{"use strict";P.d(Ce,{z:()=>a});const a=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(Le,Ce,P)=>{"use strict";P.d(Ce,{D:()=>L});var a=P(4674);function L(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},4674:(Le,Ce,P)=>{"use strict";function a(L){return"function"==typeof L}P.d(Ce,{m:()=>a})},8382:(Le,Ce,P)=>{"use strict";P.d(Ce,{c:()=>O});var a=P(4850),L=P(4674);function O(z){return(0,L.m)(z[a.L])}},3664:(Le,Ce,P)=>{"use strict";P.d(Ce,{T:()=>O});var a=P(4971),L=P(4674);function O(z){return(0,L.m)(z?.[a.h])}},4026:(Le,Ce,P)=>{"use strict";P.d(Ce,{t:()=>L});var a=P(4674);function L(O){return(0,a.m)(O?.then)}},541:(Le,Ce,P)=>{"use strict";P.d(Ce,{L:()=>z,Q:()=>O});var a=P(7582),L=P(4674);function O(ee){return(0,a.FC)(this,arguments,function*(){const X=ee.getReader();try{for(;;){const{value:V,done:H}=yield(0,a.qq)(X.read());if(H)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(V)}}finally{X.releaseLock()}})}function z(ee){return(0,L.m)(ee?.getReader)}},9360:(Le,Ce,P)=>{"use strict";P.d(Ce,{A:()=>L,e:()=>O});var a=P(4674);function L(z){return(0,a.m)(z?.lift)}function O(z){return ee=>{if(L(ee))return ee.lift(function(W){try{return z(W,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Le,Ce,P)=>{"use strict";function a(){}P.d(Ce,{Z:()=>a})},8407:(Le,Ce,P)=>{"use strict";P.d(Ce,{U:()=>O,z:()=>L});var a=P(2737);function L(...z){return O(z)}function O(z){return 0===z.length?a.y:1===z.length?z[0]:function(W){return z.reduce((X,V)=>V(X),W)}}},3894:(Le,Ce,P)=>{"use strict";P.d(Ce,{h:()=>O});var a=P(2653),L=P(7599);function O(z){L.z.setTimeout(()=>{const{onUnhandledError:ee}=a.config;if(!ee)throw z;ee(z)})}},9853:(Le,Ce,P)=>{"use strict";function a(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>a})},2480:()=>{},5879:(Le,Ce,P)=>{"use strict";P.d(Ce,{$8M:()=>Al,$WT:()=>gc,$Z:()=>Wh,AFp:()=>m0,AaK:()=>U,AsE:()=>Bg,CHM:()=>Yi,CRH:()=>Nv,EJc:()=>NE,EpF:()=>Uo,F4k:()=>q_,FYo:()=>XC,FiY:()=>Qu,G48:()=>eI,GfV:()=>e_,Gpc:()=>ne,HDt:()=>Fv,JOm:()=>id,KtG:()=>yp,LFG:()=>jt,LSH:()=>jy,Lbi:()=>qa,Lck:()=>Xx,MMx:()=>Cb,MR2:()=>Zy,NdJ:()=>ql,Ojb:()=>Ga,OlP:()=>Mn,Oqu:()=>Gl,P3R:()=>SD,PXZ:()=>_S,Q6J:()=>W0,QGY:()=>Q0,Qsj:()=>ug,R0b:()=>Ci,RDi:()=>_C,Rgc:()=>oc,SBq:()=>lg,Sil:()=>RE,Suo:()=>jb,TTD:()=>Dc,TgZ:()=>Pg,VKq:()=>ro,VuI:()=>wI,X6Q:()=>XE,XFs:()=>At,Xpm:()=>bu,Xq5:()=>M_,Xts:()=>tg,Y36:()=>Gh,YKP:()=>_v,YNc:()=>ff,Yjl:()=>xu,Yz7:()=>Ft,Z0I:()=>ln,ZZ4:()=>bw,_Bn:()=>yv,_UZ:()=>Og,_c5:()=>xw,_uU:()=>hb,aQg:()=>ww,c2e:()=>kf,cJS:()=>cn,cg1:()=>sv,dDg:()=>ZE,dqk:()=>fn,eFA:()=>si,eJc:()=>Zb,ekj:()=>tv,eoX:()=>$E,f3M:()=>Zt,g9A:()=>ig,h0i:()=>ru,hGG:()=>dI,hij:()=>aa,iGM:()=>yE,ifc:()=>zi,ip1:()=>OE,jDz:()=>xb,kL8:()=>av,lG2:()=>th,lnq:()=>pb,lqb:()=>$c,lri:()=>uw,n5z:()=>Ms,oAB:()=>Cu,oxw:()=>ev,q4F:()=>BD,qFp:()=>VS,qLn:()=>qh,qOj:()=>Ig,qZA:()=>pf,rWj:()=>HE,rg0:()=>pl,sBO:()=>nI,s_b:()=>Pv,soG:()=>ha,tb:()=>$v,tp0:()=>Uc,uIk:()=>sf,vHH:()=>G,vpe:()=>Wa,wAp:()=>ls,xp6:()=>i_,z2F:()=>qd,zSh:()=>HC,zs3:()=>ea});var a=P(8645),L=P(7394),O=P(5592),z=P(3019),ee=P(5619),W=P(2096),X=P(3020),V=P(4664),H=P(3997);function N(i){for(let s in i)if(i[s]===N)return s;throw Error("Could not find renamed property on target object.")}function M(i,s){for(const l in s)s.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=s[l])}function U(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(U).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function B(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=N({__forward_ref__:N});function ne(i){return i.__forward_ref__=ne,i.toString=function(){return U(this())},i}function ae(i){return pe(i)?i():i}function pe(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===ne}function Z(i){return i&&!!i.\u0275providers}const _e="https://g.co/ng/security#xss";class G extends Error{constructor(s,l){super(function he(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,l)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function ye(i,s){throw new G(-201,!1)}function nt(i,s){null==i&&function Be(i,s,l,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${l} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Ft(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function cn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jt(i){return Bn(i,Ir)||Bn(i,_n)}function ln(i){return null!==Jt(i)}function Bn(i,s){return i.hasOwnProperty(s)?i[s]:null}function li(i){return i&&(i.hasOwnProperty(Yn)||i.hasOwnProperty(Nr))?i[Yn]:null}const Ir=N({\u0275prov:N}),Yn=N({\u0275inj:N}),_n=N({ngInjectableDef:N}),Nr=N({ngInjectorDef:N});var At=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(At||{});let Nt;function an(i){const s=Nt;return Nt=i,s}function dr(i,s,l){const u=Jt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&At.Optional?null:void 0!==s?s:void ye(U(i))}const fn=globalThis,tt={},st="__NG_DI_FLAG__",vt="ngTempTokenPath",de=/\n/gm,we="__source";let je;function at(i){const s=je;return je=i,s}function Pt(i,s=At.Default){if(void 0===je)throw new G(-203,!1);return null===je?dr(i,void 0,s):je.get(i,s&At.Optional?null:void 0,s)}function jt(i,s=At.Default){return(function Vt(){return Nt}()||Pt)(ae(i),s)}function Zt(i,s=At.Default){return jt(i,kr(s))}function kr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function qt(i){const s=[];for(let l=0;l<i.length;l++){const u=ae(i[l]);if(Array.isArray(u)){if(0===u.length)throw new G(900,!1);let h,f=At.Default;for(let v=0;v<u.length;v++){const b=u[v],C=Zo(b);"number"==typeof C?-1===C?h=b.token:f|=C:h=b}s.push(jt(h,f))}else s.push(jt(u))}return s}function Dr(i,s){return i[st]=s,i.prototype[st]=s,i}function Zo(i){return i[st]}function To(i){return{toString:i}.toString()}var ga=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(ga||{}),zi=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(zi||{});const So={},dn=[],$n=N({\u0275cmp:N}),zn=N({\u0275dir:N}),dc=N({\u0275pipe:N}),vs=N({\u0275mod:N}),Ao=N({\u0275fac:N}),Je=N({__NG_ELEMENT_ID__:N}),Ai=N({__NG_ENV_ID__:N});function Mi(i,s,l){let u=i.length;for(;;){const h=i.indexOf(s,l);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===u||i.charCodeAt(h+f)<=32)return h}l=h+1}}function Fr(i,s,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const f=l[u++],v=l[u++],b=l[u++];i.setAttribute(s,v,b,f)}else{const f=h,v=l[++u];sl(f)?i.setProperty(s,f,v):i.setAttribute(s,f,v),u++}}return u}function ol(i){return 3===i||4===i||6===i}function sl(i){return 64===i.charCodeAt(0)}function hc(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let l=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?l=h:0===l||ys(i,l,h,null,-1===l||2===l?s[++u]:null)}}return i}function ys(i,s,l,u,h){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const b=i[f++];if("number"==typeof b){if(b===s){v=-1;break}if(b>s){v=f-1;break}}}for(;f<i.length;){const b=i[f];if("number"==typeof b)break;if(b===l){if(null===u)return void(null!==h&&(i[f+1]=h));if(u===i[f+1])return void(i[f+2]=h)}f++,null!==u&&f++,null!==h&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,l),null!==u&&i.splice(f++,0,u),null!==h&&i.splice(f++,0,h)}const Us="ng-template";function Jd(i,s,l){let u=0,h=!0;for(;u<i.length;){let f=i[u++];if("string"==typeof f&&h){const v=i[u++];if(l&&"class"===f&&-1!==Mi(v.toLowerCase(),s,0))return!0}else{if(1===f){for(;u<i.length&&"string"==typeof(f=i[u++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function Pi(i){return 4===i.type&&i.value!==Us}function km(i,s,l){return s===(4!==i.type||l?i.value:Us)}function np(i,s,l){let u=4;const h=i.attrs||[],f=function rp(i){for(let s=0;s<i.length;s++)if(ol(i[s]))return s;return i.length}(h);let v=!1;for(let b=0;b<s.length;b++){const C=s[b];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!km(i,C,l)||""===C&&1===s.length){if(hn(u))return!1;v=!0}}else{const S=8&u?C:s[++b];if(8&u&&null!==i.attrs){if(!Jd(i.attrs,S,l)){if(hn(u))return!1;v=!0}continue}const K=Nn(8&u?"class":C,h,Pi(i),l);if(-1===K){if(hn(u))return!1;v=!0;continue}if(""!==S){let ve;ve=K>f?"":h[K+1].toLowerCase();const xe=8&u?ve:null;if(xe&&-1!==Mi(xe,S,0)||2&u&&S!==ve){if(hn(u))return!1;v=!0}}}}else{if(!v&&!hn(u)&&!hn(C))return!1;if(v&&hn(C))continue;v=!1,u=C|1&u}}return hn(u)||v}function hn(i){return 0==(1&i)}function Nn(i,s,l,u){if(null===s)return-1;let h=0;if(u||!l){let f=!1;for(;h<s.length;){const v=s[h];if(v===i)return h;if(3===v||6===v)f=!0;else{if(1===v||2===v){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=f?1:2}return-1}return function Qd(i,s){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const u=i[l];if("number"==typeof u)return-1;if(u===s)return l;l++}return-1}(s,i)}function al(i,s,l=!1){for(let u=0;u<s.length;u++)if(np(i,s[u],l))return!0;return!1}function zo(i,s){return i?":not("+s.trim()+")":s}function ip(i){let s=i[0],l=1,u=2,h="",f=!1;for(;l<i.length;){let v=i[l];if("string"==typeof v)if(2&u){const b=i[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!hn(v)&&(s+=zo(f,h),h=""),u=v,f=f||!hn(u);l++}return""!==h&&(s+=zo(f,h)),s}function bu(i){return To(()=>{const s=ma(i),l={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ga.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||zi.Emulated,styles:i.styles||dn,_:null,schemas:i.schemas||null,tView:null,id:""};qo(l);const u=i.dependencies;return l.directiveDefs=Go(u,!1),l.pipeDefs=Go(u,!0),l.id=function qi(i){let s=0;const l=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of l)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(l),l})}function wu(i){return tn(i)||Tr(i)}function pc(i){return null!==i}function Cu(i){return To(()=>({type:i.type,bootstrap:i.bootstrap||dn,declarations:i.declarations||dn,imports:i.imports||dn,exports:i.exports||dn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function eh(i,s){if(null==i)return So;const l={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),l[h]=u,s&&(s[h]=f)}return l}function th(i){return To(()=>{const s=ma(i);return qo(s),s})}function xu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function tn(i){return i[$n]||null}function Tr(i){return i[zn]||null}function Sr(i){return i[dc]||null}function gc(i){const s=tn(i)||Tr(i)||Sr(i);return null!==s&&s.standalone}function Oi(i,s){const l=i[vs]||null;if(!l&&!0===s)throw new Error(`Type ${U(i)} does not have '\u0275mod' property.`);return l}function ma(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||So,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||dn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eh(i.inputs,s),outputs:eh(i.outputs)}}function qo(i){i.features?.forEach(s=>s(i))}function Go(i,s){if(!i)return null;const l=s?Sr:wu;return()=>("function"==typeof i?i():i).map(u=>l(u)).filter(pc)}const er=0,it=1,Ut=2,Tn=3,di=4,_s=5,Ar=6,va=7,Sn=8,Ni=9,Vs=10,Bt=11,Mo=12,mc=13,Wr=14,cr=15,vc=16,yc=17,co=18,_c=19,Eu=20,Bs=21,lo=22,bc=23,bs=24,nn=25,Iu=1,Du=2,Kr=7,hi=9,Mr=11;function Ur(i){return Array.isArray(i)&&"object"==typeof i[Iu]}function Yr(i){return Array.isArray(i)&&!0===i[Iu]}function Tu(i){return 0!=(4&i.flags)}function ws(i){return i.componentOffset>-1}function Gi(i){return 1==(1&i.flags)}function Wi(i){return!!i.template}function wc(i){return 0!=(512&i[Ut])}function fi(i,s){return i.hasOwnProperty(Ao)?i[Ao]:null}let Vr=null,Cc=!1;function tr(i){const s=Vr;return Vr=i,s}const ho={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Nu(i){if(!xa(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Ki(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function cp(i){i.dirty=!0,function Ru(i){if(void 0===i.liveConsumerNode)return;const s=Cc;Cc=!0;try{for(const l of i.liveConsumerNode)l.dirty||cp(l)}finally{Cc=s}}(i),i.consumerMarkedDirty?.(i)}function xs(i){return i&&(i.nextProducerIndex=0),tr(i)}function wa(i,s){if(tr(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(xa(i))for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)pi(i.producerNode[l],i.producerIndexOfThis[l]);for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Ki(i){Ea(i);for(let s=0;s<i.producerNode.length;s++){const l=i.producerNode[s],u=i.producerLastReadVersion[s];if(u!==l.version||(Nu(l),u!==l.version))return!0}return!1}function sh(i){if(Ea(i),xa(i))for(let s=0;s<i.producerNode.length;s++)pi(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function pi(i,s){if(function ul(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Ea(i),1===i.liveConsumerNode.length)for(let u=0;u<i.producerNode.length;u++)pi(i.producerNode[u],i.producerIndexOfThis[u]);const l=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[l],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[l],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const u=i.liveConsumerIndexOfThis[s],h=i.liveConsumerNode[s];Ea(h),h.producerIndexOfThis[u]=s}}function xa(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Ea(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let hl=null;function pl(i){const s=tr(null);try{return i()}finally{tr(s)}}const ah=()=>{},ch={...ho,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:ah};class uh{constructor(s,l,u){this.previousValue=s,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Dc(){return gl}function gl(i){return i.type.prototype.ngOnChanges&&(i.setInput=Uu),dh}function dh(){const i=vl(this),s=i?.current;if(s){const l=i.previous;if(l===So)i.previous=s;else for(let u in s)l[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Uu(i,s,l,u){const h=this.declaredInputs[l],f=vl(i)||function hp(i,s){return i[ml]=s}(i,{previous:So,current:null}),v=f.current||(f.current={}),b=f.previous,C=b[h];v[h]=new uh(C&&C.currentValue,s,b===So),i[u]=s}Dc.ngInherit=!0;const ml="__ngSimpleChanges__";function vl(i){return i[ml]||null}const fo=function(i,s,l){};function mn(i){for(;Array.isArray(i);)i=i[er];return i}function Ta(i,s){return mn(s[i])}function gi(i,s){return mn(s[i.index])}function yl(i,s){return i.data[s]}function mi(i,s){const l=s[i];return Ur(l)?l:l[er]}function Zs(i,s){return null==s?null:i[s]}function $m(i){i[yc]=0}function uy(i){1024&i[Ut]||(i[Ut]|=1024,hy(i,1))}function dy(i){1024&i[Ut]&&(i[Ut]&=-1025,hy(i,-1))}function hy(i,s){let l=i[Tn];if(null===l)return;l[_s]+=s;let u=l;for(l=l[Tn];null!==l&&(1===s&&1===u[_s]||-1===s&&0===u[_s]);)l[_s]+=s,u=l,l=l[Tn]}const Lt={lFrame:bl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Aa(){return Lt.bindingsEnabled}function ze(){return Lt.lFrame.lView}function pn(){return Lt.lFrame.tView}function Yi(i){return Lt.lFrame.contextLView=i,i[Sn]}function yp(i){return Lt.lFrame.contextLView=null,i}function Hn(){let i=Ma();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ma(){return Lt.lFrame.currentTNode}function Ri(i,s){const l=Lt.lFrame;l.currentTNode=i,l.isParent=s}function Br(){return Lt.lFrame.isParent}function Ds(){return Lt.lFrame.bindingIndex}function Ac(){return Lt.lFrame.bindingIndex++}function po(i){const s=Lt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,l}function Mc(i,s){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=i,Pc(s)}function Pc(i){Lt.lFrame.currentDirectiveIndex=i}function Cp(){return Lt.lFrame.currentQueryIndex}function zu(i){Lt.lFrame.currentQueryIndex=i}function xp(i){const s=i[it];return 2===s.type?s.declTNode:1===s.type?i[Ar]:null}function Ep(i,s,l){if(l&At.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||l&At.Host||(h=xp(f),null===h||(f=f[Wr],10&h.type))););if(null===h)return!1;s=h,i=f}const u=Lt.lFrame=mo();return u.currentTNode=s,u.lView=i,!0}function go(i){const s=mo(),l=i[it];Lt.lFrame=s,s.currentTNode=l.firstChild,s.lView=i,s.tView=l,s.contextLView=i,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function mo(){const i=Lt.lFrame,s=null===i?null:i.child;return null===s?bl(i):s}function bl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Zn(){const i=Lt.lFrame;return Lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Mt=Zn;function ki(){const i=Zn();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qr(){return Lt.lFrame.selectedIndex}function Yo(i){Lt.lFrame.selectedIndex=i}function Ln(){const i=Lt.lFrame;return yl(i.tView,i.selectedIndex)}let El=!0;function Ro(){return El}function Ji(i){El=i}function Oc(i,s){for(let l=s.directiveStart,u=s.directiveEnd;l<u;l++){const f=i.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:F}=f;v&&(i.contentHooks??=[]).push(-l,v),b&&((i.contentHooks??=[]).push(l,b),(i.contentCheckHooks??=[]).push(l,b)),C&&(i.viewHooks??=[]).push(-l,C),S&&((i.viewHooks??=[]).push(l,S),(i.viewCheckHooks??=[]).push(l,S)),null!=F&&(i.destroyHooks??=[]).push(l,F)}}function Pr(i,s,l){wh(i,s,3,l)}function Oa(i,s,l,u){(3&i[Ut])===l&&wh(i,s,l,u)}function qu(i,s){let l=i[Ut];(3&l)===s&&(l&=8191,l+=1,i[Ut]=l)}function wh(i,s,l,u){const f=u??-1,v=s.length-1;let b=0;for(let C=void 0!==u?65535&i[yc]:0;C<v;C++)if("number"==typeof s[C+1]){if(b=s[C],null!=u&&b>=u)break}else s[C]<0&&(i[yc]+=65536),(b<f||-1==f)&&(Il(i,l,s,C),i[yc]=(4294901760&i[yc])+C+2),C++}function Ts(i,s){fo(4,i,s);const l=tr(null);try{s.call(i)}finally{tr(l),fo(5,i,s)}}function Il(i,s,l,u){const h=l[u]<0,f=l[u+1],b=i[h?-l[u]:l[u]];h?i[Ut]>>13<i[yc]>>16&&(3&i[Ut])===s&&(i[Ut]+=8192,Ts(b,f)):Ts(b,f)}const ko=-1;class Fi{constructor(s,l,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Rc(i){return i!==ko}function jr(i){return 32767&i}function _i(i,s){let l=function yr(i){return i>>16}(i),u=s;for(;l>0;)u=u[Wr],l--;return u}let Na=!0;function Xr(i){const s=Na;return Na=i,s}const kc=255,Dl=5;let Eh=0;const _r={};function hr(i,s){const l=Tl(i,s);if(-1!==l)return l;const u=s[it];u.firstCreatePass&&(i.injectorIndex=s.length,Jo(u.data,i),Jo(s,null),Jo(u.blueprint,null));const h=Qo(i,s),f=i.injectorIndex;if(Rc(h)){const v=jr(h),b=_i(h,s),C=b[it].data;for(let S=0;S<8;S++)s[f+S]=b[v+S]|C[v+S]}return s[f+8]=h,f}function Jo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Tl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Qo(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,u=null,h=s;for(;null!==h;){if(u=Yu(h),null===u)return ko;if(l++,h=h[Wr],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return ko}function $s(i,s,l){!function Ra(i,s,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Je)&&(u=l[Je]),null==u&&(u=l[Je]=Eh++);const h=u&kc;s.data[i+(h>>Dl)]|=1<<h}(i,s,l)}function zs(i,s,l){if(l&At.Optional||void 0!==i)return i;ye()}function Xo(i,s,l,u){if(l&At.Optional&&void 0===u&&(u=null),!(l&(At.Self|At.Host))){const h=i[Ni],f=an(void 0);try{return h?h.get(s,u,l&At.Optional):dr(s,u,l&At.Optional)}finally{an(f)}}return zs(u,0,l)}function Sl(i,s,l,u=At.Default,h){if(null!==i){if(2048&s[Ut]&&!(u&At.Self)){const v=function Sp(i,s,l,u,h){let f=i,v=s;for(;null!==f&&null!==v&&2048&v[Ut]&&!(512&v[Ut]);){const b=Ih(f,v,l,u|At.Self,_r);if(b!==_r)return b;let C=f.parent;if(!C){const S=v[Eu];if(S){const F=S.get(l,_r,u);if(F!==_r)return F}C=Yu(v),v=v[Wr]}f=C}return h}(i,s,l,u,_r);if(v!==_r)return v}const f=Ih(i,s,l,u,_r);if(f!==_r)return f}return Xo(s,l,u,h)}function Ih(i,s,l,u,h){const f=function Gs(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Je)?i[Je]:void 0;return"number"==typeof s?s>=0?s&kc:es:s}(l);if("function"==typeof f){if(!Ep(s,i,u))return u&At.Host?zs(h,0,u):Xo(s,l,u,h);try{let v;if(v=f(u),null!=v||u&At.Optional)return v;ye()}finally{Mt()}}else if("number"==typeof f){let v=null,b=Tl(i,s),C=ko,S=u&At.Host?s[cr][Ar]:null;for((-1===b||u&At.SkipSelf)&&(C=-1===b?Qo(i,s):s[b+8],C!==ko&&Ku(u,!1)?(v=s[it],b=jr(C),s=_i(C,s)):b=-1);-1!==b;){const F=s[it];if(Ws(f,b,F.data)){const K=Gt(b,s,l,v,u,S);if(K!==_r)return K}C=s[b+8],C!==ko&&Ku(u,s[it].data[b+8]===S)&&Ws(f,b,s)?(v=F,b=jr(C),s=_i(C,s)):b=-1}}return h}function Gt(i,s,l,u,h,f){const v=s[it],b=v.data[i+8],F=As(b,v,l,null==u?ws(b)&&Na:u!=v&&0!=(3&b.type),h&At.Host&&f===b);return null!==F?qs(s,v,F,b):_r}function As(i,s,l,u,h){const f=i.providerIndexes,v=s.data,b=1048575&f,C=i.directiveStart,F=f>>20,ve=h?b+F:i.directiveEnd;for(let xe=u?b:b+F;xe<ve;xe++){const Ve=v[xe];if(xe<C&&l===Ve||xe>=C&&Ve.type===l)return xe}if(h){const xe=v[C];if(xe&&Wi(xe)&&xe.type===l)return C}return null}function qs(i,s,l,u){let h=i[l];const f=s.data;if(function Nc(i){return i instanceof Fi}(h)){const v=h;v.resolving&&function be(i,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new G(-200,`Circular dependency in DI detected for ${i}${l}`)}(function ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}(f[l]));const b=Xr(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?an(v.injectImpl):null;Ep(i,u,At.Default);try{h=i[l]=v.factory(void 0,f,i,u),s.firstCreatePass&&l>=u.directiveStart&&function yi(i,s,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(u){const v=gl(s);(l.preOrderHooks??=[]).push(i,v),(l.preOrderCheckHooks??=[]).push(i,v)}h&&(l.preOrderHooks??=[]).push(0-i,h),f&&((l.preOrderHooks??=[]).push(i,f),(l.preOrderCheckHooks??=[]).push(i,f))}(l,f[l],s)}finally{null!==S&&an(S),Xr(b),v.resolving=!1,Mt()}}return h}function Ws(i,s,l){return!!(l[s+(i>>Dl)]&1<<i)}function Ku(i,s){return!(i&At.Self||i&At.Host&&s)}class Qn{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,u){return Sl(this._tNode,this._lView,s,kr(u),l)}}function es(){return new Qn(Hn(),ze())}function Ms(i){return To(()=>{const s=i.prototype.constructor,l=s[Ao]||ka(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const f=h[Ao]||ka(h);if(f&&f!==l)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function ka(i){return pe(i)?()=>{const s=ka(ae(i));return s&&s()}:fi(i)}function Yu(i){const s=i[it],l=s.type;return 2===l?s.declTNode:1===l?i[Ar]:null}function Al(i){return function Wu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const l=i.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const f=l[h];if(ol(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(f===s)return l[h+1];h+=2}}}return null}(Hn(),i)}const La="__parameters__";function j(i,s,l){return To(()=>{const u=function A(i){return function(...l){if(i){const u=i(...l);for(const h in u)this[h]=u[h]}}}(s);function h(...f){if(this instanceof h)return u.apply(this,f),this;const v=new h(...f);return b.annotation=v,b;function b(C,S,F){const K=C.hasOwnProperty(La)?C[La]:Object.defineProperty(C,La,{value:[]})[La];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function ei(i,s){i.forEach(l=>Array.isArray(l)?ei(l,s):s(l))}function Gm(i,s,l){s>=i.length?i.push(l):i.splice(s,0,l)}function Ap(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function yo(i,s,l){let u=Ml(i,s);return u>=0?i[1|u]=l:(u=~u,function Km(i,s,l,u){let h=i.length;if(h==s)i.push(l,u);else if(1===h)i.push(u,i[0]),i[0]=l;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=l,i[s+1]=u}}(i,u,s,l)),u}function Pp(i,s){const l=Ml(i,s);if(l>=0)return i[1|l]}function Ml(i,s){return function Op(i,s,l){let u=0,h=i.length>>l;for(;h!==u;){const f=u+(h-u>>1),v=i[f<<l];if(s===v)return f<<l;v>s?h=f:u=f+1}return~(h<<l)}(i,s,1)}const Qu=Dr(j("Optional"),8),Uc=Dr(j("SkipSelf"),4);function Ph(i){return 128==(128&i.flags)}var id=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(id||{});const sd=new Map;let Cy=0;const ad="__ngContext__";function wi(i,s){Ur(s)?(i[ad]=s[_c],function $p(i){sd.set(i[_c],i)}(s)):i[ad]=s}let q;function re(i,s){return q(i,s)}function ke(i){const s=i[Tn];return Yr(s)?s[Tn]:s}function Et(i){return An(i[Mo])}function Qt(i){return An(i[di])}function An(i){for(;null!==i&&!Yr(i);)i=i[di];return i}function pr(i,s,l,u,h){if(null!=u){let f,v=!1;Yr(u)?f=u:Ur(u)&&(v=!0,u=u[er]);const b=mn(u);0===i&&null!==l?null==h?dC(s,l,b):ld(s,l,b,h||null,!0):1===i&&null!==l?ld(s,l,b,h||null,!0):2===i?function c0(i,s,l){const u=a0(i,s);u&&function gD(i,s,l,u){i.removeChild(s,l,u)}(i,u,s,l)}(s,b,v):3===i&&s.destroyNode(b),null!=f&&function vD(i,s,l,u,h){const f=l[Kr];f!==mn(l)&&pr(s,i,u,f,h);for(let b=Mr;b<l.length;b++){const C=l[b];Yp(C[it],C,i,s,u,f)}}(s,i,f,l,h)}}function Fl(i,s,l){return i.createElement(s,l)}function o0(i,s){const l=i[hi],u=l.indexOf(s);dy(s),l.splice(u,1)}function s0(i,s){if(i.length<=Mr)return;const l=Mr+s,u=i[l];if(u){const h=u[vc];null!==h&&h!==i&&o0(h,u),s>0&&(i[l-1][di]=u[di]);const f=Ap(i,Mr+s);!function n0(i,s){Yp(i,s,s[Bt],2,null,null),s[er]=null,s[Ar]=null}(u[it],u);const v=f[co];null!==v&&v.detachView(f[it]),u[Tn]=null,u[di]=null,u[Ut]&=-129}return u}function Dy(i,s){if(!(256&s[Ut])){const l=s[Bt];s[bc]&&sh(s[bc]),s[bs]&&sh(s[bs]),l.destroyNode&&Yp(i,s,l,3,null,null),function r0(i){let s=i[Mo];if(!s)return lC(i[it],i);for(;s;){let l=null;if(Ur(s))l=s[Mo];else{const u=s[Mr];u&&(l=u)}if(!l){for(;s&&!s[di]&&s!==i;)Ur(s)&&lC(s[it],s),s=s[Tn];null===s&&(s=i),Ur(s)&&lC(s[it],s),l=s&&s[di]}s=l}}(s)}}function lC(i,s){if(!(256&s[Ut])){s[Ut]&=-129,s[Ut]|=256,function uC(i,s){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let u=0;u<l.length;u+=2){const h=s[l[u]];if(!(h instanceof Fi)){const f=l[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const b=h[f[v]],C=f[v+1];fo(4,b,C);try{C.call(b)}finally{fo(5,b,C)}}else{fo(4,h,f);try{f.call(h)}finally{fo(5,h,f)}}}}}(i,s),function pD(i,s){const l=i.cleanup,u=s[va];if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const v=l[f+3];v>=0?u[v]():u[-v].unsubscribe(),f+=2}else l[f].call(u[l[f+1]]);null!==u&&(s[va]=null);const h=s[Bs];if(null!==h){s[Bs]=null;for(let f=0;f<h.length;f++)(0,h[f])()}}(i,s),1===s[it].type&&s[Bt].destroy();const l=s[vc];if(null!==l&&Yr(s[Tn])){l!==s[Tn]&&o0(l,s);const u=s[co];null!==u&&u.detachView(i)}!function Bc(i){sd.delete(i[_c])}(s)}}function kh(i,s,l){return function cd(i,s,l){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return l[er];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:f}=i.data[u.directiveStart+h];if(f===zi.None||f===zi.Emulated)return null}return gi(u,l)}}(i,s.parent,l)}function ld(i,s,l,u,h){i.insertBefore(s,l,u,h)}function dC(i,s,l){i.appendChild(s,l)}function hC(i,s,l,u,h){null!==u?ld(i,s,l,u,h):dC(i,s,l)}function a0(i,s){return i.parentNode(s)}let Sy,yC,u0,Ty=function pC(i,s,l){return 40&i.type?gi(i,l):null};function Wp(i,s,l,u){const h=kh(i,u,s),f=s[Bt],b=function fC(i,s,l){return Ty(i,s,l)}(u.parent||s[Ar],u,s);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)hC(f,h,l[C],b,!1);else hC(f,h,l,b,!1);void 0!==Sy&&Sy(f,u,s,l,h)}function $a(i,s){if(null!==s){const l=s.type;if(3&l)return gi(s,i);if(4&l)return My(-1,i[s.index]);if(8&l){const u=s.child;if(null!==u)return $a(i,u);{const h=i[s.index];return Yr(h)?My(-1,h):mn(h)}}if(32&l)return re(s,i)()||mn(i[s.index]);{const u=Ay(i,s);return null!==u?Array.isArray(u)?u[0]:$a(ke(i[cr]),u):$a(i,s.next)}}return null}function Ay(i,s){return null!==s?i[cr][Ar].projection[s.projection]:null}function My(i,s){const l=Mr+i+1;if(l<s.length){const u=s[l],h=u[it].firstChild;if(null!==h)return $a(u,h)}return s[Kr]}function Kp(i,s,l,u,h,f,v){for(;null!=l;){const b=u[l.index],C=l.type;if(v&&0===s&&(b&&wi(mn(b),u),l.flags|=2),32!=(32&l.flags))if(8&C)Kp(i,s,l.child,u,h,f,!1),pr(s,i,h,b,f);else if(32&C){const S=re(l,u);let F;for(;F=S();)pr(s,i,h,F,f);pr(s,i,h,b,f)}else 16&C?Oy(i,s,u,l,h,f):pr(s,i,h,b,f);l=v?l.projectionNext:l.next}}function Yp(i,s,l,u,h,f){Kp(l,u,i.firstChild,s,h,f,!1)}function Oy(i,s,l,u,h,f){const v=l[cr],C=v[Ar].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)pr(s,i,h,C[S],f);else{let S=C;const F=v[Tn];Ph(u)&&(S.flags|=128),Kp(i,s,S,F,h,f,!0)}}function mC(i,s,l){""===l?i.removeAttribute(s,"class"):i.setAttribute(s,"class",l)}function Jp(i,s,l){const{mergedAttrs:u,classes:h,styles:f}=l;null!==u&&Fr(i,s,u),null!==h&&mC(i,s,h),null!==f&&function _D(i,s,l){i.setAttribute(s,"style",l)}(i,s,f)}function _C(i){yC=i}function CC(i){return function Ry(){if(void 0===u0&&(u0=null,fn.trustedTypes))try{u0=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return u0}()?.createScriptURL(i)||i}class xC{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_e})`}}function Hc(i){return i instanceof xC?i.changingThisBreaksApplicationSecurity:i}function Ul(i,s){const l=function IC(i){return i instanceof xC&&i.getTypeName()||null}(i);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${_e})`)}return l===s}const DC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dd=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(dd||{});function jy(i){const s=f0();return s?s.sanitize(dd.URL,i)||"":Ul(i,"URL")?Hc(i):function Ly(i){return(i=String(i)).match(DC)?i:"unsafe:"+i}(Y(i))}function kC(i){const s=f0();if(s)return CC(s.sanitize(dd.RESOURCE_URL,i)||"");if(Ul(i,"ResourceURL"))return CC(Hc(i));throw new G(904,!1)}function SD(i,s,l){return function uM(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?kC:jy}(s,l)(i)}function f0(){const i=ze();return i&&i[Vs].sanitizer}class Mn{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ft({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tg=new Mn("ENVIRONMENT_INITIALIZER"),LC=new Mn("INJECTOR",-1),Xs=new Mn("INJECTOR_DEF_TYPES");class Hy{get(s,l=tt){if(l===tt){const u=new Error(`NullInjectorError: No provider for ${U(s)}!`);throw u.name="NullInjectorError",u}return l}}function Zy(i){return{\u0275providers:i}}function AD(...i){return{\u0275providers:UC(0,i),\u0275fromNgModule:!0}}function UC(i,...s){const l=[],u=new Set;let h;const f=v=>{l.push(v)};return ei(s,v=>{const b=v;ng(b,f,[],u)&&(h||=[],h.push(b))}),void 0!==h&&VC(h,f),l}function VC(i,s){for(let l=0;l<i.length;l++){const{ngModule:u,providers:h}=i[l];BC(h,f=>{s(f,u)})}}function ng(i,s,l,u){if(!(i=ae(i)))return!1;let h=null,f=li(i);const v=!f&&tn(i);if(f||v){if(v&&!v.standalone)return!1;h=i}else{const C=i.ngModule;if(f=li(C),!f)return!1;h=C}const b=u.has(h);if(v){if(b)return!1;if(u.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of C)ng(S,s,l,u)}}else{if(!f)return!1;{if(null!=f.imports&&!b){let S;u.add(h);try{ei(f.imports,F=>{ng(F,s,l,u)&&(S||=[],S.push(F))})}finally{}void 0!==S&&VC(S,s)}if(!b){const S=fi(h)||(()=>new h);s({provide:h,useFactory:S,deps:dn},h),s({provide:Xs,useValue:h,multi:!0},h),s({provide:tg,useValue:()=>jt(h),multi:!0},h)}const C=f.providers;if(null!=C&&!b){const S=i;BC(C,F=>{s(F,S)})}}}return h!==i&&void 0!==i.providers}function BC(i,s){for(let l of i)Z(l)&&(l=l.\u0275providers),Array.isArray(l)?BC(l,s):s(l)}const fM=N({provide:String,useValue:N});function jC(i){return null!==i&&"object"==typeof i&&fM in i}function Uh(i){return"function"==typeof i}const HC=new Mn("Set Injector scope."),$y={},pM={};let ZC;function zy(){return void 0===ZC&&(ZC=new Hy),ZC}class $c{}class p0 extends $c{get destroyed(){return this._destroyed}constructor(s,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vh(s,v=>this.processProvider(v)),this.records.set(LC,hd(void 0,this)),h.has("environment")&&this.records.set($c,hd(void 0,this));const f=this.records.get(HC);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Xs.multi,dn,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const l=at(this),u=an(void 0);try{return s()}finally{at(l),an(u)}}get(s,l=tt,u=At.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Ai))return s[Ai](this);u=kr(u);const f=at(this),v=an(void 0);try{if(!(u&At.SkipSelf)){let C=this.records.get(s);if(void 0===C){const S=function rg(i){return"function"==typeof i||"object"==typeof i&&i instanceof Mn}(s)&&Jt(s);C=S&&this.injectableDefInScope(S)?hd($C(s),$y):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&At.Self?zy():this.parent).get(s,l=u&At.Optional&&l===tt?null:l)}catch(b){if("NullInjectorError"===b.name){if((b[vt]=b[vt]||[]).unshift(U(s)),f)throw b;return function _u(i,s,l,u){const h=i[vt];throw s[we]&&h.unshift(s[we]),i.message=function tp(i,s,l,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=U(s);if(Array.isArray(s))h=s.map(U).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let b=s[v];f.push(v+":"+("string"==typeof b?JSON.stringify(b):U(b)))}h=`{${f.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${i.replace(de,"\n  ")}`}("\n"+i.message,h,l,u),i.ngTokenPath=h,i[vt]=null,i}(b,s,"R3InjectorError",this.source)}throw b}finally{an(v),at(f)}}resolveInjectorInitializers(){const s=at(this),l=an(void 0);try{const h=this.get(tg.multi,dn,At.Self);for(const f of h)f()}finally{at(s),an(l)}}toString(){const s=[],l=this.records;for(const u of l.keys())s.push(U(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(s){let l=Uh(s=ae(s))?s:ae(s&&s.provide);const u=function gM(i){return jC(i)?hd(void 0,i.useValue):hd(g0(i),$y)}(s);if(Uh(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=hd(void 0,$y,!0),h.factory=()=>qt(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,u)}hydrate(s,l){return l.value===$y&&(l.value=pM,l.value=l.factory()),"object"==typeof l.value&&l.value&&function zC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=ae(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(s){const l=this._onDestroyHooks.indexOf(s);-1!==l&&this._onDestroyHooks.splice(l,1)}}function $C(i){const s=Jt(i),l=null!==s?s.factory:fi(i);if(null!==l)return l;if(i instanceof Mn)throw new G(204,!1);if(i instanceof Function)return function qy(i){const s=i.length;if(s>0)throw function Ks(i,s){const l=[];for(let u=0;u<i;u++)l.push(s);return l}(s,"?"),new G(204,!1);const l=function Kn(i){return i&&(i[Ir]||i[_n])||null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new G(204,!1)}function g0(i,s,l){let u;if(Uh(i)){const h=ae(i);return fi(h)||$C(h)}if(jC(i))u=()=>ae(i.useValue);else if(function PD(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...qt(i.deps||[]));else if(function MD(i){return!(!i||!i.useExisting)}(i))u=()=>jt(ae(i.useExisting));else{const h=ae(i&&(i.useClass||i.provide));if(!function OD(i){return!!i.deps}(i))return fi(h)||$C(h);u=()=>new h(...qt(i.deps))}return u}function hd(i,s,l=!1){return{factory:i,value:s,multi:l?[]:void 0}}function Vh(i,s){for(const l of i)Array.isArray(l)?Vh(l,s):l&&Z(l)?Vh(l.\u0275providers,s):s(l)}const m0=new Mn("AppId",{providedIn:"root",factory:()=>Gy}),Gy="ng",ig=new Mn("Platform Initializer"),qa=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ga=new Mn("CSP nonce",{providedIn:"root",factory:()=>function ud(){if(void 0!==yC)return yC;if(typeof document<"u")return document;throw new G(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zc=(i,s,l)=>null;function Jy(i,s,l=!1){return zc(i,s,l)}class ag{}class RD{}class wM{resolveComponentFactory(s){throw function kD(i){const s=Error(`No component factory found for ${U(i)}.`);return s.ngComponent=i,s}(s)}}let cg=(()=>{class s{}return s.NULL=new wM,s})();function CM(){return md(Hn(),ze())}function md(i,s){return new lg(gi(i,s))}let lg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=CM,s})();function UD(i){return i instanceof lg?i.nativeElement:i}class XC{}let ug=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function e1(){const i=ze(),l=mi(Hn().index,i);return(Ur(l)?l:i)[Bt]}(),s})(),VD=(()=>{var i;class s{}return(i=s).\u0275prov=Ft({token:i,providedIn:"root",factory:()=>null}),s})();class e_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const BD=new e_("16.2.4"),t1={};function t_(i,s=null,l=null,u){const h=b0(i,s,l,u);return h.resolveInjectorInitializers(),h}function b0(i,s=null,l=null,u,h=new Set){const f=[l||dn,AD(i)];return u=u||("object"==typeof i?void 0:U(i)),new p0(f,s||zy(),u||null,h)}let ea=(()=>{var i;class s{static create(u,h){if(Array.isArray(u))return t_({name:""},h,u,"");{const f=u.name??"";return t_({name:f},u.parent,u.providers,f)}}}return(i=s).THROW_IF_NOT_FOUND=tt,i.NULL=new Hy,i.\u0275prov=Ft({token:i,providedIn:"any",factory:()=>jt(LC)}),i.__NG_ELEMENT_ID__=-1,s})();function n_(i){return s=>{setTimeout(i,void 0,s)}}const Wa=class s1 extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,u){let h=s,f=l||(()=>null),v=u;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),f=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(f=n_(f),h&&(h=n_(h)),v&&(v=n_(v)));const b=super.subscribe({next:h,error:f,complete:v});return s instanceof L.w0&&s.add(b),b}};function qD(...i){}class Ci{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Bl(){const i="function"==typeof fn.requestAnimationFrame;let s=fn[i?"requestAnimationFrame":"setTimeout"],l=fn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&l){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function TM(i){const s=()=>{!function GD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(fn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,a1(i),i.isCheckStableRunning=!0,C0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),a1(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,f,v,b)=>{if(function AM(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(b))return l.invokeTask(h,f,v,b);try{return WD(i),l.invokeTask(h,f,v,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),KD(i)}},onInvoke:(l,u,h,f,v,b,C)=>{try{return WD(i),l.invoke(h,f,v,b,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),KD(i)}},onHasTask:(l,u,h,f)=>{l.hasTask(h,f),u===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,a1(i),C0(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,u,h,f)=>(l.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new G(909,!1)}run(s,l,u){return this._inner.run(s,l,u)}runTask(s,l,u,h){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+h,s,DM,qD,qD);try{return f.runTask(v,l,u)}finally{f.cancelTask(v)}}runGuarded(s,l,u){return this._inner.runGuarded(s,l,u)}runOutsideAngular(s){return this._outer.run(s)}}const DM={};function C0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function a1(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function WD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function KD(i){i._nesting--,C0(i)}class SM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(s,l,u){return s.apply(l,u)}runGuarded(s,l,u){return s.apply(l,u)}runOutsideAngular(s){return s()}runTask(s,l,u,h){return s.apply(l,u)}}const YD=new Mn("",{providedIn:"root",factory:c1});function c1(){const i=Zt(Ci);let s=!0;const l=new O.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),u=new O.y(h=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const v=i.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),v.unsubscribe()}});return(0,z.T)(l,u.pipe((0,X.B)()))}function Gc(i){return i instanceof Function?i():i}let xi=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new G(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const u of this.callbacks)u.invoke()}finally{this.runningCallbacks=!1;for(const u of this.deferredCallbacks)this.callbacks.add(u);this.deferredCallbacks.clear()}}register(u){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(u)}unregister(u){this.callbacks.delete(u),this.deferredCallbacks.delete(u)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=Ft({token:i,providedIn:"root",factory:()=>new i}),s})();function vd(i){for(;i;){i[Ut]|=64;const s=ke(i);if(wc(i)&&!s)return i;i=s}return null}function h1(i){return i.ngOriginalError}class qh{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&h1(s);for(;l&&h1(l);)l=h1(l);return l||null}}const Wc=new Mn("",{providedIn:"root",factory:()=>!1});let S0=null;function hg(i,s){return i[s]??r_()}function ni(i,s){const l=r_();l.producerNode?.length&&(i[s]=S0,l.lView=i,S0=p1())}const jl={...ho,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{vd(i.lView)},lView:null};function p1(){return Object.create(jl)}function r_(){return S0??=p1(),S0}const Wt={};function i_(i){Vi(pn(),ze(),Qr()+i,!1)}function Vi(i,s,l,u){if(!u)if(3==(3&s[Ut])){const f=i.preOrderCheckHooks;null!==f&&Pr(s,f,l)}else{const f=i.preOrderHooks;null!==f&&Oa(s,f,0,l)}Yo(l)}function Gh(i,s=At.Default){const l=ze();return null===l?jt(i,s):Sl(Hn(),l,ae(i),s)}function Wh(){throw new Error("invalid")}function rs(i,s,l,u,h,f,v,b,C,S,F){const K=s.blueprint.slice();return K[er]=h,K[Ut]=140|u,(null!==S||i&&2048&i[Ut])&&(K[Ut]|=2048),$m(K),K[Tn]=K[Wr]=i,K[Sn]=l,K[Vs]=v||i&&i[Vs],K[Bt]=b||i&&i[Bt],K[Ni]=C||i&&i[Ni]||null,K[Ar]=f,K[_c]=function Nh(){return Cy++}(),K[lo]=F,K[Eu]=S,K[cr]=2==s.type?i[cr]:K,K}function Hl(i,s,l,u,h){let f=i.data[s];if(null===f)f=function o_(i,s,l,u,h){const f=Ma(),v=Br(),C=i.data[s]=function gg(i,s,l,u,h,f){let v=s?s.injectorIndex:-1,b=0;return function No(){return null!==Lt.skipHydrationRootTNode}()&&(b|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,l,s,u,h);return null===i.firstChild&&(i.firstChild=C),null!==f&&(v?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(i,s,l,u,h),function wp(){return Lt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=l,f.value=u,f.attrs=h;const v=function qn(){const i=Lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Ri(f,!0),f}function fg(i,s,l,u){if(0===l)return-1;const h=s.length;for(let f=0;f<l;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function _d(i,s,l,u,h){const f=hg(s,bc),v=Qr(),b=2&u;try{Yo(-1),b&&s.length>nn&&Vi(i,s,nn,!1),fo(b?2:0,h);const S=b?f:null,F=xs(S);try{null!==S&&(S.dirty=!1),l(u,h)}finally{wa(S,F)}}finally{b&&null===s[bc]&&ni(s,bc),Yo(v),fo(b?3:1,h)}}function M0(i,s,l){if(Tu(s)){const u=tr(null);try{const f=s.directiveEnd;for(let v=s.directiveStart;v<f;v++){const b=i.data[v];b.contentQueries&&b.contentQueries(1,l[v],v)}}finally{tr(u)}}}function pg(i,s,l){Aa()&&(function f_(i,s,l,u){const h=l.directiveStart,f=l.directiveEnd;ws(l)&&function w1(i,s,l){const u=gi(s,i),h=g1(l);let v=16;l.signals?v=4096:l.onPush&&(v=64);const b=Yh(i,rs(i,h,null,v,u,s,null,i[Vs].rendererFactory.createRenderer(u,l),null,null,null));i[s.index]=b}(s,l,i.data[h+l.componentOffset]),i.firstCreatePass||hr(l,s),wi(u,s);const v=l.initialInputs;for(let b=h;b<f;b++){const C=i.data[b],S=qs(s,i,b,l);wi(S,s),null!==v&&m_(0,b-h,S,C,0,v),Wi(C)&&(mi(l.index,s)[Sn]=qs(s,i,b,l))}}(i,s,l,gi(l,s)),64==(64&l.flags)&&F0(i,s,l))}function P0(i,s,l=gi){const u=s.localNames;if(null!==u){let h=s.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],b=-1===v?l(s,i):i[v];i[h++]=b}}}function g1(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=O0(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function O0(i,s,l,u,h,f,v,b,C,S,F){const K=nn+u,ve=K+h,xe=function s_(i,s){const l=[];for(let u=0;u<s;u++)l.push(u<i?null:Wt);return l}(K,ve),Ve="function"==typeof S?S():S;return xe[it]={type:i,blueprint:xe,template:l,queries:null,viewQuery:b,declTNode:s,data:xe.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Ve,incompleteFirstPass:!1,ssrId:F}}let N0=i=>null;function v1(i,s,l,u){for(let h in i)if(i.hasOwnProperty(h)){l=null===l?{}:l;const f=i[h];null===u?Kh(l,s,h,f):u.hasOwnProperty(h)&&Kh(l,s,u[h],f)}return l}function Kh(i,s,l,u){i.hasOwnProperty(l)?i[l].push(s,u):i[l]=[s,u]}function R0(i,s,l,u){if(Aa()){const h=null===u?null:{"":-1},f=function y1(i,s){const l=i.directiveRegistry;let u=null,h=null;if(l)for(let f=0;f<l.length;f++){const v=l[f];if(al(s,v.selectors,!1))if(u||(u=[]),Wi(v))if(null!==v.findHostDirectiveDefs){const b=[];h=h||new Map,v.findHostDirectiveDefs(v,b,h),u.unshift(...b,v),L0(i,s,b.length)}else u.unshift(v),L0(i,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(i,l);let v,b;null===f?v=b=null:[v,b]=f,null!==v&&d_(i,s,l,v,h,b),h&&function iT(i,s,l){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=l[s[h+1]];if(null==f)throw new G(-301,!1);u.push(s[h],f)}}}(l,u,h)}l.mergedAttrs=hc(l.mergedAttrs,l.attrs)}function d_(i,s,l,u,h,f){for(let S=0;S<u.length;S++)$s(hr(l,s),i,u[S].type);!function b1(i,s,l){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+l,i.providerIndexes=s}(l,i.data.length,u.length);for(let S=0;S<u.length;S++){const F=u[S];F.providersResolver&&F.providersResolver(F)}let v=!1,b=!1,C=fg(i,s,u.length,null);for(let S=0;S<u.length;S++){const F=u[S];l.mergedAttrs=hc(l.mergedAttrs,F.hostAttrs),g_(i,l,s,C,F),_1(C,F,h),null!==F.contentQueries&&(l.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=64);const K=F.type.prototype;!v&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((i.preOrderHooks??=[]).push(l.index),v=!0),!b&&(K.ngOnChanges||K.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(l.index),b=!0),C++}!function eT(i,s,l){const h=s.directiveEnd,f=i.data,v=s.attrs,b=[];let C=null,S=null;for(let F=s.directiveStart;F<h;F++){const K=f[F],ve=l?l.get(K):null,Ve=ve?ve.outputs:null;C=v1(K.inputs,F,C,ve?ve.inputs:null),S=v1(K.outputs,F,S,Ve);const et=null===C||null===v||Pi(s)?null:Ei(C,F,v);b.push(et)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=C,s.outputs=S}(i,l,f)}function F0(i,s,l){const u=l.directiveStart,h=l.directiveEnd,f=l.index,v=function zm(){return Lt.lFrame.currentDirectiveIndex}();try{Yo(f);for(let b=u;b<h;b++){const C=i.data[b],S=s[b];Pc(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&p_(C,S)}}finally{Yo(-1),Pc(v)}}function p_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function L0(i,s,l){s.componentOffset=l,(i.components??=[]).push(s.index)}function _1(i,s,l){if(l){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)l[s.exportAs[u]]=i;Wi(s)&&(l[""]=i)}}function g_(i,s,l,u,h){i.data[u]=h;const f=h.factory||(h.factory=fi(h.type)),v=new Fi(f,Wi(h),Gh);i.blueprint[u]=v,l[u]=v,function k0(i,s,l,u,h){const f=h.hostBindings;if(f){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const b=~s.index;(function h_(i){let s=i.length;for(;s>0;){const l=i[--s];if("number"==typeof l&&l<0)return l}return 0})(v)!=b&&v.push(b),v.push(l,u,f)}}(i,s,u,fg(i,l,h.hostVars,Wt),h)}function Ka(i,s,l,u,h,f){const v=gi(i,s);!function mg(i,s,l,u,h,f,v){if(null==f)i.removeAttribute(s,h,l);else{const b=null==v?Y(f):v(f,u||"",h);i.setAttribute(s,h,b,l)}}(s[Bt],v,f,i.value,l,u,h)}function m_(i,s,l,u,h,f){const v=f[s];if(null!==v)for(let b=0;b<v.length;)U0(u,l,v[b++],v[b++],v[b++])}function U0(i,s,l,u,h){const f=tr(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(u)&&(h=v[u].call(s,h)),null!==i.setInput?i.setInput(s,h,l,u):s[u]=h}finally{tr(f)}}function Ei(i,s,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===u&&(u=[]);const v=i[f];for(let b=0;b<v.length;b+=2)if(v[b]===s){u.push(f,v[b+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Ii(i,s,l,u){return[i,!0,!1,s,null,0,u,l,null,null,null]}function vg(i,s){const l=i.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const f=l[u+1];if(-1!==f){const v=i.data[f];zu(l[u]),v.contentQueries(2,s[f],f)}}}function Yh(i,s){return i[Mo]?i[mc][di]=s:i[Mo]=s,i[mc]=s,s}function v_(i,s,l){zu(0);const u=tr(null);try{s(i,l)}finally{tr(u)}}function C1(i){return i[va]||(i[va]=[])}function y_(i){return i.cleanup||(i.cleanup=[])}function E1(i,s){const l=i[Ni],u=l?l.get(qh,null):null;u&&u.handleError(s)}function __(i,s,l,u,h){for(let f=0;f<l.length;){const v=l[f++],b=l[f++];U0(i.data[v],s[v],u,b,h)}}function is(i,s,l){const u=Ta(s,i);!function Fo(i,s,l){i.setValue(s,l)}(i[Bt],u,l)}function yg(i,s){const l=mi(s,i),u=l[it];!function b_(i,s){for(let l=s.length;l<i.blueprint.length;l++)s.push(i.blueprint[l])}(u,l);const h=l[er];null!==h&&null===l[lo]&&(l[lo]=Jy(h,l[Ni])),V0(u,l,l[Sn])}function V0(i,s,l){go(s);try{const u=i.viewQuery;null!==u&&v_(1,u,l);const h=i.template;null!==h&&_d(i,s,h,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&vg(i,s),i.staticViewQueries&&v_(2,i.viewQuery,l);const f=i.components;null!==f&&function oT(i,s){for(let l=0;l<s.length;l++)yg(i,s[l])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[Ut]&=-5,ki()}}let _g=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(u,h,f){const v=typeof Zone>"u"?null:Zone.current,b=function Lu(i,s,l){const u=Object.create(ch);l&&(u.consumerAllowSignalWrites=!0),u.fn=i,u.schedule=s;const h=v=>{u.cleanupFn=v};return u.ref={notify:()=>cp(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Ki(u))return;u.hasRun=!0;const v=xs(u);try{u.cleanupFn(),u.cleanupFn=ah,u.fn(h)}finally{wa(u,v)}},cleanup:()=>u.cleanupFn()},u.ref}(u,F=>{this.all.has(F)&&this.queue.set(F,v)},f);let C;this.all.add(b),b.notify();const S=()=>{b.cleanup(),C?.(),this.all.delete(b),this.queue.delete(b)};return C=h?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=Ft({token:i,providedIn:"root",factory:()=>new i}),s})();function Jh(i,s,l){let u=l?i.styles:null,h=l?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const b=s[v];"number"==typeof b?f=b:1==f?h=B(h,b):2==f&&(u=B(u,b+": "+s[++v]+";"))}l?i.styles=u:i.stylesWithoutHost=u,l?i.classes=h:i.classesWithoutHost=h}function Qh(i,s,l,u,h=!1){for(;null!==l;){const f=s[l.index];null!==f&&u.push(mn(f)),Yr(f)&&I1(f,u);const v=l.type;if(8&v)Qh(i,s,l.child,u);else if(32&v){const b=re(l,s);let C;for(;C=b();)u.push(C)}else if(16&v){const b=Ay(s,l);if(Array.isArray(b))u.push(...b);else{const C=ke(s[cr]);Qh(C[it],C,b,u,!0)}}l=h?l.projectionNext:l.next}return u}function I1(i,s){for(let l=Mr;l<i.length;l++){const u=i[l],h=u[it].firstChild;null!==h&&Qh(u[it],u,h,s)}i[Kr]!==i[er]&&s.push(i[Kr])}function Zl(i,s,l,u=!0){const h=s[Vs],f=h.rendererFactory,v=h.afterRenderEventManager;f.begin?.(),v?.begin();try{C_(i,s,i.template,l)}catch(C){throw u&&E1(s,C),C}finally{f.end?.(),h.effectManager?.flush(),v?.end()}}function C_(i,s,l,u){const h=s[Ut];if(256!=(256&h)){s[Vs].effectManager?.flush(),go(s);try{$m(s),function bh(i){return Lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&_d(i,s,l,2,u);const v=3==(3&h);if(v){const S=i.preOrderCheckHooks;null!==S&&Pr(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Oa(s,S,0,null),qu(s,0)}if(function aT(i){for(let s=Et(i);null!==s;s=Qt(s)){if(!s[Du])continue;const l=s[hi];for(let u=0;u<l.length;u++){uy(l[u])}}}(s),bg(s,2),null!==i.contentQueries&&vg(i,s),v){const S=i.contentCheckHooks;null!==S&&Pr(s,S)}else{const S=i.contentHooks;null!==S&&Oa(s,S,1),qu(s,1)}!function A0(i,s){const l=i.hostBindingOpCodes;if(null===l)return;const u=hg(s,bs);try{for(let h=0;h<l.length;h++){const f=l[h];if(f<0)Yo(~f);else{const v=f,b=l[++h],C=l[++h];Mc(b,v),u.dirty=!1;const S=xs(u);try{C(2,s[v])}finally{wa(u,S)}}}}finally{null===s[bs]&&ni(s,bs),Yo(-1)}}(i,s);const b=i.components;null!==b&&T1(s,b,0);const C=i.viewQuery;if(null!==C&&v_(2,C,u),v){const S=i.viewCheckHooks;null!==S&&Pr(s,S)}else{const S=i.viewHooks;null!==S&&Oa(s,S,2),qu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Ut]&=-73,dy(s)}finally{ki()}}}function bg(i,s){for(let l=Et(i);null!==l;l=Qt(l))for(let u=Mr;u<l.length;u++)bd(l[u],s)}function cT(i,s,l){bd(mi(s,i),l)}function bd(i,s){if(!function fh(i){return 128==(128&i[Ut])}(i))return;const l=i[it],u=i[Ut];if(80&u&&0===s||1024&u||2===s)C_(l,i,l.template,i[Sn]);else if(i[_s]>0){bg(i,1);const h=l.components;null!==h&&T1(i,h,1)}}function T1(i,s,l){for(let u=0;u<s.length;u++)cT(i,s[u],l)}class wg{get rootNodes(){const s=this._lView,l=s[it];return Qh(l,s,l.firstChild,[])}constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(s){this._lView[Sn]=s}get destroyed(){return 256==(256&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Tn];if(Yr(s)){const l=s[8],u=l?l.indexOf(this):-1;u>-1&&(s0(s,u),Ap(l,u))}this._attachedToViewContainer=!1}Dy(this._lView[it],this._lView)}onDestroy(s){!function Oo(i,s){if(256==(256&i[Ut]))throw new G(911,!1);null===i[Bs]&&(i[Bs]=[]),i[Bs].push(s)}(this._lView,s)}markForCheck(){vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-129}reattach(){this._lView[Ut]|=128}detectChanges(){Zl(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jc(i,s){Yp(i,s,s[Bt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=s}}class wd extends wg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Zl(s[it],s,s[Sn],!1)}checkNoChanges(){}get context(){return null}}class x_ extends cg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=tn(s);return new Xh(l,this.ngModule)}}function Cg(i){const s=[];for(let l in i)i.hasOwnProperty(l)&&s.push({propName:i[l],templateName:l});return s}class xg{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,u){u=kr(u);const h=this.injector.get(s,t1,u);return h!==t1||l===t1?h:this.parentInjector.get(s,l,u)}}class Xh extends RD{get inputs(){const s=this.componentDef,l=s.inputTransforms,u=Cg(s.inputs);if(null!==l)for(const h of u)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return u}get outputs(){return Cg(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function op(i){return i.map(ip).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,u,h){let f=(h=h||this.ngModule)instanceof $c?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new xg(s,f):s,b=v.get(XC,null);if(null===b)throw new G(407,!1);const K={rendererFactory:b,sanitizer:v.get(VD,null),effectManager:v.get(_g,null),afterRenderEventManager:v.get(xi,null)},ve=b.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",Ve=u?function a_(i,s,l,u){const f=u.get(Wc,!1)||l===zi.ShadowDom,v=i.selectRootElement(s,f);return function c_(i){N0(i)}(v),v}(ve,u,this.componentDef.encapsulation,v):Fl(ve,xe,function S1(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(xe)),Tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let We=null;null!==Ve&&(We=Jy(Ve,v,!0));const Ht=O0(0,null,null,1,0,null,null,null,null,null,null),sn=rs(null,Ht,null,Tt,null,null,K,ve,v,null,We);let Vn,ao;go(sn);try{const ji=this.componentDef;let qf,Aw=null;ji.findHostDirectiveDefs?(qf=[],Aw=new Map,ji.findHostDirectiveDefs(ji,qf,Aw),qf.push(ji)):qf=[ji];const jS=function A1(i,s){const l=i[it],u=nn;return i[u]=s,Hl(l,u,2,"#host",null)}(sn,Ve),HS=function Eg(i,s,l,u,h,f,v){const b=h[it];!function B0(i,s,l,u){for(const h of i)s.mergedAttrs=hc(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Jh(s,s.mergedAttrs,!0),null!==l&&Jp(u,l,s))}(u,i,s,v);let C=null;null!==s&&(C=Jy(s,h[Ni]));const S=f.rendererFactory.createRenderer(s,l);let F=16;l.signals?F=4096:l.onPush&&(F=64);const K=rs(h,g1(l),null,F,h[i.index],i,f,S,null,null,C);return b.firstCreatePass&&L0(b,i,u.length-1),Yh(h,K),h[i.index]=K}(jS,Ve,ji,qf,sn,K,ve);ao=yl(Ht,nn),Ve&&function E_(i,s,l,u){if(u)Fr(i,l,["ng-version",BD.full]);else{const{attrs:h,classes:f}=function Lr(i){const s=[],l=[];let u=1,h=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++u]):8===h&&l.push(f);else{if(!hn(h))break;h=f}u++}return{attrs:s,classes:l}}(s.selectors[0]);h&&Fr(i,l,h),f&&f.length>0&&mC(i,l,f.join(" "))}}(ve,ji,Ve,u),void 0!==l&&function P1(i,s,l){const u=i.projection=[];for(let h=0;h<s.length;h++){const f=l[h];u.push(null!=f?Array.from(f):null)}}(ao,this.ngContentSelectors,l),Vn=function M1(i,s,l,u,h,f){const v=Hn(),b=h[it],C=gi(v,h);d_(b,h,v,l,null,u);for(let F=0;F<l.length;F++)wi(qs(h,b,v.directiveStart+F,v),h);F0(b,h,v),C&&wi(C,h);const S=qs(h,b,v.directiveStart+v.componentOffset,v);if(i[Sn]=h[Sn]=S,null!==f)for(const F of f)F(S,s);return M0(b,v,i),S}(HS,ji,qf,Aw,sn,[O1]),V0(Ht,sn,null)}finally{ki()}return new wo(this.componentType,Vn,md(ao,sn),sn,ao)}}class wo extends ag{constructor(s,l,u,h,f){super(),this.location=u,this._rootLView=h,this._tNode=f,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new wd(h),this.componentType=s}setInput(s,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),l))return;const f=this._rootLView;__(f[it],f,h,s,l),this.previousInputValues.set(s,l),vd(mi(this._tNode.index,f))}}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function O1(){const i=Hn();Oc(ze()[it],i)}function Ig(i){let s=function ef(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const u=[i];for(;s;){let h;if(Wi(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new G(903,!1);h=s.\u0275dir}if(h){if(l){u.push(h);const v=i;v.inputs=tf(i.inputs),v.inputTransforms=tf(i.inputTransforms),v.declaredInputs=tf(i.declaredInputs),v.outputs=tf(i.outputs);const b=h.hostBindings;b&&N1(i,b);const C=h.viewQuery,S=h.contentQueries;if(C&&j0(i,C),S&&Dg(i,S),M(i.inputs,h.inputs),M(i.declaredInputs,h.declaredInputs),M(i.outputs,h.outputs),null!==h.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),M(v.inputTransforms,h.inputTransforms)),Wi(h)&&h.data.animation){const F=i.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let v=0;v<f.length;v++){const b=f[v];b&&b.ngInherit&&b(i),b===Ig&&(l=!1)}}s=Object.getPrototypeOf(s)}!function I_(i){let s=0,l=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=hc(h.hostAttrs,l=hc(l,h.hostAttrs))}}(u)}function tf(i){return i===So?{}:i===dn?[]:i}function j0(i,s){const l=i.viewQuery;i.viewQuery=l?(u,h)=>{s(u,h),l(u,h)}:s}function Dg(i,s){const l=i.contentQueries;i.contentQueries=l?(u,h,f)=>{s(u,h,f),l(u,h,f)}:s}function N1(i,s){const l=i.hostBindings;i.hostBindings=l?(u,h)=>{s(u,h),l(u,h)}:s}function M_(i){const s=i.inputConfig,l={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[2]&&(l[u]=h[2])}i.inputTransforms=l}function $l(i){return!!N_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function N_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function to(i,s,l){return!Object.is(i[s],l)&&(i[s]=l,!0)}function os(i,s,l,u){const h=to(i,s,l);return to(i,s+1,u)||h}function sf(i,s,l,u){const h=ze();return to(h,Ac(),s)&&(pn(),Ka(Ln(),h,i,s,l,u)),sf}function Ya(i,s,l,u,h,f,v,b){const S=function Os(i,s,l,u,h){const f=os(i,s,l,u);return to(i,s+2,h)||f}(i,Ds(),l,h,v);return po(3),S?s+Y(l)+u+Y(h)+f+Y(v)+b:Wt}function ff(i,s,l,u,h,f,v,b){const C=ze(),S=pn(),F=i+nn,K=S.firstCreatePass?function j_(i,s,l,u,h,f,v,b,C){const S=s.consts,F=Hl(s,i,4,v||null,Zs(S,b));R0(s,l,F,Zs(S,C)),Oc(s,F);const K=F.tView=O0(2,F,u,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,F),K.queries=s.queries.embeddedTView(F)),F}(F,S,C,s,l,u,h,f,v):S.data[F];Ri(K,!1);const ve=H_(S,C,K,i);Ro()&&Wp(S,C,ve,K),wi(ve,C),Yh(C,C[F]=Ii(ve,C,ve,K)),Gi(K)&&pg(S,C,K),null!=v&&P0(C,K,b)}let H_=function z0(i,s,l,u){return Ji(!0),s[Bt].createComment("")};function W0(i,s,l){const u=ze();return to(u,Ac(),s)&&function eo(i,s,l,u,h,f,v,b){const C=gi(s,l);let F,S=s.inputs;!b&&null!=S&&(F=S[u])?(__(i,l,F,u,h),ws(s)&&function u_(i,s){const l=mi(s,i);16&l[Ut]||(l[Ut]|=64)}(l,s.index)):3&s.type&&(u=function tT(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=v?v(h,s.value||"",u):h,f.setProperty(C,u,h))}(pn(),Ln(),u,i,s,u[Bt],l,!1),W0}function Sd(i,s,l,u,h){const v=h?"class":"style";__(i,l,s.inputs[v],v,u)}function Pg(i,s,l,u){const h=ze(),f=pn(),v=nn+i,b=h[Bt],C=f.firstCreatePass?function W1(i,s,l,u,h,f){const v=s.consts,C=Hl(s,i,2,u,Zs(v,h));return R0(s,l,C,Zs(v,f)),null!==C.attrs&&Jh(C,C.attrs,!1),null!==C.mergedAttrs&&Jh(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(v,f,h,s,l,u):f.data[v],S=Z_(f,h,C,b,s,i);h[v]=S;const F=Gi(C);return Ri(C,!0),Jp(b,S,C),32!=(32&C.flags)&&Ro()&&Wp(f,h,S,C),0===function gh(){return Lt.lFrame.elementDepthCount}()&&wi(S,h),function mh(){Lt.lFrame.elementDepthCount++}(),F&&(pg(f,h,C),M0(f,C,h)),null!==u&&P0(h,C),Pg}function pf(){let i=Hn();Br()?function nr(){Lt.lFrame.isParent=!1}():(i=i.parent,Ri(i,!1));const s=i;(function Hu(i){return Lt.skipHydrationRootTNode===i})(s)&&function yh(){Lt.skipHydrationRootTNode=null}(),function vh(){Lt.lFrame.elementDepthCount--}();const l=pn();return l.firstCreatePass&&(Oc(l,i),Tu(i)&&l.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ss(i){return 0!=(8&i.flags)}(s)&&Sd(l,s,ze(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function xh(i){return 0!=(16&i.flags)}(s)&&Sd(l,s,ze(),s.stylesWithoutHost,!1),pf}function Og(i,s,l,u){return Pg(i,s,l,u),pf(),Og}let Z_=(i,s,l,u,h,f)=>(Ji(!0),Fl(u,h,function vo(){return Lt.lFrame.currentNamespace}()));function Uo(){return ze()}function Q0(i){return!!i&&"function"==typeof i.then}function q_(i){return!!i&&"function"==typeof i.subscribe}function ql(i,s,l,u){const h=ze(),f=pn(),v=Hn();return function X0(i,s,l,u,h,f,v){const b=Gi(u),S=i.firstCreatePass&&y_(i),F=s[Sn],K=C1(s);let ve=!0;if(3&u.type||v){const et=gi(u,s),dt=v?v(et):et,Tt=K.length,We=v?sn=>v(mn(sn[u.index])):u.index;let Ht=null;if(!v&&b&&(Ht=function ia(i,s,l,u){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const v=h[f];if(v===l&&h[f+1]===u){const b=s[va],C=h[f+2];return b.length>C?b[C]:null}"string"==typeof v&&(f+=2)}return null}(i,s,h,u.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=f,Ht.__ngLastListenerFn__=f,ve=!1;else{f=X1(u,s,F,f,!1);const sn=l.listen(dt,h,f);K.push(f,sn),S&&S.push(h,We,Tt,Tt+1)}}else f=X1(u,s,F,f,!1);const xe=u.outputs;let Ve;if(ve&&null!==xe&&(Ve=xe[h])){const et=Ve.length;if(et)for(let dt=0;dt<et;dt+=2){const Vn=s[Ve[dt]][Ve[dt+1]].subscribe(f),ao=K.length;K.push(f,Vn),S&&S.push(h,u.index,ao,-(ao+1))}}}(f,h,h[Bt],v,i,s,u),ql}function Fn(i,s,l,u){try{return fo(6,s,l),!1!==l(u)}catch(h){return E1(i,h),!1}finally{fo(7,s,l)}}function X1(i,s,l,u,h){return function f(v){if(v===Function)return u;vd(i.componentOffset>-1?mi(i.index,s):s);let C=Fn(s,l,u,v),S=f.__ngNextListenerFn__;for(;S;)C=Fn(s,l,S,v)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&v.preventDefault(),C}}function ev(i=1){return function Ip(i){return(Lt.lFrame.contextLView=function wl(i,s){for(;i>0;)s=s[Wr],i--;return s}(i,Lt.lFrame.contextLView))[Sn]}(i)}function Lg(i,s){return i<<17|s<<2}function as(i){return i>>17&32767}function Ug(i){return 2|i}function Md(i){return(131068&i)>>2}function K_(i,s){return-131069&i|s<<2}function Y_(i){return 1|i}function Q_(i,s,l,u,h){const f=i[l+1],v=null===s;let b=u?as(f):Md(f),C=!1;for(;0!==b&&(!1===C||v);){const F=i[b+1];nx(i[b],s)&&(C=!0,i[b+1]=u?Y_(F):Ug(F)),b=u?as(F):Md(F)}C&&(i[l+1]=u?Ug(f):Y_(f))}function nx(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ml(i,s)>=0}function tv(i,s){return function Rs(i,s,l,u){const h=ze(),f=pn(),v=po(2);f.firstUpdatePass&&function ab(i,s,l,u){const h=i.data;if(null===h[l+1]){const f=h[Qr()],v=function sb(i,s){return s>=i.expandoStartIndex}(i,l);(function db(i,s){return 0!=(i.flags&(s?8:16))})(f,u)&&null===s&&!v&&(s=!1),s=function dx(i,s,l,u){const h=function $u(i){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(l=vf(l=nv(null,i,s,l,u),s.attrs,u),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==h)if(l=nv(h,i,s,l,u),null===f){let C=function hx(i,s,l){const u=l?s.classBindings:s.styleBindings;if(0!==Md(u))return i[as(u)]}(i,s,u);void 0!==C&&Array.isArray(C)&&(C=nv(null,i,s,C[1],u),C=vf(C,s.attrs,u),function fx(i,s,l,u){i[as(l?s.classBindings:s.styleBindings)]=u}(i,s,u,C))}else f=function px(i,s,l){let u;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)u=vf(u,i[f].hostAttrs,l);return vf(u,s.attrs,l)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),l}(h,f,s,u),function CT(i,s,l,u,h,f){let v=f?s.classBindings:s.styleBindings,b=as(v),C=Md(v);i[u]=l;let F,S=!1;if(Array.isArray(l)?(F=l[1],(null===F||Ml(l,F)>0)&&(S=!0)):F=l,h)if(0!==C){const ve=as(i[b+1]);i[u+1]=Lg(ve,b),0!==ve&&(i[ve+1]=K_(i[ve+1],u)),i[b+1]=function wT(i,s){return 131071&i|s<<17}(i[b+1],u)}else i[u+1]=Lg(b,0),0!==b&&(i[b+1]=K_(i[b+1],u)),b=u;else i[u+1]=Lg(C,0),0===b?b=u:i[C+1]=K_(i[C+1],u),C=u;S&&(i[u+1]=Ug(i[u+1])),Q_(i,F,u,!0),Q_(i,F,u,!1),function mf(i,s,l,u,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Ml(f,s)>=0&&(l[u+1]=Y_(l[u+1]))}(s,F,i,u,f),v=Lg(b,C),f?s.classBindings=v:s.styleBindings=v}(h,f,s,l,v,u)}}(f,i,v,u),s!==Wt&&to(h,v,s)&&function lb(i,s,l,u,h,f,v,b){if(!(3&s.type))return;const C=i.data,S=C[b+1],F=function tx(i){return 1==(1&i)}(S)?ub(C,s,l,h,Md(S),v):void 0;Vg(F)||(Vg(f)||function bT(i){return 2==(2&i)}(S)&&(f=ub(C,null,l,h,b,v)),function yD(i,s,l,u,h){if(s)h?i.addClass(l,u):i.removeClass(l,u);else{let f=-1===u.indexOf("-")?void 0:id.DashCase;null==h?i.removeStyle(l,u,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=id.Important),i.setStyle(l,u,h,f))}}(u,v,Ta(Qr(),l),h,f))}(f,f.data[Qr()],h,h[Bt],i,h[v+1]=function yx(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=U(Hc(i)))),i}(s,l),u,v)}(i,s,null,!0),tv}function nv(i,s,l,u,h){let f=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(f=s[b],u=vf(u,f.hostAttrs,h),f!==i);)b++;return null!==i&&(l.directiveStylingLast=b),u}function vf(i,s,l){const u=l?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?h=v:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),yo(i,v,!!l||s[++f]))}return void 0===i?null:i}function ub(i,s,l,u,h,f){const v=null===s;let b;for(;h>0;){const C=i[h],S=Array.isArray(C),F=S?C[1]:C,K=null===F;let ve=l[h+1];ve===Wt&&(ve=K?dn:void 0);let xe=K?Pp(ve,u):F===u?ve:void 0;if(S&&!Vg(xe)&&(xe=Pp(C,u)),Vg(xe)&&(b=xe,v))return b;const Ve=i[h+1];h=v?as(Ve):Md(Ve)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(b=Pp(C,u))}return b}function Vg(i){return void 0!==i}function hb(i,s=""){const l=ze(),u=pn(),h=i+nn,f=u.firstCreatePass?Hl(u,h,1,s,null):u.data[h],v=fb(u,l,f,s,i);l[h]=v,Ro()&&Wp(u,l,v,f),Ri(f,!1)}let fb=(i,s,l,u,h)=>(Ji(!0),function ti(i,s){return i.createText(s)}(s[Bt],u));function Gl(i){return aa("",i,""),Gl}function aa(i,s,l){const u=ze(),h=function kn(i,s,l,u){return to(i,Ac(),l)?s+Y(l)+u:Wt}(u,i,s,l);return h!==Wt&&is(u,Qr(),h),aa}function Bg(i,s,l,u,h){const f=ze(),v=function Kc(i,s,l,u,h,f){const b=os(i,Ds(),l,h);return po(2),b?s+Y(l)+u+Y(h)+f:Wt}(f,i,s,l,u,h);return v!==Wt&&is(f,Qr(),v),Bg}function pb(i,s,l,u,h,f,v){const b=ze(),C=Ya(b,i,s,l,u,h,f,v);return C!==Wt&&is(b,Qr(),C),pb}const Od=void 0;var OT=["en",[["a","p"],["AM","PM"],Od],[["AM","PM"],Od,Od],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Od,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Od,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Od,"{1} 'at' {0}",Od],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ov(i){const l=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let ec={};function sv(i){const s=function Ae(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=mb(s);if(l)return l;const u=s.split("-")[0];if(l=mb(u),l)return l;if("en"===u)return OT;throw new G(701,!1)}function av(i){return sv(i)[ls.PluralCase]}function mb(i){return i in ec||(ec[i]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[i]),ec[i]}var ls=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(ls||{});const bf="en-US";let uv=bf;function mv(i,s,l,u,h){if(i=ae(i),Array.isArray(i))for(let f=0;f<i.length;f++)mv(i[f],s,l,u,h);else{const f=pn(),v=ze(),b=Hn();let C=Uh(i)?i:ae(i.provide);const S=g0(i),F=1048575&b.providerIndexes,K=b.directiveStart,ve=b.providerIndexes>>20;if(Uh(i)||!i.multi){const xe=new Fi(S,h,Gh),Ve=vv(C,s,h?F:F+ve,K);-1===Ve?($s(hr(b,v),f,C),tu(f,i,s.length),s.push(C),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),l.push(xe),v.push(xe)):(l[Ve]=xe,v[Ve]=xe)}else{const xe=vv(C,s,F+ve,K),Ve=vv(C,s,F,F+ve),dt=Ve>=0&&l[Ve];if(h&&!dt||!h&&!(xe>=0&&l[xe])){$s(hr(b,v),f,C);const Tt=function bb(i,s,l,u,h){const f=new Fi(i,l,Gh);return f.multi=[],f.index=s,f.componentProviders=0,Qx(f,h,u&&!l),f}(h?Un:yn,l.length,h,u,S);!h&&dt&&(l[Ve].providerFactory=Tt),tu(f,i,s.length,0),s.push(C),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),l.push(Tt),v.push(Tt)}else tu(f,i,xe>-1?xe:Ve,Qx(l[h?Ve:xe],S,!h&&u));!h&&u&&dt&&l[Ve].componentProviders++}}}function tu(i,s,l,u){const h=Uh(s),f=function De(i){return!!i.useClass}(s);if(h||f){const C=(f?ae(s.useClass):s).prototype.ngOnDestroy;if(C){const S=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const F=S.indexOf(l);-1===F?S.push(l,[u,C]):S[F+1].push(u,C)}else S.push(l,C)}}}function Qx(i,s,l){return l&&i.componentProviders++,i.multi.push(s)-1}function vv(i,s,l,u){for(let h=l;h<u;h++)if(s[h]===i)return h;return-1}function yn(i,s,l,u){return nu(this.multi,[])}function Un(i,s,l,u){const h=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=qs(l,l[it],this.providerFactory.index,u);f=b.slice(0,v),nu(h,f);for(let C=v;C<b.length;C++)f.push(b[C])}else f=[],nu(h,f);return f}function nu(i,s){for(let l=0;l<i.length;l++)s.push((0,i[l])());return s}function yv(i,s=[]){return l=>{l.providersResolver=(u,h)=>function Jx(i,s,l){const u=pn();if(u.firstCreatePass){const h=Wi(i);mv(l,u.data,u.blueprint,h,!0),mv(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class ru{}class _v{}function Xx(i,s){return new bv(i,s??null,[])}class bv extends ru{constructor(s,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new x_(this);const h=Oi(s);this._bootstrapComponents=Gc(h.bootstrap),this._r3Injector=b0(s,l,[{provide:ru,useValue:this},{provide:cg,useValue:this.componentFactoryResolver},...u],U(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class wb extends _v{constructor(s){super(),this.moduleType=s}create(s){return new bv(this.moduleType,s,[])}}class eE extends ru{constructor(s){super(),this.componentFactoryResolver=new x_(this),this.instance=null;const l=new p0([...s.providers,{provide:ru,useValue:this},{provide:cg,useValue:this.componentFactoryResolver}],s.parent||zy(),s.debugName,new Set(["environment"]));this.injector=l,s.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Cb(i,s,l=null){return new eE({providers:i,parent:s,debugName:l,runEnvironmentInitializers:!0}).injector}let KT=(()=>{var i;class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=UC(0,u.type),f=h.length>0?Cb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,f)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(i=s).\u0275prov=Ft({token:i,providedIn:"environment",factory:()=>new i(jt($c))}),s})();function xb(i){i.getStandaloneInjector=s=>s.get(KT).getOrCreateStandaloneInjector(i)}function ro(i,s,l,u){return function rc(i,s,l,u,h,f){const v=s+l;return to(i,v,h)?function ra(i,s,l){return i[s]=l}(i,v+1,f?u.call(f,h):u(h)):function tm(i,s){const l=i[s];return l===Wt?void 0:l}(i,v+1)}(ze(),function vi(){const i=Lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,l,u)}function dE(){return this._results[Symbol.iterator]()}class Tv{get changes(){return this._changes||(this._changes=new Wa)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Tv.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=dE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const u=this;u.dirty=!1;const h=function fr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Li(i,s,l){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],f=s[u];if(l&&(h=l(h),f=l(f)),f!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eS(i,s,l,u=!0){const h=s[it];if(function Iy(i,s,l,u){const h=Mr+u,f=l.length;u>0&&(l[h-1][di]=s),u<f-Mr?(s[di]=l[h],Gm(l,Mr+u,s)):(l.push(s),s[di]=null),s[Tn]=l;const v=s[vc];null!==v&&l!==v&&function qp(i,s){const l=i[hi];s[cr]!==s[Tn][Tn][cr]&&(i[Du]=!0),null===l?i[hi]=[s]:l.push(s)}(v,s);const b=s[co];null!==b&&b.insertView(i),s[Ut]|=128}(h,s,i,l),u){const f=My(l,i),v=s[Bt],b=a0(v,i[Kr]);null!==b&&function Ll(i,s,l,u,h,f){u[er]=h,u[Ar]=s,Yp(i,u,l,1,h,f)}(h,i[Ar],v,s,b,f)}}let oc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fd,s})();const kd=oc,hE=class extends kd{constructor(s,l,u){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l)}createEmbeddedViewImpl(s,l,u){const h=function Sv(i,s,l,u){const h=s.tView,b=rs(i,h,l,4096&i[Ut]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);b[vc]=i[s.index];const S=i[co];return null!==S&&(b[co]=S.createEmbeddedView(h)),V0(h,b,l),b}(this._declarationLView,this._declarationTContainer,s,{injector:l,hydrationInfo:u});return new wg(h)}};function Fd(){return nm(Hn(),ze())}function nm(i,s){return 4&i.type?new hE(s,i,md(i,s)):null}let Pv=(()=>{class s{}return s.__NG_ELEMENT_ID__=rm,s})();function rm(){return kb(Hn(),ze())}const iS=Pv,Rb=class extends iS{constructor(s,l,u){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=u}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Qn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qo(this._hostTNode,this._hostLView);if(Rc(s)){const l=_i(s,this._hostLView),u=jr(s);return new Qn(l[it].data[u+8],l)}return new Qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=Ud(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(s,l,u){let h,f;"number"==typeof u?h=u:null!=u&&(h=u.index,f=u.injector);const b=s.createEmbeddedViewImpl(l||{},f,null);return this.insertImpl(b,h,false),b}createComponent(s,l,u,h,f){const v=s&&!function Rt(i){return"function"==typeof i}(s);let b;if(v)b=l;else{const et=l||{};b=et.index,u=et.injector,h=et.projectableNodes,f=et.environmentInjector||et.ngModuleRef}const C=v?s:new Xh(tn(s)),S=u||this.parentInjector;if(!f&&null==C.ngModule){const dt=(v?S:this.parentInjector).get($c,null);dt&&(f=dt)}tn(C.componentType??{});const xe=C.create(S,h,null,f);return this.insertImpl(xe.hostView,b,false),xe}insert(s,l){return this.insertImpl(s,l,!1)}insertImpl(s,l,u){const h=s._lView;if(function ph(i){return Yr(i[Tn])}(h)){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const S=h[Tn],F=new Rb(S,S[Ar],S[Tn]);F.detach(F.indexOf(s))}}const v=this._adjustIndex(l),b=this._lContainer;return eS(b,h,v,!u),s.attachToViewContainerRef(),Gm(da(b),v,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=Ud(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),u=s0(this._lContainer,l);u&&(Ap(da(this._lContainer),l),Dy(u[it],u))}detach(s){const l=this._adjustIndex(s,-1),u=s0(this._lContainer,l);return u&&null!=Ap(da(this._lContainer),l)?new wg(u):null}_adjustIndex(s,l=0){return s??this.length+l}};function Ud(i){return i[8]}function da(i){return i[8]||(i[8]=[])}function kb(i,s){let l;const u=s[i.index];return Yr(u)?l=u:(l=Ii(u,s,null,i),s[i.index]=l,Yh(s,l)),Fb(l,s,i,u),new Rb(l,i,s)}let Fb=function Vd(i,s,l,u){if(i[Kr])return;let h;h=8&l.type?mn(u):function pE(i,s){const l=i[Bt],u=l.createComment(""),h=gi(s,i);return ld(l,a0(l,h),u,function mD(i,s){return i.nextSibling(s)}(l,h),!1),u}(s,l),i[Kr]=h};class im{constructor(s){this.queryList=s,this.matches=null}clone(){return new im(this.queryList)}setDirty(){this.queryList.setDirty()}}class om{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const u=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let f=0;f<u;f++){const v=l.getByIndex(f);h.push(this.queries[v.indexInDeclarationView].clone())}return new om(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Hb(s,l).matches&&this.queries[l].setDirty()}}class gE{constructor(s,l,u=null){this.predicate=s,this.flags=l,this.read=u}}class Vb{constructor(s=[]){this.queries=s}elementStart(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,f=this.getByIndex(u).embeddedTView(s,h);f&&(f.indexInDeclarationView=u,null!==l?l.push(f):l=[f])}return null!==l?new Vb(l):null}template(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Er{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Er(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const f=u[h];this.matchTNodeWithReadOption(s,l,En(l,f)),this.matchTNodeWithReadOption(s,l,As(l,s,f,!1,!1))}else u===oc?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,As(l,s,u,!1,!1))}matchTNodeWithReadOption(s,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===lg||h===Pv||h===oc&&4&l.type)this.addMatch(l.index,-2);else{const f=As(l,s,h,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,u)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function En(i,s){const l=i.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===s)return l[u+1];return null}function vE(i,s,l,u){return-1===l?function mE(i,s){return 11&i.type?md(i,s):4&i.type?nm(i,s):null}(s,i):-2===l?function Bb(i,s,l){return l===lg?md(s,i):l===oc?nm(s,i):l===Pv?kb(s,i):void 0}(i,s,u):qs(i,i[it],l,s)}function sm(i,s,l,u){const h=s[co].queries[u];if(null===h.matches){const f=i.data,v=l.matches,b=[];for(let C=0;C<v.length;C+=2){const S=v[C];b.push(S<0?null:vE(s,f[S],v[C+1],l.metadata.read))}h.matches=b}return h.matches}function Ov(i,s,l,u){const h=i.queries.getByIndex(l),f=h.matches;if(null!==f){const v=sm(i,s,h,l);for(let b=0;b<f.length;b+=2){const C=f[b];if(C>0)u.push(v[b/2]);else{const S=f[b+1],F=s[-C];for(let K=Mr;K<F.length;K++){const ve=F[K];ve[vc]===ve[Tn]&&Ov(ve[it],ve,S,u)}if(null!==F[hi]){const K=F[hi];for(let ve=0;ve<K.length;ve++){const xe=K[ve];Ov(xe[it],xe,S,u)}}}}}return u}function yE(i){const s=ze(),l=pn(),u=Cp();zu(u+1);const h=Hb(l,u);if(i.dirty&&function gp(i){return 4==(4&i[Ut])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Ov(l,s,u,[]):sm(l,s,h,u);i.reset(f,UD),i.notifyOnChanges()}return!0}return!1}function jb(i,s,l,u){const h=pn();if(h.firstCreatePass){const f=Hn();(function Sf(i,s,l){null===i.queries&&(i.queries=new Vb),i.queries.track(new Er(s,l))})(h,new gE(s,l,u),f.index),function Rv(i,s){const l=i.contentQueries||(i.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,s)}(h,i),2==(2&l)&&(h.staticContentQueries=!0)}!function Tf(i,s,l){const u=new Tv(4==(4&l));(function XD(i,s,l,u){const h=C1(s);h.push(l),i.firstCreatePass&&y_(i).push(u,h.length-1)})(i,s,u,u.destroy),null===s[co]&&(s[co]=new om),s[co].queries.push(new im(u))}(h,ze(),l)}function Nv(){return function am(i,s){return i[co].queries[s].queryList}(ze(),Cp())}function Hb(i,s){return i.queries.getByIndex(s)}function Zb(i){return!!Oi(i)}const OE=new Mn("Application Initializer");let iw=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=Zt(OE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const f of this.appInits){const v=f();if(Q0(v))u.push(v);else if(q_(v)){const b=new Promise((C,S)=>{v.subscribe({complete:C,error:S})});u.push(b)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"root"}),s})(),kf=(()=>{var i;class s{log(u){console.log(u)}warn(u){console.warn(u)}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();const ha=new Mn("LocaleId",{providedIn:"root",factory:()=>Zt(ha,At.Optional|At.SkipSelf)||function Zd(){return typeof $localize<"u"&&$localize.locale||bf}()}),NE=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Fv=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();class ow{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let RE=(()=>{var i;class s{compileModuleSync(u){return new wb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),v=Gc(Oi(u).declarations).reduce((b,C)=>{const S=tn(C);return S&&b.push(new Xh(S)),b},[]);return new ow(h,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const uw=new Mn(""),HE=new Mn("");let Zv,ZE=(()=>{var i;class s{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zv||(function Hv(i){Zv=i}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return(i=s).\u0275fac=function(u){return new(u||i)(jt(Ci),jt($E),jt(HE))},i.\u0275prov=Ft({token:i,factory:i.\u0275fac}),s})(),$E=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Zv?.findTestabilityInTree(this,u,h)??null}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),hu=null;const dw=new Mn("AllowMultipleToken"),hw=new Mn("PlatformDestroyListeners"),$v=new Mn("appBootstrapListener");class _S{constructor(s,l){this.name=s,this.token=l}}function si(i,s,l=[]){const u=`Platform: ${s}`,h=new Mn(u);return(f=[])=>{let v=pw();if(!v||v.injector.get(dw,!1)){const b=[...l,...f,{provide:h,useValue:!0}];i?i(b):function qE(i){if(hu&&!hu.get(dw,!1))throw new G(400,!1);(function fw(){!function ku(i){hl=i}(()=>{throw new G(600,!1)})})(),hu=i;const s=i.get(qv);(function GE(i){i.get(ig,null)?.forEach(l=>l())})(i)}(function KE(i=[],s){return ea.create({name:s,providers:[{provide:HC,useValue:"platform"},{provide:hw,useValue:new Set([()=>hu=null])},...i]})}(b,u))}return function wS(i){const s=pw();if(!s)throw new G(401,!1);return s}()}}function pw(){return hu?.get(qv)??null}let qv=(()=>{var i;class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function Gv(i="zone.js",s){return"noop"===i?new SM:"zone.js"===i?new Ci(s):i}(h?.ngZone,function YE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return f.run(()=>{const v=function WT(i,s,l){return new bv(i,s,l)}(u.moduleType,this.injector,function mw(i){return[{provide:Ci,useFactory:i},{provide:tg,multi:!0,useFactory:()=>{const s=Zt(gw,{optional:!0});return()=>s.initialize()}},{provide:Vf,useFactory:Kv},{provide:YD,useFactory:c1}]}(()=>f)),b=v.injector.get(qh,null);return f.runOutsideAngular(()=>{const C=f.onError.subscribe({next:S=>{b.handleError(S)}});v.onDestroy(()=>{Uf(this._modules,v),C.unsubscribe()})}),function pm(i,s,l){try{const u=l();return Q0(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(b,f,()=>{const C=v.injector.get(iw);return C.runInitializers(),C.donePromise.then(()=>(function Ex(i){nt(i,"Expected localeId to be defined"),"string"==typeof i&&(uv=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(ha,bf)||bf),this._moduleDoBootstrap(v),v))})})}bootstrapModule(u,h=[]){const f=JE({},h);return function zd(i,s,l){const u=new wb(l);return Promise.resolve(u)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(u){const h=u.injector.get(qd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new G(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(hw,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(u){return new(u||i)(jt(ea))},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function JE(i,s){return Array.isArray(s)?s.reduce(JE,i):{...i,...s}}let qd=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(Vf),this.zoneIsStable=Zt(YD),this.componentTypes=[],this.components=[],this.isStable=Zt(Fv).hasPendingTasks.pipe((0,V.w)(u=>u?(0,W.of)(!1):this.zoneIsStable),(0,H.x)(),(0,X.B)()),this._injector=Zt($c)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof RD;if(!this._injector.get(iw).done)throw!f&&gc(u),new G(405,!1);let b;b=f?u:this._injector.get(cg).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const C=function zE(i){return i.isBoundToModule}(b)?void 0:this._injector.get(ru),F=b.create(ea.NULL,[],h||b.selector,C),K=F.location.nativeElement,ve=F.injector.get(uw,null);return ve?.registerApplication(K),F.onDestroy(()=>{this.detachView(F.hostView),Uf(this.components,F),ve?.unregisterApplication(K)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new G(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Uf(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get($v,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Uf(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new G(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function Uf(i,s){const l=i.indexOf(s);l>-1&&i.splice(l,1)}const Vf=new Mn("",{providedIn:"root",factory:()=>Zt(qh).handleError.bind(void 0)});function Kv(){const i=Zt(Ci),s=Zt(qh);return l=>i.runOutsideAngular(()=>s.handleError(l))}let gw=(()=>{var i;class s{constructor(){this.zone=Zt(Ci),this.applicationRef=Zt(qd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Ft({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function XE(){return!1}function eI(){}let nI=(()=>{class s{}return s.__NG_ELEMENT_ID__=ES,s})();function ES(i){return function Bf(i,s,l){if(ws(i)&&!l){const u=mi(i.index,s);return new wg(u,u)}return 47&i.type?new wg(s[cr],s):null}(Hn(),ze(),16==(16&i))}class sI{constructor(){}supports(s){return $l(s)}create(s){return new so(s)}}const MS=(i,s)=>s;class so{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||MS}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,u=this._removalsHead,h=0,f=null;for(;l||u;){const v=!u||l&&l.currentIndex<Zf(u,h,f)?l:u,b=Zf(v,h,f),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{f||(f=[]);const S=b-h,F=C-h;if(S!=F){for(let ve=0;ve<S;ve++){const xe=ve<f.length?f[ve]:f[ve]=0,Ve=xe+ve;F<=Ve&&Ve<S&&(f[ve]=xe+1)}f[v.previousIndex]=F-S}}b!==C&&s(v,b,C)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!$l(s))throw new G(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,v,l=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)f=s[b],v=this._trackByFn(b,f),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,f,v,b)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,v,b),u=!0),l=l._next}else h=0,function O_(i,s){if(Array.isArray(i))for(let l=0;l<i.length;l++)s(i[l]);else{const l=i[Symbol.iterator]();let u;for(;!(u=l.next()).done;)s(u.value)}}(s,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,u,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,f,h)):s=this._addAfter(new PS(l,u),f,h),s}_verifyReinsertion(s,l,u,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,l,u),this._addToMoves(s,u),s}_moveAfter(s,l,u){return this._unlink(s),this._insertAfter(s,l,u),this._addToMoves(s,u),s}_addAfter(s,l,u){return this._insertAfter(s,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,u){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new ym),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,u=s._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ym),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class PS{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const l=s._prevDup,u=s._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class ym{constructor(){this.map=new Map}put(s){const l=s.trackById;let u=this.map.get(l);u||(u=new aI,this.map.set(l,u)),u.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zf(i,s,l){const u=i.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+s+h}class ey{constructor(){}supports(s){return s instanceof Map||N_(s)}create(){return new cI}}class cI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||N_(s)))throw new G(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const u=s._prev;return l._next=s,l._prev=u,s._prev=l,u&&(u._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const f=h._prev,v=h._next;return f&&(f._next=v),v&&(v._prev=f),h._next=null,h._prev=null,h}const u=new OS(s);return this._records.set(s,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(u=>l(s[u],u))}}class OS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lI(){return new bw([new sI])}let bw=(()=>{var i;class s{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||lI()),deps:[[s,new Uc,new Qu]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new G(901,!1)}}return(i=s).\u0275prov=Ft({token:i,providedIn:"root",factory:lI}),s})();function uI(){return new ww([new ey])}let ww=(()=>{var i;class s{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||uI()),deps:[[s,new Uc,new Qu]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new G(901,!1)}}return(i=s).\u0275prov=Ft({token:i,providedIn:"root",factory:uI}),s})();const xw=si(null,"core",[]);let dI=(()=>{var i;class s{constructor(u){}}return(i=s).\u0275fac=function(u){return new(u||i)(jt(qd))},i.\u0275mod=Cu({type:i}),i.\u0275inj=cn({}),s})();function wI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function VS(i){const s=tn(i);if(!s)return null;const l=new Xh(s);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(Le,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>ne});var a=P(9058),L=P(4537),O=P(7592),z=P(7879);class ee{constructor(pe,Z){this._delegate=pe,this.firebase=Z,(0,O._addComponent)(pe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(pe,Z=O._DEFAULT_ENTRY_NAME){var J;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(pe);return!_e.isInitialized()&&"EXPLICIT"===(null===(J=_e.getComponent())||void 0===J?void 0:J.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:Z})}_removeServiceInstance(pe,Z=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Z)}_addComponent(pe){(0,O._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,O._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),N=function H(){const ae=function V(ae){const pe={},Z={__esModule:!0,initializeApp:function G(be,ue={}){const Ee=O.initializeApp(be,ue);if((0,a.r3)(pe,Ee.name))return pe[Ee.name];const ye=new ae(Ee,Z);return pe[Ee.name]=ye,ye},app:_e,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Y(be){const ue=be.name,Ee=ue.replace("-compat","");if(O._registerComponent(be)&&"PUBLIC"===be.type){const ye=(Ne=_e())=>{if("function"!=typeof Ne[Ee])throw X.create("invalid-app-argument",{appName:ue});return Ne[Ee]()};void 0!==be.serviceProps&&(0,a.ZB)(ye,be.serviceProps),Z[Ee]=ye,ae.prototype[Ee]=function(...Ne){return this._getService.bind(this,ue).apply(this,be.multipleInstances?Ne:[])}}return"PUBLIC"===be.type?Z[Ee]:null},removeApp:function J(be){delete pe[be]},useAsService:function ge(be,ue){return"serverAuth"===ue?null:ue},modularAPIs:O}};function _e(be){if(!(0,a.r3)(pe,be=be||O._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:be});return pe[be]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function he(){return Object.keys(pe).map(be=>pe[be])}}),_e.App=ae,Z}(ee);return ae.INTERNAL=Object.assign(Object.assign({},ae.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function pe(Z){(0,a.ZB)(ae,Z)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ae}(),M=new z.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){M.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ae=self.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&M.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ne=N;!function $(ae){(0,O.registerVersion)("@firebase/app-compat","0.2.13",ae)}()},7592:(Le,Ce,P)=>{"use strict";P.r(Ce),P.d(Ce,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>Bn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Be,_addOrOverwriteComponent:()=>On,_apps:()=>Re,_clearComponents:()=>rn,_components:()=>nt,_getProvider:()=>en,_registerComponent:()=>wt,_removeServiceInstance:()=>Ft,deleteApp:()=>Yn,getApp:()=>li,getApps:()=>Ir,initializeApp:()=>Kn,onLog:()=>Nr,registerVersion:()=>_n,setLogLevel:()=>At});var W,X,V,a=P(5861),L=P(4537),O=P(7879),z=P(9058),ee=P(1878);class H{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function N(qe){const me=qe.getComponent();return"VERSION"===me?.type}(Fe)){const tt=Fe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const M="@firebase/app",U="0.9.13",B=new O.Yd("@firebase/app"),le="[DEFAULT]",Ue={[M]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Re=new Map,nt=new Map;function Be(qe,me){try{qe.container.addComponent(me)}catch(Fe){B.debug(`Component ${me.name} failed to register with FirebaseApp ${qe.name}`,Fe)}}function On(qe,me){qe.container.addOrOverwriteComponent(me)}function wt(qe){const me=qe.name;if(nt.has(me))return B.debug(`There were multiple attempts to register component ${me}.`),!1;nt.set(me,qe);for(const Fe of Re.values())Be(Fe,qe);return!0}function en(qe,me){const Fe=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),qe.container.getProvider(me)}function Ft(qe,me,Fe=le){en(qe,me).clearInstance(Fe)}function rn(){nt.clear()}const Jt=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ln{constructor(me,Fe,tt){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const Bn="9.23.0";function Kn(qe,me={}){let Fe=qe;"object"!=typeof me&&(me={name:me});const tt=Object.assign({name:le,automaticDataCollectionEnabled:!1},me),st=tt.name;if("string"!=typeof st||!st)throw Jt.create("bad-app-name",{appName:String(st)});if(Fe||(Fe=(0,z.aH)()),!Fe)throw Jt.create("no-options");const vt=Re.get(st);if(vt){if((0,z.vZ)(Fe,vt.options)&&(0,z.vZ)(tt,vt.config))return vt;throw Jt.create("duplicate-app",{appName:st})}const bn=new L.H0(st);for(const se of nt.values())bn.addComponent(se);const de=new ln(Fe,tt,bn);return Re.set(st,de),de}function li(qe=le){const me=Re.get(qe);if(!me&&qe===le&&(0,z.aH)())return Kn();if(!me)throw Jt.create("no-app",{appName:qe});return me}function Ir(){return Array.from(Re.values())}function Yn(qe){return(W=W||(0,a.Z)(function*(me){const Fe=me.name;Re.has(Fe)&&(Re.delete(Fe),yield Promise.all(me.container.getProviders().map(tt=>tt.delete())),me.isDeleted=!0)})).apply(this,arguments)}function _n(qe,me,Fe){var tt;let st=null!==(tt=Ue[qe])&&void 0!==tt?tt:qe;Fe&&(st+=`-${Fe}`);const vt=st.match(/\s|\//),bn=me.match(/\s|\//);if(vt||bn){const de=[`Unable to register library "${st}" with version "${me}":`];return vt&&de.push(`library name "${st}" contains illegal characters (whitespace or "/")`),vt&&bn&&de.push("and"),bn&&de.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void B.warn(de.join(" "))}wt(new L.wA(`${st}-version`,()=>({library:st,version:me}),"VERSION"))}function Nr(qe,me){if(null!==qe&&"function"!=typeof qe)throw Jt.create("invalid-log-argument");(0,O.Am)(qe,me)}function At(qe){(0,O.Ub)(qe)}const Nt="firebase-heartbeat-database",Vt=1,an="firebase-heartbeat-store";let dr=null;function Xn(){return dr||(dr=(0,ee.X3)(Nt,Vt,{upgrade:(qe,me)=>{0===me&&qe.createObjectStore(an)}}).catch(qe=>{throw Jt.create("idb-open",{originalErrorMessage:qe.message})})),dr}function Dn(qe,me){return(V=V||(0,a.Z)(function*(Fe,tt){try{const vt=(yield Xn()).transaction(an,"readwrite");yield vt.objectStore(an).put(tt,Rr(Fe)),yield vt.done}catch(st){if(st instanceof z.ZR)B.warn(st.message);else{const vt=Jt.create("idb-set",{originalErrorMessage:st?.message});B.warn(vt.message)}}})).apply(this,arguments)}function Rr(qe){return`${qe.name}!${qe.options.appId}`}class un{constructor(me){this.container=me,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new $i(Fe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var me=this;return(0,a.Z)(function*(){const tt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=ui();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==st&&!me._heartbeatsCache.heartbeats.some(vt=>vt.date===st))return me._heartbeatsCache.heartbeats.push({date:st,agent:tt}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(vt=>{const bn=new Date(vt.date).valueOf();return Date.now()-bn<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,a.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const Fe=ui(),{heartbeatsToSend:tt,unsentEntries:st}=function Zi(qe,me=1024){const Fe=[];let tt=qe.slice();for(const st of qe){const vt=Fe.find(bn=>bn.agent===st.agent);if(vt){if(vt.dates.push(st.date),Gr(Fe)>me){vt.dates.pop();break}}else if(Fe.push({agent:st.agent,dates:[st.date]}),Gr(Fe)>me){Fe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:tt}}(me._heartbeatsCache.heartbeats),vt=(0,z.L)(JSON.stringify({version:2,heartbeats:tt}));return me._heartbeatsCache.lastSentHeartbeatDate=Fe,st.length>0?(me._heartbeatsCache.heartbeats=st,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),vt})()}}function ui(){return(new Date).toISOString().substring(0,10)}class $i{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,a.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function fn(qe){return(X=X||(0,a.Z)(function*(me){try{return yield(yield Xn()).transaction(an).objectStore(an).get(Rr(me))}catch(Fe){if(Fe instanceof z.ZR)B.warn(Fe.message);else{const tt=Jt.create("idb-get",{originalErrorMessage:Fe?.message});B.warn(tt.message)}}})).apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var Fe=this;return(0,a.Z)(function*(){var tt;if(yield Fe._canUseIndexedDBPromise){const vt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(tt=me.lastSentHeartbeatDate)&&void 0!==tt?tt:vt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Fe=this;return(0,a.Z)(function*(){var tt;if(yield Fe._canUseIndexedDBPromise){const vt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(tt=me.lastSentHeartbeatDate)&&void 0!==tt?tt:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...me.heartbeats]})}})()}}function Gr(qe){return(0,z.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Do(qe){wt(new L.wA("platform-logger",me=>new H(me),"PRIVATE")),wt(new L.wA("heartbeat",me=>new un(me),"PRIVATE")),_n(M,U,qe),_n(M,U,"esm2017"),_n("fire-js","")}("")},4097:(Le,Ce,P)=>{"use strict";P.d(Ce,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=P(7592);(0,a.registerVersion)("firebase","9.23.0","app")},120:(Le,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>a.Z});var a=P(3399);a.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(Le,Ce,P)=>{"use strict";P.r(Ce);var V,H,N,M,U,B,$,ne,ae,pe,Z,J,_e,G,he,Y,ge,be,ue,Ee,ye,Ne,Xe,Ze,lt,gt,xt,kt,te,ce,fe,le,Ue,Re,nt,Be,On,wt,en,Ft,rn,cn,Jt,ln,Bn,Kn,li,Ir,Yn,_n,Nr,At,Nt,Vt,an,dr,Xn,Dn,Rr,gn,Hi,un,ui,Zi,$i,Gr,Do,qe,me,Fe,tt,st,vt,bn,de,se,we,je,Se,at,Pt,a=P(5861),L=P(3399),O=P(9058),z=P(7592),ee=P(7582),W=P(7879),X=P(4537);const ar={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const _u=function Dr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},tp=function Zo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},To=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zi=new W.Yd("@firebase/auth");function dn(x,...p){zi.logLevel<=W.in.ERROR&&zi.error(`Auth (${z.SDK_VERSION}): ${x}`,...p)}function $n(x,...p){throw Ao(x,...p)}function zn(x,...p){return Ao(x,...p)}function dc(x,p,g){const _=Object.assign(Object.assign({},tp()),{[p]:g});return new O.LL("auth","Firebase",_).create(p,{appName:x.name})}function vs(x,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&$n(x,"argument-error"),dc(x,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ao(x,...p){if("string"!=typeof x){const g=p[0],_=[...p.slice(1)];return _[0]&&(_[0].appName=x.name),x._errorFactory.create(g,..._)}return To.create(x,...p)}function Je(x,p,...g){if(!x)throw Ao(p,...g)}function Ai(x){const p="INTERNAL ASSERTION FAILED: "+x;throw dn(p),new Error(p)}function Mi(x,p){x||Ai(p)}function Fr(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function ol(){return"http:"===sl()||"https:"===sl()}function sl(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Us{constructor(p,g){this.shortDelay=p,this.longDelay=g,Mi(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function hc(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ol()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jd(x,p){Mi(x.emulator,"Emulator should always be set here");const{url:g}=x.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Pi{static initialize(p,g,_){this.fetchImpl=p,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const km={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},np=new Us(3e4,6e4);function hn(x,p){return x.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:x.tenantId}):p}function Nn(x,p,g,_){return(V=V||(0,a.Z)(function*(D,k,q,re,Te={}){return al(D,Te,(0,a.Z)(function*(){let ke={},yt={};re&&("GET"===k?yt=re:ke={body:JSON.stringify(re)});const ct=(0,O.xO)(Object.assign({key:D.config.apiKey},yt)).slice(1),Et=yield D._getAdditionalHeaders();return Et["Content-Type"]="application/json",D.languageCode&&(Et["X-Firebase-Locale"]=D.languageCode),Pi.fetch()(rp(D,D.config.apiHost,q,ct),Object.assign({method:k,headers:Et,referrerPolicy:"no-referrer"},ke))}))})).apply(this,arguments)}function al(x,p,g){return(H=H||(0,a.Z)(function*(_,D,k){_._canInitEmulator=!1;const q=Object.assign(Object.assign({},km),D);try{const re=new Qd(_),Te=yield Promise.race([k(),re.promise]);re.clearNetworkTimeout();const ke=yield Te.json();if("needConfirmation"in ke)throw fc(_,"account-exists-with-different-credential",ke);if(Te.ok&&!("errorMessage"in ke))return ke;{const yt=Te.ok?ke.errorMessage:ke.error.message,[ct,Et]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw fc(_,"credential-already-in-use",ke);if("EMAIL_EXISTS"===ct)throw fc(_,"email-already-in-use",ke);if("USER_DISABLED"===ct)throw fc(_,"user-disabled",ke);const Qt=q[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw dc(_,Qt,Et);$n(_,Qt)}}catch(re){if(re instanceof O.ZR)throw re;$n(_,"network-request-failed",{message:String(re)})}})).apply(this,arguments)}function $o(x,p,g,_){return(N=N||(0,a.Z)(function*(D,k,q,re,Te={}){const ke=yield Nn(D,k,q,re,Te);return"mfaPendingCredential"in ke&&$n(D,"multi-factor-auth-required",{_serverResponse:ke}),ke})).apply(this,arguments)}function rp(x,p,g,_){const D=`${p}${g}?${_}`;return x.config.emulator?Jd(x.config,D):`${x.config.apiScheme}://${D}`}class Qd{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(zn(this.auth,"network-request-failed")),np.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(x,p,g){const _={appName:x.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const D=zn(x,p,_);return D.customData._tokenResponse=g,D}function Lr(x){if(x)try{const p=new Date(Number(x));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function wu(x){return 1e3*Number(x)}function pc(x){const[p,g,_]=x.split(".");if(void 0===p||void 0===g||void 0===_)return dn("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(g);return D?JSON.parse(D):(dn("Failed to decode base64 JWT payload"),null)}catch(D){return dn("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Jn(x,p){return(ne=ne||(0,a.Z)(function*(g,_,D=!1){if(D)return _;try{return yield _}catch(k){throw k instanceof O.ZR&&function eh({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(k)&&g.auth.currentUser===g&&(yield g.auth.signOut()),k}})).apply(this,arguments)}class th{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),_)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class xu{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lr(this.lastLoginAt),this.creationTime=Lr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(x){return(ae=ae||(0,a.Z)(function*(p){var g;const _=p.auth,D=yield p.getIdToken(),k=yield Jn(p,function op(x,p){return(B=B||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}(_,{idToken:D}));Je(k?.users.length,_,"internal-error");const q=k.users[0];p._notifyReloadListener(q);const re=null!==(g=q.providerUserInfo)&&void 0!==g&&g.length?function gc(x){return x.map(p=>{var{providerId:g}=p,_=(0,ee._T)(p,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(q.providerUserInfo):[],Te=function Sr(x,p){return[...x.filter(_=>!p.some(D=>D.providerId===_.providerId)),...p]}(p.providerData,re),ct=!!p.isAnonymous&&!(p.email&&q.passwordHash||Te?.length),Et={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Te,metadata:new xu(q.createdAt,q.lastLoginAt),isAnonymous:ct};Object.assign(p,Et)})).apply(this,arguments)}class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Je(p.idToken,"internal-error"),Je(typeof p.idToken<"u","internal-error"),Je(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Cu(x){const p=pc(x);return Je(p,"internal-error"),Je(typeof p.exp<"u","internal-error"),Je(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var _=this;return(0,a.Z)(function*(){return Je(!_.accessToken||_.refreshToken,p,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(p,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var _=this;return(0,a.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:q}=yield function Oi(x,p){return(Z=Z||(0,a.Z)(function*(g,_){const D=yield al(g,{},(0,a.Z)(function*(){const k=(0,O.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:q,apiKey:re}=g.config,Te=rp(g,q,"/v1/token",`key=${re}`),ke=yield g._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",Pi.fetch()(Te,{method:"POST",headers:ke,body:k})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}(p,g);_.updateTokensAndExpiration(D,k,Number(q))})()}updateTokensAndExpiration(p,g,_){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(p,g){const{refreshToken:_,accessToken:D,expirationTime:k}=g,q=new ma;return _&&(Je("string"==typeof _,"internal-error",{appName:p}),q.refreshToken=_),D&&(Je("string"==typeof D,"internal-error",{appName:p}),q.accessToken=D),k&&(Je("number"==typeof k,"internal-error",{appName:p}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return Ai("not implemented")}}function qo(x,p){Je("string"==typeof x||typeof x>"u","internal-error",{appName:p})}class Go{constructor(p){var{uid:g,auth:_,stsTokenManager:D}=p,k=(0,ee._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new th(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new xu(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,a.Z)(function*(){const _=yield Jn(g,g.stsTokenManager.getToken(g.auth,p));return Je(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(p){return function Xd(x){return($=$||(0,a.Z)(function*(p,g=!1){const _=(0,O.m9)(p),D=yield _.getIdToken(g),k=pc(D);Je(k&&k.exp&&k.auth_time&&k.iat,_.auth,"internal-error");const q="object"==typeof k.firebase?k.firebase:void 0,re=q?.sign_in_provider;return{claims:k,token:D,authTime:Lr(wu(k.auth_time)),issuedAtTime:Lr(wu(k.iat)),expirationTime:Lr(wu(k.exp)),signInProvider:re||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}(this,p)}reload(){return function Tr(x){return(pe=pe||(0,a.Z)(function*(p){const g=(0,O.m9)(p);yield tn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}(this)}_assign(p){this!==p&&(Je(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Go(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var _=this;return(0,a.Z)(function*(){let D=!1;p.idToken&&p.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(p),D=!0),g&&(yield tn(_)),yield _.auth._persistUserIfCurrent(_),D&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var p=this;return(0,a.Z)(function*(){const g=yield p.getIdToken();return yield Jn(p,function zo(x,p){return(M=M||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var _,D,k,q,re,Te,ke,yt;const ct=null!==(_=g.displayName)&&void 0!==_?_:void 0,Et=null!==(D=g.email)&&void 0!==D?D:void 0,Qt=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,An=null!==(q=g.photoURL)&&void 0!==q?q:void 0,pr=null!==(re=g.tenantId)&&void 0!==re?re:void 0,ti=null!==(Te=g._redirectEventId)&&void 0!==Te?Te:void 0,Fo=null!==(ke=g.createdAt)&&void 0!==ke?ke:void 0,Za=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Fl,emailVerified:n0,isAnonymous:Ll,providerData:jc,stsTokenManager:r0}=g;Je(Fl&&r0,p,"internal-error");const Iy=ma.fromJSON(this.name,r0);Je("string"==typeof Fl,p,"internal-error"),qo(ct,p.name),qo(Et,p.name),Je("boolean"==typeof n0,p,"internal-error"),Je("boolean"==typeof Ll,p,"internal-error"),qo(Qt,p.name),qo(An,p.name),qo(pr,p.name),qo(ti,p.name),qo(Fo,p.name),qo(Za,p.name);const qp=new Go({uid:Fl,auth:p,email:Et,emailVerified:n0,displayName:ct,isAnonymous:Ll,photoURL:An,phoneNumber:Qt,tenantId:pr,stsTokenManager:Iy,createdAt:Fo,lastLoginAt:Za});return jc&&Array.isArray(jc)&&(qp.providerData=jc.map(o0=>Object.assign({},o0))),ti&&(qp._redirectEventId=ti),qp}static _fromIdTokenResponse(p,g,_=!1){return(0,a.Z)(function*(){const D=new ma;D.updateFromServerResponse(g);const k=new Go({uid:g.localId,auth:p,stsTokenManager:D,isAnonymous:_});return yield tn(k),k})()}}const sp=new Map;function qi(x){Mi(x instanceof Function,"Expected a class definition");let p=sp.get(x);return p?(Mi(p instanceof x,"Instance stored in cache mismatched with class"),p):(p=new x,sp.set(x,p),p)}const it=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,_){var D=this;return(0,a.Z)(function*(){D.storage[g]=_})()}_get(g){var _=this;return(0,a.Z)(function*(){const D=_.storage[g];return void 0===D?null:D})()}_remove(g){var _=this;return(0,a.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return x.type="NONE",x})();function Ut(x,p,g){return`firebase:${x}:${p}:${g}`}class Tn{constructor(p,g,_){this.persistence=p,this.auth=g,this.userKey=_;const{config:D,name:k}=this.auth;this.fullUserKey=Ut(this.userKey,D.apiKey,k),this.fullPersistenceKey=Ut("persistence",D.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Go._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,a.Z)(function*(){if(g.persistence===p)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,_="authUser"){return(0,a.Z)(function*(){var D,k;if(!g.length)return new Tn(qi(it),p,_);const q=(yield Promise.all(g.map(function(ct){return(D=D||(0,a.Z)(function*(Et){if(yield Et._isAvailable())return Et})).apply(this,arguments)}))).filter(ct=>ct);let re=q[0]||qi(it);const Te=Ut(_,p.config.apiKey,p.name);let ke=null;for(const ct of g)try{const Et=yield ct._get(Te);if(Et){const Qt=Go._fromJSON(p,Et);ct!==re&&(ke=Qt),re=ct;break}}catch{}const yt=q.filter(ct=>ct._shouldAllowMigration);return re._shouldAllowMigration&&yt.length?(re=yt[0],ke&&(yield re._set(Te,ke.toJSON())),yield Promise.all(g.map(function(ct){return(k=k||(0,a.Z)(function*(Et){if(Et!==re)try{yield Et._remove(Te)}catch{}})).apply(this,arguments)})),new Tn(re,p,_)):new Tn(re,p,_)})()}}function di(x){const p=x.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Sn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(_s(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Vs(p))return"Blackberry";if(Bt(p))return"Webos";if(Ar(p))return"Safari";if((p.includes("chrome/")||va(p))&&!p.includes("edge/"))return"Chrome";if(Ni(p))return"Android";{const _=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function _s(x=(0,O.z$)()){return/firefox\//i.test(x)}function Ar(x=(0,O.z$)()){const p=x.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function va(x=(0,O.z$)()){return/crios\//i.test(x)}function Sn(x=(0,O.z$)()){return/iemobile/i.test(x)}function Ni(x=(0,O.z$)()){return/android/i.test(x)}function Vs(x=(0,O.z$)()){return/blackberry/i.test(x)}function Bt(x=(0,O.z$)()){return/webos/i.test(x)}function Mo(x=(0,O.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function vc(x=(0,O.z$)()){return Mo(x)||Ni(x)||Bt(x)||Vs(x)||/windows phone/i.test(x)||Sn(x)}function co(x,p=[]){let g;switch(x){case"Browser":g=di((0,O.z$)());break;case"Worker":g=`${di((0,O.z$)())}-${x}`;break;default:g=x}const _=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${z.SDK_VERSION}/${_}`}function Eu(x,p){return(_e=_e||(0,a.Z)(function*(g,_){return Nn(g,"GET","/v2/recaptchaConfig",hn(g,_))})).apply(this,arguments)}function Bs(x){return void 0!==x&&void 0!==x.getResponse}function lo(x){return void 0!==x&&void 0!==x.enterprise}class bc{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function nn(x){return new Promise((p,g)=>{const _=document.createElement("script");_.setAttribute("src",x),_.onload=p,_.onerror=D=>{const k=zn("internal-error");k.customData=D,g(k)},_.type="text/javascript",_.charset="UTF-8",function bs(){var x,p;return null!==(p=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==p?p:document}().appendChild(_)})}function ap(x){return`__${x}${Math.floor(1e6*Math.random())}`}class ya{constructor(p){this.type="recaptcha-enterprise",this.auth=lr(p)}verify(p="verify",g=!1){var _=this;return(0,a.Z)(function*(){var D;function q(re,Te,ke){const yt=window.grecaptcha;lo(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(re,{action:p}).then(ct=>{Te(ct)}).catch(()=>{Te("NO_RECAPTCHA")})}):ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((re,Te)=>{(function k(re){return(D=D||(0,a.Z)(function*(Te){var ke;if(!g){if(null==Te.tenantId&&null!=Te._agentRecaptchaConfig)return Te._agentRecaptchaConfig.siteKey;if(null!=Te.tenantId&&void 0!==Te._tenantRecaptchaConfigs[Te.tenantId])return Te._tenantRecaptchaConfigs[Te.tenantId].siteKey}return new Promise(function(yt,ct){return(ke=ke||(0,a.Z)(function*(Et,Qt){Eu(Te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(An=>{if(void 0!==An.recaptchaKey){const pr=new bc(An);return null==Te.tenantId?Te._agentRecaptchaConfig=pr:Te._tenantRecaptchaConfigs[Te.tenantId]=pr,Et(pr.siteKey)}Qt(new Error("recaptcha Enterprise site key undefined"))}).catch(An=>{Qt(An)})})).apply(this,arguments)})})).apply(this,arguments)})(_.auth).then(ke=>{if(!g&&lo(window.grecaptcha))q(ke,re,Te);else{if(typeof window>"u")return void Te(new Error("RecaptchaVerifier is only supported in browser"));nn("https://www.google.com/recaptcha/enterprise.js?render="+ke).then(()=>{q(ke,re,Te)}).catch(yt=>{Te(yt)})}}).catch(ke=>{Te(ke)})})})()}}function hi(x,p,g){return(G=G||(0,a.Z)(function*(_,D,k,q=!1){const re=new ya(_);let Te;try{Te=yield re.verify(k)}catch{Te=yield re.verify(k,!0)}const ke=Object.assign({},D);return Object.assign(ke,q?{captchaResp:Te}:{captchaResponse:Te}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke})).apply(this,arguments)}class js{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const _=k=>new Promise((q,re)=>{try{q(p(k))}catch(Te){re(Te)}});_.onAbort=g,this.queue.push(_);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===p)return;const _=[];try{for(const D of g.queue)yield D(p),D.onAbort&&_.push(D.onAbort)}catch(D){_.reverse();for(const k of _)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Mr{constructor(p,g,_,D){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=To,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(p,g){var _=this;return g&&(this._popupRedirectResolver=qi(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var D,k;if(!_._deleted&&(_.persistenceManager=yield Tn.create(_,p),!_._deleted)){if(null!==(D=_._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(k=_.currentUser)||void 0===k?void 0:k.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,a.Z)(function*(){var _;const D=yield g.assertedPersistence.getCurrentUser();let k=D,q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const re=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Te=k?._redirectEventId,ke=yield g.tryRedirectSignIn(p);(!re||re===Te)&&ke?.user&&(k=ke.user,q=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(k)}catch(re){k=D,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(re))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return Je(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var g=this;return(0,a.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,a.Z)(function*(){try{yield tn(p)}catch(_){if("auth/network-request-failed"!==_?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ys(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){const _=p?(0,O.m9)(p):null;return _&&Je(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(p,g=!1){var _=this;return(0,a.Z)(function*(){if(!_._deleted)return p&&Je(_.tenantId===p.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(p)),_.queue((0,a.Z)(function*(){yield _.directlySetCurrentUser(p),_.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(qi(p))}))}initializeRecaptchaConfig(){var p=this;return(0,a.Z)(function*(){const g=yield Eu(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new bc(g);null==p.tenantId?p._agentRecaptchaConfig=_:p._tenantRecaptchaConfigs[p.tenantId]=_,_.emailPasswordEnabled&&new ya(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,g,_){return this.registerStateListener(this.authStateSubscription,p,g,_)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,_){return this.registerStateListener(this.idTokenSubscription,p,g,_)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var _=this;return(0,a.Z)(function*(){const D=yield _.getOrInitRedirectPersistenceManager(g);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const _=p&&qi(p)||g._popupRedirectResolver;Je(_,g,"argument-error"),g.redirectPersistenceManager=yield Tn.create(g,[qi(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,a.Z)(function*(){var _,D;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===p?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,a.Z)(function*(){if(p===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,_,D){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,_,D):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=co(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var g;const _={"X-Client-Version":p.clientVersion};p.app.options.appId&&(_["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();D&&(_["X-Firebase-Client"]=D);const k=yield p._getAppCheckToken();return k&&(_["X-Firebase-AppCheck"]=k),_})()}_getAppCheckToken(){var p=this;return(0,a.Z)(function*(){var g;const _=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return _?.error&&function So(x,...p){zi.logLevel<=W.in.WARN&&zi.warn(`Auth (${z.SDK_VERSION}): ${x}`,...p)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function lr(x){return(0,O.m9)(x)}class Ur{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gi(x){const p=x.indexOf(":");return p<0?"":x.substr(0,p+1)}function wc(x){if(!x)return null;const p=Number(x);return isNaN(p)?null:p}class _a{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ai("not implemented")}_getIdTokenResponse(p){return Ai("not implemented")}_linkToIdToken(p,g){return Ai("not implemented")}_getReauthenticationResolver(p){return Ai("not implemented")}}function Fm(x,p){return(he=he||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:resetPassword",hn(g,_))})).apply(this,arguments)}function Au(x,p){return(Y=Y||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Mu(x,p){return(be=be||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithPassword",hn(g,_))})).apply(this,arguments)}function cl(x,p){return(ue=ue||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:sendOobCode",hn(g,_))})).apply(this,arguments)}function rh(x,p){return(ye=ye||(0,a.Z)(function*(g,_){return cl(g,_)})).apply(this,arguments)}function jn(x,p){return(Ne=Ne||(0,a.Z)(function*(g,_){return cl(g,_)})).apply(this,arguments)}class ll extends _a{constructor(p,g,_,D=null){super("password",_),this._email=p,this._password=g,this._tenantId=D}static _fromEmailAndPassword(p,g){return new ll(p,g,"password")}static _fromEmailAndCode(p,g,_=null){return new ll(p,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,a.Z)(function*(){var _;switch(g.signInMethod){case"password":const k={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=p._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const q=yield hi(p,k,"signInWithPassword");return Mu(p,q)}var D;return Mu(p,k).catch(function(q){return(D=D||(0,a.Z)(function*(re){if("auth/missing-recaptcha-token"===re.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Te=yield hi(p,k,"signInWithPassword");return Mu(p,Te)}return Promise.reject(re)})).apply(this,arguments)});case"emailLink":return function Vm(x,p){return(Ze=Ze||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithEmailLink",hn(g,_))})).apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:$n(p,"internal-error")}})()}_linkToIdToken(p,g){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return Au(p,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Bm(x,p){return(lt=lt||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithEmailLink",hn(g,_))})).apply(this,arguments)}(p,{idToken:g,email:_._email,oobCode:_._password});default:$n(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Cs(x,p){return(gt=gt||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithIdp",hn(g,_))})).apply(this,arguments)}class Wo extends _a{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Wo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):$n("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:_,signInMethod:D}=g,k=(0,ee._T)(g,["providerId","signInMethod"]);if(!_||!D)return null;const q=new Wo(_,D);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(p){return Cs(p,this.buildRequest())}_linkToIdToken(p,g){const _=this.buildRequest();return _.idToken=g,Cs(p,_)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,O.xO)(g)}return p}}const Zm={USER_NOT_FOUND:"user-not-found"};class fi extends _a{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new fi({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new fi({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function ih(x,p){return(kt=kt||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithPhoneNumber",hn(g,_))})).apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Hm(x,p){return(te=te||(0,a.Z)(function*(g,_){const D=yield $o(g,"POST","/v1/accounts:signInWithPhoneNumber",hn(g,_));if(D.temporaryProof)throw fc(g,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function oh(x,p){return(ce=ce||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithPhoneNumber",hn(g,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Zm)})).apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:_,verificationCode:D}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:_,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:_,phoneNumber:D,temporaryProof:k}=p;return _||g||D||k?new fi({verificationId:g,verificationCode:_,phoneNumber:D,temporaryProof:k}):null}}class uo{constructor(p){var g,_,D,k,q,re;const Te=(0,O.zd)((0,O.pd)(p)),ke=null!==(g=Te.apiKey)&&void 0!==g?g:null,yt=null!==(_=Te.oobCode)&&void 0!==_?_:null,ct=function Ko(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Te.mode)&&void 0!==D?D:null);Je(ke&&yt&&ct,"argument-error"),this.apiKey=ke,this.operation=ct,this.code=yt,this.continueUrl=null!==(k=Te.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=Te.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(re=Te.tenantId)&&void 0!==re?re:null}static parseLink(p){const g=function Ou(x){const p=(0,O.zd)((0,O.pd)(x)).link,g=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,_=(0,O.zd)((0,O.pd)(x)).deep_link_id;return(_?(0,O.zd)((0,O.pd)(_)).link:null)||_||g||p||x}(p);try{return new uo(g)}catch{return null}}}let Cc=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(g,_){return ll._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const D=uo.parseLink(_);return Je(D,"argument-error"),ll._fromEmailAndCode(g,D.code,D.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class tr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ho extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ba extends ho{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Je("providerId"in g&&"signInMethod"in g,"argument-error"),Wo._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Je(p.idToken||p.accessToken,"argument-error"),Wo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ba.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ba.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:D,pendingToken:k,nonce:q,providerId:re}=p;if(!_&&!D&&!g&&!k||!re)return null;try{return new ba(re)._credential({idToken:g,accessToken:_,nonce:q,pendingToken:k})}catch{return null}}}let Nu=(()=>{class x extends ho{constructor(){super("facebook.com")}static credential(g){return Wo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return x.credentialFromTaggedObject(g)}static credentialFromError(g){return x.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return x.credential(g.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Ru=(()=>{class x extends ho{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return Wo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return x.credentialFromTaggedObject(g)}static credentialFromError(g){return x.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:D}=g;if(!_&&!D)return null;try{return x.credential(_,D)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),xc=(()=>{class x extends ho{constructor(){super("github.com")}static credential(g){return Wo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return x.credentialFromTaggedObject(g)}static credentialFromError(g){return x.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return x.credential(g.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class xs extends _a{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Cs(p,this.buildRequest())}_linkToIdToken(p,g){const _=this.buildRequest();return _.idToken=g,Cs(p,_)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:_,signInMethod:D,pendingToken:k}=g;return _&&D&&k&&_===D?new xs(_,k):null}static _create(p,g){return new xs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ki extends tr{constructor(p){Je(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ki.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ki.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=xs.fromJSON(p);return Je(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:_}=p;if(!g||!_)return null;try{return xs._create(_,g)}catch{return null}}}let sh=(()=>{class x extends ho{constructor(){super("twitter.com")}static credential(g,_){return Wo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return x.credentialFromTaggedObject(g)}static credentialFromError(g){return x.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:D}=g;if(!_||!D)return null;try{return x.credential(_,D)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Ca(x,p){return(fe=fe||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signUp",hn(g,_))})).apply(this,arguments)}class pi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,_,D=!1){return(0,a.Z)(function*(){const k=yield Go._fromIdTokenResponse(p,_,D),q=xa(_);return new pi({user:k,providerId:q,_tokenResponse:_,operationType:g})})()}static _forOperation(p,g,_){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(_,!0);const D=xa(_);return new pi({user:p,providerId:D,_tokenResponse:_,operationType:g})})()}}function xa(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}class ul extends O.ZR{constructor(p,g,_,D){var k;super(g.code,g.message),this.operationType=_,this.user=D,Object.setPrototypeOf(this,ul.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(p,g,_,D){return new ul(p,g,_,D)}}function lp(x,p,g,_){return("reauthenticate"===p?g._getReauthenticationResolver(x):g._getIdTokenResponse(x)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ul._fromErrorAndOperation(x,k,p,_):k})}function dl(x){return new Set(x.map(({providerId:p})=>p).filter(p=>!!p))}function Hs(x,p){return(Re=Re||(0,a.Z)(function*(g,_,D=!1){const k=yield Jn(g,_._linkToIdToken(g.auth,yield g.getIdToken()),D);return pi._forOperation(g,"link",k)})).apply(this,arguments)}function Ec(x,p,g){return(nt=nt||(0,a.Z)(function*(_,D,k){yield tn(D);const re=!1===_?"provider-already-linked":"no-such-provider";Je(dl(D.providerData).has(k)===_,D.auth,re)})).apply(this,arguments)}function up(x,p){return(Be=Be||(0,a.Z)(function*(g,_,D=!1){const{auth:k}=g,q="reauthenticate";try{const re=yield Jn(g,lp(k,q,_,g),D);Je(re.idToken,k,"internal-error");const Te=pc(re.idToken);Je(Te,k,"internal-error");const{sub:ke}=Te;return Je(g.uid===ke,k,"user-mismatch"),pi._forOperation(g,q,re)}catch(re){throw"auth/user-not-found"===re?.code&&$n(k,"user-mismatch"),re}})).apply(this,arguments)}function hl(x,p){return(On=On||(0,a.Z)(function*(g,_,D=!1){const k="signIn",q=yield lp(g,k,_),re=yield pi._fromIdTokenResponse(g,k,q);return D||(yield g._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Ic(x,p){return(wt=wt||(0,a.Z)(function*(g,_){return hl(lr(g),_)})).apply(this,arguments)}function ku(x,p){return(en=en||(0,a.Z)(function*(g,_){const D=(0,O.m9)(g);return yield Ec(!1,D,_.providerId),Hs(D,_)})).apply(this,arguments)}function Fu(x,p){return(Ft=Ft||(0,a.Z)(function*(g,_){return up((0,O.m9)(g),_)})).apply(this,arguments)}class Is{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?fl._fromServerResponse(p,g):"totpInfo"in g?Ia._fromServerResponse(p,g):$n(p,"internal-error")}}class fl extends Is{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new fl(g)}}class Ia extends Is{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Ia(g)}}function Po(x,p,g){var _;Je((null===(_=g.url)||void 0===_?void 0:_.length)>0,x,"invalid-continue-uri"),Je(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Je(g.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Je(g.android.packageName.length>0,x,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Lu(x,p){return(Kn=Kn||(0,a.Z)(function*(g,_){const D=(0,O.m9)(g),k=yield Fm(D,{oobCode:_}),q=k.requestType;switch(Je(q,D,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Je(k.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Je(k.mfaInfo,D,"internal-error");default:Je(k.email,D,"internal-error")}let re=null;return k.mfaInfo&&(re=Is._fromServerResponse(lr(D),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:re},operation:q}})).apply(this,arguments)}function Vu(x,p,g){return(Xn=Xn||(0,a.Z)(function*(_,D,k){const{auth:q}=_,Te={idToken:yield _.getIdToken(),returnSecureToken:!0};D&&(Te.email=D),k&&(Te.password=k);const ke=yield Jn(_,Au(q,Te));yield _._updateTokensIfNecessary(ke,!0)})).apply(this,arguments)}class mn{constructor(p,g,_={}){this.isNewUser=p,this.providerId=g,this.profile=_}}class Sc extends mn{constructor(p,g,_,D){super(p,g,_),this.username=D}}class Ta extends mn{constructor(p,g){super(p,"facebook.com",g)}}class gi extends Sc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class pp extends mn{constructor(p,g){super(p,"google.com",g)}}class yl extends Sc{constructor(p,g,_){super(p,"twitter.com",g,_)}}function Sa(x){const{user:p,_tokenResponse:g}=x;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function hh(x){var p,g;if(!x)return null;const{providerId:_}=x,D=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},k=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!_&&x?.idToken){const q=null===(g=null===(p=pc(x.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new mn(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!_)return null;switch(_){case"facebook.com":return new Ta(k,D);case"github.com":return new gi(k,D);case"google.com":return new pp(k,D);case"twitter.com":return new yl(k,D,x.screenName||null);case"custom":case"anonymous":return new mn(k,null);default:return new mn(k,_,D)}}(g)}class Oo{constructor(p,g,_){this.type=p,this.credential=g,this.auth=_}static _fromIdtoken(p,g){return new Oo("enroll",p,g)}static _fromMfaPendingCredential(p){return new Oo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,_;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Oo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.idToken)return Oo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Bu{constructor(p,g,_){this.session=p,this.hints=g,this.signInResolver=_}static _fromError(p,g){var _;const D=lr(p),k=g.customData._serverResponse,q=(k.mfaInfo||[]).map(Te=>Is._fromServerResponse(D,Te));Je(k.mfaPendingCredential,D,"internal-error");const re=Oo._fromMfaPendingCredential(k.mfaPendingCredential);return new Bu(re,q,function(Te){return(_=_||(0,a.Z)(function*(ke){const yt=yield ke._process(D,re);delete k.mfaInfo,delete k.mfaPendingCredential;const ct=Object.assign(Object.assign({},k),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(g.operationType){case"signIn":const Et=yield pi._fromIdTokenResponse(D,g.operationType,ct);return yield D._updateCurrentUser(Et.user),Et;case"reauthenticate":return Je(g.user,D,"internal-error"),pi._forOperation(g.user,g.operationType,ct);default:$n(D,"internal-error")}})).apply(this,arguments)})}resolveSignIn(p){var g=this;return(0,a.Z)(function*(){return g.signInResolver(p)})()}}class Aa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>Is._fromServerResponse(p.auth,_)))})}static _fromUser(p){return new Aa(p)}getSession(){var p=this;return(0,a.Z)(function*(){return Oo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var _=this;return(0,a.Z)(function*(){const D=p,k=yield _.getSession(),q=yield Jn(_.user,D._process(_.user.auth,k,g));return yield _.user._updateTokensIfNecessary(q),_.user.reload()})()}unenroll(p){var g=this;return(0,a.Z)(function*(){const _="string"==typeof p?p:p.uid,D=yield g.user.getIdToken();try{const k=yield Jn(g.user,function vh(x,p){return Nn(x,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(x,p))}(g.user.auth,{idToken:D,mfaEnrollmentId:_}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==_),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const No=new WeakMap,_l="__sak";class Zu{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yi=(()=>{class x extends Zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vp(){const x=(0,O.z$)();return Ar(x)||Mo(x)}()&&function yc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vc(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const D=this.storage.getItem(_),k=this.localCache[_];D!==k&&g(_,k,D)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((re,Te,ke)=>{this.notifyListeners(re,ke)});const D=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!_)return}const k=()=>{const re=this.storage.getItem(D);!_&&this.localCache[D]===re||this.notifyListeners(D,re)},q=this.storage.getItem(D);!function cr(){return(0,O.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,_){this.localCache[g]=_;const D=this.listeners[g];if(D)for(const k of Array.from(D))k(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var D=()=>super._set,k=this;return(0,a.Z)(function*(){yield D().call(k,g,_),k.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,D=this;return(0,a.Z)(function*(){const k=yield _().call(D,g);return D.localCache[g]=JSON.stringify(k),k})()}_remove(g){var _=()=>super._remove,D=this;return(0,a.Z)(function*(){yield _().call(D,g),delete D.localCache[g]})()}}return x.type="LOCAL",x})(),Hn=(()=>{class x extends Zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return x.type="SESSION",x})();let qn=(()=>{class x{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(k=>k.isListeningto(g));if(_)return _;const D=new x(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,a.Z)(function*(){var D;const k=g,{eventId:q,eventType:re,data:Te}=k.data,ke=_.handlersMap[re];if(!ke?.size)return;k.ports[0].postMessage({status:"ack",eventId:q,eventType:re});const yt=Array.from(ke).map(function(Et){return(D=D||(0,a.Z)(function*(Qt){return Qt(k.origin,Te)})).apply(this,arguments)}),ct=yield function Ma(x){var p;return Promise.all(x.map(function(g){return(p=p||(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}})).apply(this,arguments)}))}(yt);k.ports[0].postMessage({status:"done",eventId:q,eventType:re,response:ct})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Ri(x="",p=10){let g="";for(let _=0;_<p;_++)g+=Math.floor(10*Math.random());return x+g}class Br{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,_=50){var D=this;return(0,a.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,re;return new Promise((Te,ke)=>{const yt=Ri("",20);k.port1.start();const ct=setTimeout(()=>{ke(new Error("unsupported_event"))},_);re={messageChannel:k,onMessage(Et){const Qt=Et;if(Qt.data.eventId===yt)switch(Qt.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Te(Qt.data.response);break;default:clearTimeout(ct),clearTimeout(q),ke(new Error("invalid_response"))}}},D.handlers.add(re),k.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:p,eventId:yt,data:g},[k.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function nr(){return window}function _p(){return typeof nr().WorkerGlobalScope<"u"&&"function"==typeof nr().importScripts}const bh="firebaseLocalStorageDb",po="firebaseLocalStorage",wp="fbase_key";class Pa{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Mc(x,p){return x.transaction([po],p?"readwrite":"readonly").objectStore(po)}function Pc(){const x=indexedDB.open(bh,1);return new Promise((p,g)=>{x.addEventListener("error",()=>{g(x.error)}),x.addEventListener("upgradeneeded",()=>{const _=x.result;try{_.createObjectStore(po,{keyPath:wp})}catch(D){g(D)}}),x.addEventListener("success",(0,a.Z)(function*(){const _=x.result;_.objectStoreNames.contains(po)?p(_):(_.close(),yield function zm(){const x=indexedDB.deleteDatabase(bh);return new Pa(x).toPromise()}(),p(yield Pc()))}))})}function $u(x,p,g){return(Rr=Rr||(0,a.Z)(function*(_,D,k){const q=Mc(_,!0).put({[wp]:D,value:k});return new Pa(q).toPromise()})).apply(this,arguments)}function zu(x,p){const g=Mc(x,!0).delete(p);return new Pa(g).toPromise()}const mo=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Pc()),g.db})()}_withRetries(g){var _=this;return(0,a.Z)(function*(){let D=0;for(;;)try{const k=yield _._openDb();return yield g(k)}catch(k){if(D++>3)throw k;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return _p()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){var _,D;g.receiver=qn._getInstance(function Ds(){return _p()?self:null}()),g.receiver._subscribe("keyChanged",function(k,q){return(_=_||(0,a.Z)(function*(re,Te){return{keyProcessed:(yield g._poll()).includes(Te.key)}})).apply(this,arguments)}),g.receiver._subscribe("ping",function(k,q){return(D=D||(0,a.Z)(function*(re,Te){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var _,D;if(g.activeServiceWorker=yield function bp(){return(Dn=Dn||(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Br(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);k&&null!==(_=k[0])&&void 0!==_&&_.fulfilled&&null!==(D=k[0])&&void 0!==D&&D.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,a.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function vi(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Pc();return yield $u(g,_l,"1"),yield zu(g,_l),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,a.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(k=>$u(k,g,_)),D.localCache[g]=_,D.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,a.Z)(function*(){const D=yield _._withRetries(k=>function Cp(x,p){return(gn=gn||(0,a.Z)(function*(g,_){const D=Mc(g,!1).get(_),k=yield new Pa(D).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}(k,g));return _.localCache[g]=D,D})()}_remove(g){var _=this;return(0,a.Z)(function*(){return _._withPendingWrite((0,a.Z)(function*(){return yield _._withRetries(D=>zu(D,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const _=yield g._withRetries(q=>{const re=Mc(q,!1).getAll();return new Pa(re).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:q,value:re}of _)k.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(re)&&(g.notifyListeners(q,re),D.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!k.has(q)&&(g.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(g,_){this.localCache[g]=_;const D=this.listeners[g];if(D)for(const k of Array.from(D))k(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),wl=1e12;class Qr{constructor(p){this.auth=p,this.counter=wl,this._widgets=new Map}render(p,g){const _=this.counter;return this._widgets.set(_,new Yo(p,this.auth.name,g||{})),this.counter++,_}reset(p){var g;const _=p||wl;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(p){var g;return(null===(g=this._widgets.get(p||wl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,a.Z)(function*(){var _;return null===(_=g._widgets.get(p||wl))||void 0===_||_.execute(),""})()}}class Yo{constructor(p,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Je(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ln(x){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<x;_++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cl=ap("rcb"),xl=new Us(3e4,6e4);class Dp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=nr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return Je(function vo(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Bs(nr().grecaptcha)?Promise.resolve(nr().grecaptcha):new Promise((_,D)=>{const k=nr().setTimeout(()=>{D(zn(p,"network-request-failed"))},xl.get());nr()[Cl]=()=>{nr().clearTimeout(k),delete nr()[Cl];const re=nr().grecaptcha;if(!re||!Bs(re))return void D(zn(p,"internal-error"));const Te=re.render;re.render=(ke,yt)=>{const ct=Te(ke,yt);return this.counter++,ct},this.hostLanguage=g,_(re)},nn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Cl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),D(zn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=nr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class El{load(p){return(0,a.Z)(function*(){return new Qr(p)})()}clearedOneInstance(){}}const Ro="recaptcha",Ji={theme:"light",type:"image"};class yi{constructor(p,g=Object.assign({},Ji),_){this.parameters=g,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(_),this.isInvisible="invisible"===this.parameters.size,Je(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Je(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new El:new Dp,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),_=p.getAssertedRecaptcha();return _.getResponse(g)||new Promise(k=>{const q=re=>{re&&(p.tokenChangeListeners.delete(q),k(re))};p.tokenChangeListeners.add(q),p.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Je(!this.parameters.sitekey,this.auth,"argument-error"),Je(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Je(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof p)p(g);else if("string"==typeof p){const _=nr()[p];"function"==typeof _&&_(g)}}}assertNotDestroyed(){Je(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){Je(ol()&&!_p(),p.auth,"internal-error"),yield function Oc(){let x=null;return new Promise(p=>{"complete"!==document.readyState?(x=()=>p(),window.addEventListener("load",x)):p()}).catch(p=>{throw x&&window.removeEventListener("load",x),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function _c(x){return(J=J||(0,a.Z)(function*(p){return(yield Nn(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(p.auth);Je(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Je(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pr{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=fi._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Ts(x,p,g){return(Zi=Zi||(0,a.Z)(function*(_,D,k){var q;const re=yield k.verify();try{let Te;if(Je("string"==typeof re,_,"argument-error"),Je(k.type===Ro,_,"argument-error"),Te="string"==typeof D?{phoneNumber:D}:D,"session"in Te){const ke=Te.session;if("phoneNumber"in Te)return Je("enroll"===ke.type,_,"internal-error"),(yield function ju(x,p){return Nn(x,"POST","/v2/accounts/mfaEnrollment:start",hn(x,p))}(_,{idToken:ke.credential,phoneEnrollmentInfo:{phoneNumber:Te.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{Je("signin"===ke.type,_,"internal-error");const yt=(null===(q=Te.multiFactorHint)||void 0===q?void 0:q.uid)||Te.multiFactorUid;return Je(yt,_,"missing-multi-factor-info"),(yield function bl(x,p){return Nn(x,"POST","/v2/accounts/mfaSignIn:start",hn(x,p))}(_,{mfaPendingCredential:ke.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ke}=yield function Pu(x,p){return(xt=xt||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:sendVerificationCode",hn(g,_))})).apply(this,arguments)}(_,{phoneNumber:Te.phoneNumber,recaptchaToken:re});return ke}}finally{k._reset()}})).apply(this,arguments)}let ko=(()=>{class x{constructor(g){this.providerId=x.PROVIDER_ID,this.auth=lr(g)}verifyPhoneNumber(g,_){return Ts(this.auth,g,(0,O.m9)(_))}static credential(g,_){return fi._fromVerification(g,_)}static credentialFromResult(g){return x.credentialFromTaggedObject(g)}static credentialFromError(g){return x.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:D}=g;return _&&D?fi._fromTokenResponse(_,D):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function Fi(x,p){return p?qi(p):(Je(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Nc extends _a{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Cs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Cs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Cs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function qm(x){return hl(x.auth,new Nc(x),x.bypassAuthState)}function Ch(x){const{auth:p,user:g}=x;return Je(g,p,"internal-error"),up(g,new Nc(x),x.bypassAuthState)}function Gu(x){return(Gr=Gr||(0,a.Z)(function*(p){const{auth:g,user:_}=p;return Je(_,g,"internal-error"),Hs(_,new Nc(p),p.bypassAuthState)})).apply(this,arguments)}class Ss{constructor(p,g,_,D,k=!1){this.auth=p,this.resolver=_,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var g,p=this;return new Promise(function(_,D){return(g=g||(0,a.Z)(function*(k,q){p.pendingPromise={resolve:k,reject:q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(re){p.reject(re)}})).apply(this,arguments)})}onAuthEvent(p){var g=this;return(0,a.Z)(function*(){const{urlResponse:_,sessionId:D,postBody:k,tenantId:q,error:re,type:Te}=p;if(re)return void g.reject(re);const ke={auth:g.auth,requestUri:_,sessionId:D,tenantId:q||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Te)(ke))}catch(yt){g.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qm;case"linkViaPopup":case"linkViaRedirect":return Gu;case"reauthViaPopup":case"reauthViaRedirect":return Ch;default:$n(this.auth,"internal-error")}}resolve(p){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xh=new Us(2e3,1e4);let jr=(()=>{class x extends Ss{constructor(g,_,D,k,q){super(g,_,k,q),this.provider=D,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const _=yield g.execute();return Je(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,a.Z)(function*(){Mi(1===g.filter.length,"Popup operations only handle one event");const _=Ri();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(zn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,D;this.pollId=null!==(D=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,xh.get())};g()}}return x.currentPopupAction=null,x})();const yr="pendingRedirect",_i=new Map;class Na extends Ss{constructor(p,g,_=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,a.Z)(function*(){let _=_i.get(g.auth._key());if(!_){try{const k=(yield function Xr(x,p){return(Fe=Fe||(0,a.Z)(function*(g,_){const D=_r(_),k=Eh(g);if(!(yield k._isAvailable()))return!1;const q="true"===(yield k._get(D));return yield k._remove(D),q})).apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;_=()=>Promise.resolve(k)}catch(D){_=()=>Promise.reject(D)}_i.set(g.auth._key(),_)}return g.bypassAuthState||_i.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,_=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(_,p);if("unknown"!==p.type){if(p.eventId){const D=yield _.auth._redirectUserForId(p.eventId);if(D)return _.user=D,g().call(_,p);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Hr(x,p){return(tt=tt||(0,a.Z)(function*(g,_){return Eh(g)._set(_r(_),"true")})).apply(this,arguments)}function Dl(x,p){_i.set(x._key(),p)}function Eh(x){return qi(x._redirectPersistence)}function _r(x){return Ut(yr,x.config.apiKey,x.name)}function zs(x,p){return(se=se||(0,a.Z)(function*(g,_,D=!1){const k=lr(g),q=Fi(k,_),Te=yield new Na(k,q,D).execute();return Te&&!D&&(delete Te.user._redirectEventId,yield k._persistUserIfCurrent(Te.user),yield k._setRedirectUser(null,_)),Te})).apply(this,arguments)}function Xo(x){return(we=we||(0,a.Z)(function*(p){const g=Ri(`${p.uid}:::`);return p._redirectEventId=g,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),g})).apply(this,arguments)}class Ih{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(p,_)&&(g=!0,this.sendToConsumer(p,_),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function qs(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return As(x);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var _;if(p.error&&!As(p)){const D=(null===(_=p.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(zn(this.auth,D))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const _=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&_}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gt(p))}saveEventToCache(p){this.cachedEventUids.add(Gt(p)),this.lastProcessedEventTime=Date.now()}}function Gt(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(p=>p).join("-")}function As({type:x,error:p}){return"unknown"===x&&"auth/no-auth-event"===p?.code}function Gs(x){return(je=je||(0,a.Z)(function*(p,g={}){return Nn(p,"GET","/v1/projects",g)})).apply(this,arguments)}const Ws=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ku=/^https?/;function Dh(x){const p=Fr(),{protocol:g,hostname:_}=new URL(p);if(x.startsWith("chrome-extension://")){const q=new URL(x);return""===q.hostname&&""===_?"chrome-extension:"===g&&x.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===_}if(!Ku.test(g))return!1;if(Ws.test(x))return _===x;const D=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(_)}const Qn=new Us(3e4,6e4);function es(){const x=nr().___jsl;if(x?.H)for(const p of Object.keys(x.H))if(x.H[p].r=x.H[p].r||[],x.H[p].L=x.H[p].L||[],x.H[p].r=[...x.H[p].L],x.CP)for(let g=0;g<x.CP.length;g++)x.CP[g]=null}let ka=null;const Yu=new Us(5e3,15e3),La={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I(x){const p=x.config;Je(p.authDomain,x,"auth-domain-config-required");const g=p.emulator?Jd(p,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,_={apiKey:p.apiKey,appName:x.name,v:z.SDK_VERSION},D=E.get(x.config.apiHost);D&&(_.eid=D);const k=x._getFrameworks();return k.length&&(_.fw=k.join(",")),`${g}?${(0,O.xO)(_).slice(1)}`}const j={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ye{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",zt="emulator/auth/handler",Gn=encodeURIComponent("fac");function Rn(x,p,g,_,D,k){return(Pt=Pt||(0,a.Z)(function*(q,re,Te,ke,yt,ct){Je(q.config.authDomain,q,"auth-domain-config-required"),Je(q.config.apiKey,q,"invalid-api-key");const Et={apiKey:q.config.apiKey,appName:q.name,authType:Te,redirectUrl:ke,v:z.SDK_VERSION,eventId:yt};if(re instanceof tr){re.setDefaultLanguage(q.languageCode),Et.providerId=re.providerId||"",(0,O.xb)(re.getCustomParameters())||(Et.customParameters=JSON.stringify(re.getCustomParameters()));for(const[ti,Fo]of Object.entries(ct||{}))Et[ti]=Fo}if(re instanceof ho){const ti=re.getScopes().filter(Fo=>""!==Fo);ti.length>0&&(Et.scopes=ti.join(","))}q.tenantId&&(Et.tid=q.tenantId);const Qt=Et;for(const ti of Object.keys(Qt))void 0===Qt[ti]&&delete Qt[ti];const An=yield q._getAppCheckToken(),pr=An?`#${Gn}=${encodeURIComponent(An)}`:"";return`${function vn({config:x}){return x.emulator?Jd(x,zt):`https://${x.authDomain}/${It}`}(q)}?${(0,O.xO)(Qt).slice(1)}${pr}`})).apply(this,arguments)}const br="webStorageSupport",Li=class Rt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hn,this._completeRedirectFn=zs,this._overrideRedirectResult=Dl}_openPopup(p,g,_,D){var k=this;return(0,a.Z)(function*(){var q;Mi(null===(q=k.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const re=yield Rn(p,g,_,Fr(),D);return function ht(x,p,g,_=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-_)/2,0).toString();let re="";const Te=Object.assign(Object.assign({},j),{width:_.toString(),height:D.toString(),top:k,left:q}),ke=(0,O.z$)().toLowerCase();g&&(re=va(ke)?"_blank":g),_s(ke)&&(p=p||"http://localhost",Te.scrollbars="yes");const yt=Object.entries(Te).reduce((Et,[Qt,An])=>`${Et}${Qt}=${An},`,"");if(function Wr(x=(0,O.z$)()){var p;return Mo(x)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ke)&&"_self"!==re)return function Ct(x,p){const g=document.createElement("a");g.href=x,g.target=p;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(p||"",re),new Ye(null);const ct=window.open(p||"",re,yt);Je(ct,x,"popup-blocked");try{ct.focus()}catch{}return new Ye(ct)}(p,re,Ri())})()}_openRedirect(p,g,_,D){var k=this;return(0,a.Z)(function*(){return yield k._originValidation(p),function _h(x){nr().location.href=x}(yield Rn(p,g,_,Fr(),D)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:D,promise:k}=this.eventManagers[g];return D?Promise.resolve(D):(Mi(k,"If manager is not set, promise should be"),k)}const _=this.initAndGetManager(p);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(p){var g=this;return(0,a.Z)(function*(){const _=yield function A(x){return(at=at||(0,a.Z)(function*(p){const g=yield function Sp(x){return ka=ka||function Ms(x){return new Promise((p,g)=>{var _,D,k;function q(){es(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{es(),g(zn(x,"network-request-failed"))},timeout:Qn.get()})}if(null!==(D=null===(_=nr().gapi)||void 0===_?void 0:_.iframes)&&void 0!==D&&D.Iframe)p(gapi.iframes.getContext());else{if(null===(k=nr().gapi)||void 0===k||!k.load){const re=ap("iframefcb");return nr()[re]=()=>{gapi.load?q():g(zn(x,"network-request-failed"))},nn(`https://apis.google.com/js/api.js?onload=${re}`).catch(Te=>g(Te))}q()}}).catch(p=>{throw ka=null,p})}(x),ka}(p),_=nr().gapi;return Je(_,p,"internal-error"),g.open({where:document.body,url:I(p),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:La,dontclear:!0},D=>{var k;return new Promise(function(q,re){return(k=k||(0,a.Z)(function*(Te,ke){yield D.restyle({setHideOnLeave:!1});const yt=zn(p,"network-request-failed"),ct=nr().setTimeout(()=>{ke(yt)},Yu.get());function Et(){nr().clearTimeout(ct),Te(D)}D.ping(Et).then(Et,()=>{ke(yt)})})).apply(this,arguments)})})})).apply(this,arguments)}(p),D=new Ih(p);return _.register("authEvent",k=>(Je(k?.authEvent,p,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:D},g.iframes[p._key()]=_,D})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(br,{type:br},D=>{var k;const q=null===(k=D?.[0])||void 0===k?void 0:k[br];void 0!==q&&g(!!q),$n(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bi(x){return(Se=Se||(0,a.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:g}=yield Gs(p);for(const _ of g)try{if(Dh(_))return}catch{}$n(p,"unauthorized-domain")})).apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return vc()||Ar()||Mo()}};class fr{constructor(p){this.factorId=p}_process(p,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,_);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ai("unexpected MultiFactorSessionType")}}}class ei extends fr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ei(p)}_finalizeEnroll(p,g,_){return function mp(x,p){return Nn(x,"POST","/v2/accounts/mfaEnrollment:finalize",hn(x,p))}(p,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Zn(x,p){return Nn(x,"POST","/v2/accounts/mfaSignIn:finalize",hn(x,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gm=(()=>{class x{constructor(){}static assertion(g){return ei._fromCredential(g)}}return x.FACTOR_ID="phone",x})();var Np,Rp,Ju,Ua,Lc,Km="@firebase/auth";class yo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(_=>{p(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Va(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Ml(x){(0,z._registerComponent)(new X.wA("auth",(p,{options:g})=>{const _=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),k=p.getProvider("app-check-internal"),{apiKey:q,authDomain:re}=_.options;Je(q&&!q.includes(":"),"invalid-api-key",{appName:_.name});const Te={apiKey:q,authDomain:re,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:co(x)},ke=new Mr(_,D,k,Te);return function Tu(x,p){const g=p?.persistence||[],_=(Array.isArray(g)?g:[g]).map(qi);p?.errorMap&&x._updateErrorMap(p.errorMap),x._initializeWithPersistence(_,p?.popupRedirectResolver)}(ke,g),ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,_)=>{p.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new X.wA("auth-internal",p=>{const g=lr(p.getProvider("auth").getImmediate());return new yo(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(Km,"0.23.2",function Pp(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,z.registerVersion)(Km,"0.23.2","esm2017")}("Browser");class Fp extends Ih{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function Lp(x){return(Lc=Lc||(0,a.Z)(function*(p){const g=yield Rl()._get(Ys(p));return g&&(yield Rl()._remove(Ys(p))),g})).apply(this,arguments)}function ts(){const x=[];for(let g=0;g<20;g++){const _=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return x.join("")}function Rl(){return qi(Yi)}function Ys(x){return Ut("authEvent",x.config.apiKey,x.name)}function Vc(x){if(!x?.includes("?"))return{};const[p,...g]=x.split("?");return(0,O.zd)(g.join("?"))}const yy=class Qm{constructor(){this._redirectPersistence=Hn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zs,this._overrideRedirectResult=Dl}_initialize(p){var g=this;return(0,a.Z)(function*(){const _=p._key();let D=g.eventManagers.get(_);return D||(D=new Fp(p),g.eventManagers.set(_,D),g.attachCallbackListeners(p,D)),D})()}_openPopup(p){$n(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,_,D){var k=this;return(0,a.Z)(function*(){!function kp(x){var p,g,_,D,k,q,re,Te,ke,yt;const ct=Va();Je("function"==typeof(null===(p=ct?.universalLinks)||void 0===p?void 0:p.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Je(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Je("function"==typeof(null===(k=null===(D=null===(_=ct?.cordova)||void 0===_?void 0:_.plugins)||void 0===D?void 0:D.browsertab)||void 0===k?void 0:k.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Je("function"==typeof(null===(Te=null===(re=null===(q=ct?.cordova)||void 0===q?void 0:q.plugins)||void 0===re?void 0:re.browsertab)||void 0===Te?void 0:Te.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Je("function"==typeof(null===(yt=null===(ke=ct?.cordova)||void 0===ke?void 0:ke.InAppBrowser)||void 0===yt?void 0:yt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield k._initialize(p);yield q.initialized(),q.resetRedirect(),function kc(){_i.clear()}(),yield k._originValidation(p);const re=function Ol(x,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ts(),postBody:null,tenantId:x.tenantId,error:zn(x,"no-auth-event")}}(p,_,D);yield function Nl(x,p){return Rl()._set(Ys(x),p)}(p,re);const Te=yield function gy(x,p,g){return(Np=Np||(0,a.Z)(function*(_,D,k){var q;const{BuildInfo:re}=Va();Mi(D.sessionId,"AuthEvent did not contain a session ID");const Te=yield function Xu(x){return(Ua=Ua||(0,a.Z)(function*(p){const g=function Pl(x){if(Mi(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const p=new ArrayBuffer(x.length),g=new Uint8Array(p);for(let _=0;_<x.length;_++)g[_]=x.charCodeAt(_);return g}(p),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(D.sessionId),ke={};return Mo()?ke.ibi=re.packageName:Ni()?ke.apn=re.packageName:$n(_,"operation-not-supported-in-this-environment"),re.displayName&&(ke.appDisplayName=re.displayName),ke.sessionId=Te,Rn(_,k,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,ke)})).apply(this,arguments)}(p,re,g),ke=yield function my(x){const{cordova:p}=Va();return new Promise(g=>{p.plugins.browsertab.isAvailable(_=>{let D=null;_?p.plugins.browsertab.openUrl(x):D=p.InAppBrowser.open(x,function mc(x=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),g(D)})})}(Te);return function Jm(x,p,g){return(Ju=Ju||(0,a.Z)(function*(_,D,k){const{cordova:q}=Va();let re=()=>{};try{yield new Promise((Te,ke)=>{let yt=null;function ct(){var An;Te();const pr=null===(An=q.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof pr&&pr(),"function"==typeof k?.close&&k.close()}function Et(){yt||(yt=window.setTimeout(()=>{ke(zn(_,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&Et()}D.addPassiveListener(ct),document.addEventListener("resume",Et,!1),Ni()&&document.addEventListener("visibilitychange",Qt,!1),re=()=>{D.removePassiveListener(ct),document.removeEventListener("resume",Et,!1),document.removeEventListener("visibilitychange",Qt,!1),yt&&window.clearTimeout(yt)}})}finally{re()}})).apply(this,arguments)}(p,q,ke)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Uc(x){return(Rp=Rp||(0,a.Z)(function*(p){const{BuildInfo:g}=Va(),_={};Mo()?_.iosBundleId=g.packageName:Ni()?_.androidPackageName=g.packageName:$n(p,"operation-not-supported-in-this-environment"),yield Gs(p,_)})).apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){var _,D;const{universalLinks:k,handleOpenURL:q,BuildInfo:re}=Va(),Te=setTimeout((0,a.Z)(function*(){yield Lp(p),g.onEvent(Up())}),500),ke=function(Qt){return(_=_||(0,a.Z)(function*(An){clearTimeout(Te);const pr=yield Lp(p);let ti=null;pr&&An?.url&&(ti=function Th(x,p){var g,_;const D=function kl(x){const p=Vc(x),g=p.link?decodeURIComponent(p.link):void 0,_=Vc(g).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Vc(D).link||D||_||g||x}(p);if(D.includes("/__/auth/callback")){const k=Vc(D),q=k.firebaseError?function ed(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,re=null===(_=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],Te=re?zn(re):null;return Te?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:D,postBody:null}}return null}(pr,An.url)),g.onEvent(ti||Up())})).apply(this,arguments)};typeof k<"u"&&"function"==typeof k.subscribe&&k.subscribe(null,ke);const yt=q,ct=`${re.packageName.toLowerCase()}://`;Va().handleOpenURL=function(Et){return(D=D||(0,a.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(ct)&&ke({url:Qt}),"function"==typeof yt)try{yt(Qt)}catch(An){console.error(An)}})).apply(this,arguments)}}};function Up(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}var Vp,_y,Xm;function nd(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function jp(x=(0,O.z$)()){return!("file:"!==nd()&&"ionic:"!==nd()&&"capacitor:"!==nd()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ah(){try{const x=self.localStorage,p=Ri();if(x)return x.setItem(p,"1"),x.removeItem(p),!function wy(x=(0,O.z$)()){return function aC(){return(0,O.w1)()&&11===document?.documentMode}()||function Sh(x=(0,O.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,O.hl)()}catch{return Ba()&&(0,O.hl)()}return!1}function Ba(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xi(){return(function rd(){return"http:"===nd()||"https:"===nd()}()||(0,O.ru)()||jp())&&!function fD(){return(0,O.b$)()||(0,O.UG)()}()&&Ah()&&!Ba()}function ja(){return jp()&&typeof document<"u"}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},ns=Je,Mh="persistence";function Js(x){return(_y=_y||(0,a.Z)(function*(p){yield p._initializationPromise;const g=Oh(),_=Ut(Mh,p.config.apiKey,p.name);g&&g.setItem(_,p._getPersistence())})).apply(this,arguments)}function Oh(){var x;try{return(null===(x=function Zp(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const e0=Je;class Ps{constructor(){this.browserResolver=qi(Li),this.cordovaResolver=qi(yy),this.underlyingResolver=null,this._redirectPersistence=Hn,this._completeRedirectFn=zs,this._overrideRedirectResult=Dl}_initialize(p){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,_,D){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,_,D)})()}_openRedirect(p,g,_,D){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,_,D)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return ja()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return e0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Hp(){return(Vp=Vp||(0,a.Z)(function*(){return!!ja()&&new Promise(x=>{const p=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),x(!0)})})})).apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function od(x){return x.unwrap()}function Cy(x){return $p(x)}function $p(x){const{_tokenResponse:p}=x instanceof O.ZR?x.customData:x;if(!p)return null;if(!(x instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ko.credentialFromResult(x);const g=p.providerId;if(!g||g===ar.PASSWORD)return null;let _;switch(g){case ar.GOOGLE:_=Ru;break;case ar.FACEBOOK:_=Nu;break;case ar.GITHUB:_=xc;break;case ar.TWITTER:_=sh;break;default:const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:re,nonce:Te}=p;return k||q||D||re?re?g.startsWith("saml.")?xs._create(g,re):Wo._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:D,accessToken:k}):new ba(g).credential({idToken:D,accessToken:k,rawNonce:Te}):null}return x instanceof O.ZR?_.credentialFromError(x):_.credentialFromResult(x)}function Ui(x,p){return p.catch(g=>{throw g instanceof O.ZR&&function Nh(x,p){var g;const _=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new xy(x,function Lt(x,p){var g;const _=(0,O.m9)(x),D=p;return Je(p.customData.operationType,_,"argument-error"),Je(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),Bu._fromError(_,D)}(x,p));else if(_){const D=$p(p),k=p;D&&(k.credential=D,k.tenantId=_.tenantId||void 0,k.email=_.email||void 0,k.phoneNumber=_.phoneNumber||void 0)}}(x,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:Cy(g),additionalUserInfo:Sa(g),user:ur.getOrCreate(D)}})}function Bc(x,p){return(Xm=Xm||(0,a.Z)(function*(g,_){const D=yield _;return{verificationId:D.verificationId,confirm:k=>Ui(g,D.confirm(k))}})).apply(this,arguments)}class xy{constructor(p,g){this.resolver=g,this.auth=function sd(x){return x.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ui(od(this.auth),this.resolver.resolveSignIn(p))}}class ur{constructor(p){this._delegate=p,this.multiFactor=function Hu(x){const p=(0,O.m9)(x);return No.has(p)||No.set(p,Aa._fromUser(p)),No.get(p)}(p)}static getOrCreate(p){return ur.USER_MAP.has(p)||ur.USER_MAP.set(p,new ur(p)),ur.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,a.Z)(function*(){return Ui(g.auth,ku(g._delegate,p))})()}linkWithPhoneNumber(p,g){var _=this;return(0,a.Z)(function*(){return Bc(_.auth,function qu(x,p,g){return(un=un||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_);yield Ec(!1,q,"phone");const re=yield Ts(q.auth,D,(0,O.m9)(k));return new Pr(re,Te=>ku(q,Te))})).apply(this,arguments)}(_._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,a.Z)(function*(){return Ui(g.auth,function Rc(x,p,g){return(me=me||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_);vs(q.auth,D,tr);const re=Fi(q.auth,k);return new jr(q.auth,"linkViaPopup",D,re,q).executeNotNull()})).apply(this,arguments)}(g._delegate,p,Ps))})()}linkWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Js(lr(g.auth)),function Qo(x,p,g){return function $s(x,p,g){return(bn=bn||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_);vs(q.auth,D,tr),yield q.auth._initializationPromise;const re=Fi(q.auth,k);yield Ec(!1,q,D.providerId),yield Hr(re,q.auth);const Te=yield Xo(q);return re._openRedirect(q.auth,D,"linkViaRedirect",Te)})).apply(this,arguments)}(x,p,g)}(g._delegate,p,Ps)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,a.Z)(function*(){return Ui(g.auth,Fu(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Bc(this.auth,function wh(x,p,g){return(ui=ui||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_),re=yield Ts(q.auth,D,(0,O.m9)(k));return new Pr(re,Te=>Fu(q,Te))})).apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ui(this.auth,function Tp(x,p,g){return(qe=qe||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_);vs(q.auth,D,tr);const re=Fi(q.auth,k);return new jr(q.auth,"reauthViaPopup",D,re,q).executeNotNull()})).apply(this,arguments)}(this._delegate,p,Ps))}reauthenticateWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Js(lr(g.auth)),function Jo(x,p,g){return function Tl(x,p,g){return(vt=vt||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_);vs(q.auth,D,tr),yield q.auth._initializationPromise;const re=Fi(q.auth,k);yield Hr(re,q.auth);const Te=yield Xo(q);return re._openRedirect(q.auth,D,"reauthViaRedirect",Te)})).apply(this,arguments)}(x,p,g)}(g._delegate,p,Ps)})()}sendEmailVerification(p){return function ml(x,p){return(Nt=Nt||(0,a.Z)(function*(g,_){const D=(0,O.m9)(g),q={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};_&&Po(D.auth,q,_);const{email:re}=yield function Lm(x,p){return(Ee=Ee||(0,a.Z)(function*(g,_){return cl(g,_)})).apply(this,arguments)}(D.auth,q);re!==g.email&&(yield g.reload())})).apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,a.Z)(function*(){return yield function Es(x,p){return(Ue=Ue||(0,a.Z)(function*(g,_){const D=(0,O.m9)(g);yield Ec(!0,D,_);const{providerUserInfo:k}=yield function ip(x,p){return(U=U||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:update",_)})).apply(this,arguments)}(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[_]}),q=dl(k||[]);return D.providerData=D.providerData.filter(re=>q.has(re.providerId)),q.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function fp(x,p){return Vu((0,O.m9)(x),p,null)}(this._delegate,p)}updatePassword(p){return function fo(x,p){return Vu((0,O.m9)(x),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Il(x,p){return($i=$i||(0,a.Z)(function*(g,_){yield Hs((0,O.m9)(g),_)})).apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Tc(x,p){return(dr=dr||(0,a.Z)(function*(g,{displayName:_,photoURL:D}){if(void 0===_&&void 0===D)return;const k=(0,O.m9)(g),re={idToken:yield k.getIdToken(),displayName:_,photoUrl:D,returnSecureToken:!0},Te=yield Jn(k,function hp(x,p){return(an=an||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:update",_)})).apply(this,arguments)}(k.auth,re));k.displayName=Te.displayName||null,k.photoURL=Te.photoUrl||null;const ke=k.providerData.find(({providerId:yt})=>"password"===yt);ke&&(ke.displayName=k.displayName,ke.photoURL=k.photoURL),yield k._updateTokensIfNecessary(Te)})).apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function vl(x,p,g){return(Vt=Vt||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_),Te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:D};k&&Po(q.auth,Te,k);const{email:ke}=yield function Um(x,p){return(Xe=Xe||(0,a.Z)(function*(g,_){return cl(g,_)})).apply(this,arguments)}(q.auth,Te);ke!==_.email&&(yield _.reload())})).apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;const Qs=Je;let Rh=(()=>{class x{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;Qs(D,"invalid-api-key",{appName:g.name}),Qs(D,"invalid-api-key",{appName:g.name});const k=typeof window<"u"?Ps:void 0;this._delegate=_.initialize({options:{persistence:wi(D,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(_u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function ws(x,p,g){const _=lr(x);Je(_._canInitEmulator,_,"emulator-config-failed"),Je(/^https?:\/\//.test(p),_,"invalid-emulator-scheme");const D=!!g?.disableWarnings,k=Gi(p),{host:q,port:re}=function Wi(x){const p=Gi(x),g=/(\/\/)?([^?#/]+)/.exec(x.substr(p.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(_);if(D){const k=D[1];return{host:k,port:wc(_.substr(k.length+1))}}{const[k,q]=_.split(":");return{host:k,port:wc(q)}}}(p);_.config.emulator={url:`${k}//${q}${null===re?"":`:${re}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:q,port:re,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Su(){function x(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,g,_)}applyActionCode(g){return function pl(x,p){return(Bn=Bn||(0,a.Z)(function*(g,_){yield function nh(x,p){return(ge=ge||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:update",hn(g,_))})).apply(this,arguments)}((0,O.m9)(g),{oobCode:_})})).apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Lu(this._delegate,g)}confirmPasswordReset(g,_){return function dp(x,p,g){return(ln=ln||(0,a.Z)(function*(_,D,k){yield Fm((0,O.m9)(_),{oobCode:D,newPassword:k})})).apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var D=this;return(0,a.Z)(function*(){return Ui(D._delegate,function ch(x,p,g){return(Ir=Ir||(0,a.Z)(function*(_,D,k){var q;const re=lr(_),Te={returnSecureToken:!0,email:D,password:k,clientType:"CLIENT_TYPE_WEB"};let ke;if(null!==(q=re._getRecaptchaConfig())&&void 0!==q&&q.emailPasswordEnabled){const Qt=yield hi(re,Te,"signUpPassword");ke=Ca(re,Qt)}else{var yt;ke=Ca(re,Te).catch(function(Qt){return(yt=yt||(0,a.Z)(function*(An){if("auth/missing-recaptcha-token"===An.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pr=yield hi(re,Te,"signUpPassword");return Ca(re,pr)}return Promise.reject(An)})).apply(this,arguments)})}const ct=yield ke.catch(Qt=>Promise.reject(Qt)),Et=yield pi._fromIdTokenResponse(re,"signIn",ct);return yield re._updateCurrentUser(Et.user),Et})).apply(this,arguments)}(D._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Uu(x,p){return(At=At||(0,a.Z)(function*(g,_){const k={identifier:_,continueUri:ol()?Fr():"http://localhost"},{signinMethods:q}=yield function dh(x,p){return(Nr=Nr||(0,a.Z)(function*(g,_){return Nn(g,"POST","/v1/accounts:createAuthUri",hn(g,_))})).apply(this,arguments)}((0,O.m9)(g),k);return q||[]})).apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Dc(x,p){const g=uo.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Qs(Xi(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function Wu(x,p){return(de=de||(0,a.Z)(function*(g,_){return yield lr(g)._initializationPromise,zs(g,_,!1)})).apply(this,arguments)}(g._delegate,Ps);return _?Ui(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function oC(x,p){lr(x)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,_,D){const{next:k,error:q,complete:re}=ad(g,_,D);return this._delegate.onAuthStateChanged(k,q,re)}onIdTokenChanged(g,_,D){const{next:k,error:q,complete:re}=ad(g,_,D);return this._delegate.onIdTokenChanged(k,q,re)}sendSignInLinkToEmail(g,_){return function uh(x,p,g){return(Yn=Yn||(0,a.Z)(function*(_,D,k){var q;const re=lr(_),Te={requestType:"EMAIL_SIGNIN",email:D,clientType:"CLIENT_TYPE_WEB"};function ke(ct,Et){Je(Et.handleCodeInApp,re,"argument-error"),Et&&Po(re,ct,Et)}if(null!==(q=re._getRecaptchaConfig())&&void 0!==q&&q.emailPasswordEnabled){const ct=yield hi(re,Te,"getOobCode",!0);ke(ct,k),yield jn(re,ct)}else{var yt;ke(Te,k),yield jn(re,Te).catch(function(ct){return(yt=yt||(0,a.Z)(function*(Et){if("auth/missing-recaptcha-token"!==Et.code)return Promise.reject(Et);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Qt=yield hi(re,Te,"getOobCode",!0);ke(Qt,k),yield jn(re,Qt)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function Da(x,p,g){return(Jt=Jt||(0,a.Z)(function*(_,D,k){var q;const re=lr(_),Te={requestType:"PASSWORD_RESET",email:D,clientType:"CLIENT_TYPE_WEB"};if(null!==(q=re._getRecaptchaConfig())&&void 0!==q&&q.emailPasswordEnabled){const yt=yield hi(re,Te,"getOobCode",!0);k&&Po(re,yt,k),yield rh(re,yt)}else{var ke;k&&Po(re,Te,k),yield rh(re,Te).catch(function(yt){return(ke=ke||(0,a.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Et=yield hi(re,Te,"getOobCode",!0);k&&Po(re,Et,k),yield rh(re,Et)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,a.Z)(function*(){let D;switch(function Ph(x,p){ns(Object.values(Zr).includes(p),x,"invalid-persistence-type"),(0,O.b$)()?ns(p!==Zr.SESSION,x,"unsupported-persistence-type"):(0,O.UG)()?ns(p===Zr.NONE,x,"unsupported-persistence-type"):Ba()?ns(p===Zr.NONE||p===Zr.LOCAL&&(0,O.hl)(),x,"unsupported-persistence-type"):ns(p===Zr.NONE||Ah(),x,"unsupported-persistence-type")}(_._delegate,g),g){case Zr.SESSION:D=Hn;break;case Zr.LOCAL:D=(yield qi(mo)._isAvailable())?mo:Yi;break;case Zr.NONE:D=it;break;default:return $n("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ui(this._delegate,function Ea(x){return(le=le||(0,a.Z)(function*(p){var g;const _=lr(p);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new pi({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield Ca(_,{returnSecureToken:!0}),k=yield pi._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ui(this._delegate,Ic(this._delegate,g))}signInWithCustomToken(g){return Ui(this._delegate,function ly(x,p){return(cn=cn||(0,a.Z)(function*(g,_){const D=lr(g),k=yield function Jr(x,p){return(rn=rn||(0,a.Z)(function*(g,_){return $o(g,"POST","/v1/accounts:signInWithCustomToken",hn(g,_))})).apply(this,arguments)}(D,{token:_,returnSecureToken:!0}),q=yield pi._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(q.user),q})).apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return Ui(this._delegate,function lh(x,p,g){return Ic((0,O.m9)(x),Cc.credential(p,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return Ui(this._delegate,function gl(x,p,g){return(_n=_n||(0,a.Z)(function*(_,D,k){const q=(0,O.m9)(_),re=Cc.credentialWithLink(D,k||Fr());return Je(re._tenantId===(q.tenantId||null),q,"tenant-id-mismatch"),Ic(q,re)})).apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return Bc(this._delegate,function Oa(x,p,g){return(Hi=Hi||(0,a.Z)(function*(_,D,k){const q=lr(_),re=yield Ts(q,D,(0,O.m9)(k));return new Pr(re,Te=>Ic(q,Te))})).apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,a.Z)(function*(){return Qs(Xi(),_._delegate,"operation-not-supported-in-this-environment"),Ui(_._delegate,function Qi(x,p,g){return(Do=Do||(0,a.Z)(function*(_,D,k){const q=lr(_);vs(_,D,tr);const re=Fi(q,k);return new jr(q,"signInViaPopup",D,re).executeNotNull()})).apply(this,arguments)}(_._delegate,g,Ps))})()}signInWithRedirect(g){var _=this;return(0,a.Z)(function*(){return Qs(Xi(),_._delegate,"operation-not-supported-in-this-environment"),yield Js(_._delegate),function Ra(x,p,g){return function hr(x,p,g){return(st=st||(0,a.Z)(function*(_,D,k){const q=lr(_);vs(_,D,tr),yield q._initializationPromise;const re=Fi(q,k);return yield Hr(re,q),re._openRedirect(q,D,"signInViaRedirect")})).apply(this,arguments)}(x,p,g)}(_._delegate,g,Ps)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ah(x,p){return(li=li||(0,a.Z)(function*(g,_){const{data:D}=yield Lu((0,O.m9)(g),_);return D.email})).apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Zr,x})();function ad(x,p,g){let _=x;"function"!=typeof x&&({next:_,error:p,complete:g}=x);const D=_;return{next:q=>D(q&&ur.getOrCreate(q)),error:p,complete:g}}function wi(x,p){const g=function id(x,p){const g=Oh();if(!g)return[];const _=Ut(Mh,x,p);switch(g.getItem(_)){case Zr.NONE:return[it];case Zr.LOCAL:return[mo,Hn];case Zr.SESSION:return[Hn];default:return[]}}(x,p);if(typeof self<"u"&&!g.includes(mo)&&g.push(mo),typeof window<"u")for(const _ of[Yi,Hn])g.includes(_)||g.push(_);return g.includes(it)||g.push(it),g}class Ha{constructor(){this.providerId="phone",this._delegate=new ko(od(L.Z.auth()))}static credential(p,g){return ko.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ha.PHONE_SIGN_IN_METHOD=ko.PHONE_SIGN_IN_METHOD,Ha.PROVIDER_ID=ko.PROVIDER_ID;const zp=Je;class t0{constructor(p,g,_=L.Z.app()){var D;zp(null===(D=_.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new yi(p,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ey(x){x.INTERNAL.registerComponent(new X.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),_=p.getProvider("auth");return new Rh(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cc,FacebookAuthProvider:Nu,GithubAuthProvider:xc,GoogleAuthProvider:Ru,OAuthProvider:ba,SAMLAuthProvider:Ki,PhoneAuthProvider:Ha,PhoneMultiFactorGenerator:Gm,RecaptchaVerifier:t0,TwitterAuthProvider:sh,Auth:Rh,AuthCredential:_a,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(L.Z)},4303:(Le,Ce,P)=>{"use strict";P.d(Ce,{Jn:()=>Bn,KN:()=>_n,Xd:()=>wt,qX:()=>en});var X,V,a=P(5861),L=P(4537),O=P(7879),z=P(9058),ee=P(1878);class H{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function N(qe){const me=qe.getComponent();return"VERSION"===me?.type}(Fe)){const tt=Fe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const M="@firebase/app",U="0.9.18",B=new O.Yd("@firebase/app"),Ue={[M]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Re=new Map,nt=new Map;function Be(qe,me){try{qe.container.addComponent(me)}catch(Fe){B.debug(`Component ${me.name} failed to register with FirebaseApp ${qe.name}`,Fe)}}function wt(qe){const me=qe.name;if(nt.has(me))return B.debug(`There were multiple attempts to register component ${me}.`),!1;nt.set(me,qe);for(const Fe of Re.values())Be(Fe,qe);return!0}function en(qe,me){const Fe=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),qe.container.getProvider(me)}const Jt=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Bn="10.3.1";function _n(qe,me,Fe){var tt;let st=null!==(tt=Ue[qe])&&void 0!==tt?tt:qe;Fe&&(st+=`-${Fe}`);const vt=st.match(/\s|\//),bn=me.match(/\s|\//);if(vt||bn){const de=[`Unable to register library "${st}" with version "${me}":`];return vt&&de.push(`library name "${st}" contains illegal characters (whitespace or "/")`),vt&&bn&&de.push("and"),bn&&de.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void B.warn(de.join(" "))}wt(new L.wA(`${st}-version`,()=>({library:st,version:me}),"VERSION"))}const Nt="firebase-heartbeat-database",Vt=1,an="firebase-heartbeat-store";let dr=null;function Xn(){return dr||(dr=(0,ee.X3)(Nt,Vt,{upgrade:(qe,me)=>{0===me&&qe.createObjectStore(an)}}).catch(qe=>{throw Jt.create("idb-open",{originalErrorMessage:qe.message})})),dr}function Dn(qe,me){return(V=V||(0,a.Z)(function*(Fe,tt){try{const vt=(yield Xn()).transaction(an,"readwrite");yield vt.objectStore(an).put(tt,Rr(Fe)),yield vt.done}catch(st){if(st instanceof z.ZR)B.warn(st.message);else{const vt=Jt.create("idb-set",{originalErrorMessage:st?.message});B.warn(vt.message)}}})).apply(this,arguments)}function Rr(qe){return`${qe.name}!${qe.options.appId}`}class un{constructor(me){this.container=me,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new $i(Fe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var me=this;return(0,a.Z)(function*(){const tt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=ui();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==st&&!me._heartbeatsCache.heartbeats.some(vt=>vt.date===st))return me._heartbeatsCache.heartbeats.push({date:st,agent:tt}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(vt=>{const bn=new Date(vt.date).valueOf();return Date.now()-bn<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,a.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const Fe=ui(),{heartbeatsToSend:tt,unsentEntries:st}=function Zi(qe,me=1024){const Fe=[];let tt=qe.slice();for(const st of qe){const vt=Fe.find(bn=>bn.agent===st.agent);if(vt){if(vt.dates.push(st.date),Gr(Fe)>me){vt.dates.pop();break}}else if(Fe.push({agent:st.agent,dates:[st.date]}),Gr(Fe)>me){Fe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:tt}}(me._heartbeatsCache.heartbeats),vt=(0,z.L)(JSON.stringify({version:2,heartbeats:tt}));return me._heartbeatsCache.lastSentHeartbeatDate=Fe,st.length>0?(me._heartbeatsCache.heartbeats=st,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),vt})()}}function ui(){return(new Date).toISOString().substring(0,10)}class $i{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,a.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function fn(qe){return(X=X||(0,a.Z)(function*(me){try{return yield(yield Xn()).transaction(an).objectStore(an).get(Rr(me))}catch(Fe){if(Fe instanceof z.ZR)B.warn(Fe.message);else{const tt=Jt.create("idb-get",{originalErrorMessage:Fe?.message});B.warn(tt.message)}}})).apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var Fe=this;return(0,a.Z)(function*(){var tt;if(yield Fe._canUseIndexedDBPromise){const vt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(tt=me.lastSentHeartbeatDate)&&void 0!==tt?tt:vt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Fe=this;return(0,a.Z)(function*(){var tt;if(yield Fe._canUseIndexedDBPromise){const vt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(tt=me.lastSentHeartbeatDate)&&void 0!==tt?tt:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...me.heartbeats]})}})()}}function Gr(qe){return(0,z.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Do(qe){wt(new L.wA("platform-logger",me=>new H(me),"PRIVATE")),wt(new L.wA("heartbeat",me=>new un(me),"PRIVATE")),_n(M,U,qe),_n(M,U,"esm2017"),_n("fire-js","")}("")},4537:(Le,Ce,P)=>{"use strict";P.d(Ce,{H0:()=>V,wA:()=>O});var a=P(5861),L=P(9058);class O{constructor(N,M,U){this.name=N,this.instanceFactory=M,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const z="[DEFAULT]";class ee{constructor(N,M){this.name=N,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const M=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(M)){const U=new L.BH;if(this.instancesDeferred.set(M,U),this.isInitialized(M)||this.shouldAutoInitialize())try{const B=this.getOrInitializeService({instanceIdentifier:M});B&&U.resolve(B)}catch{}}return this.instancesDeferred.get(M).promise}getImmediate(N){var M;const U=this.normalizeInstanceIdentifier(N?.identifier),B=null!==(M=N?.optional)&&void 0!==M&&M;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(B)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch($){if(B)return null;throw $}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function X(H){return"EAGER"===H.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[M,U]of this.instancesDeferred.entries()){const B=this.normalizeInstanceIdentifier(M);try{const $=this.getOrInitializeService({instanceIdentifier:B});U.resolve($)}catch{}}}}clearInstance(N=z){this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}delete(){var N=this;return(0,a.Z)(function*(){const M=Array.from(N.instances.values());yield Promise.all([...M.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...M.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(N=z){return this.instances.has(N)}getOptions(N=z){return this.instancesOptions.get(N)||{}}initialize(N={}){const{options:M={}}=N,U=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const B=this.getOrInitializeService({instanceIdentifier:U,options:M});for(const[$,ne]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier($)&&ne.resolve(B);return B}onInit(N,M){var U;const B=this.normalizeInstanceIdentifier(M),$=null!==(U=this.onInitCallbacks.get(B))&&void 0!==U?U:new Set;$.add(N),this.onInitCallbacks.set(B,$);const ne=this.instances.get(B);return ne&&N(ne,B),()=>{$.delete(N)}}invokeOnInitCallbacks(N,M){const U=this.onInitCallbacks.get(M);if(U)for(const B of U)try{B(N,M)}catch{}}getOrInitializeService({instanceIdentifier:N,options:M={}}){let U=this.instances.get(N);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(H=N,H===z?void 0:H),options:M}),this.instances.set(N,U),this.instancesOptions.set(N,M),this.invokeOnInitCallbacks(U,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,U)}catch{}var H;return U||null}normalizeInstanceIdentifier(N=z){return this.component?this.component.multipleInstances?N:z:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class V{constructor(N){this.name=N,this.providers=new Map}addComponent(N){const M=this.getProvider(N.name);if(M.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);M.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const M=new ee(N,this);return this.providers.set(N,M),M}getProviders(){return Array.from(this.providers.values())}}},7879:(Le,Ce,P)=>{"use strict";P.d(Ce,{Am:()=>H,Ub:()=>V,Yd:()=>X,in:()=>L});const a=[];var L=function(N){return N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",N}(L||{});const O={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},z=L.INFO,ee={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},W=(N,M,...U)=>{if(M<N.logLevel)return;const B=(new Date).toISOString(),$=ee[M];if(!$)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);console[$](`[${B}]  ${N.name}:`,...U)};class X{constructor(M){this.name=M,this._logLevel=z,this._logHandler=W,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in L))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"==typeof M?O[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!=typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(...M){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...M),this._logHandler(this,L.DEBUG,...M)}log(...M){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...M),this._logHandler(this,L.VERBOSE,...M)}info(...M){this._userLogHandler&&this._userLogHandler(this,L.INFO,...M),this._logHandler(this,L.INFO,...M)}warn(...M){this._userLogHandler&&this._userLogHandler(this,L.WARN,...M),this._logHandler(this,L.WARN,...M)}error(...M){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...M),this._logHandler(this,L.ERROR,...M)}}function V(N){a.forEach(M=>{M.setLogLevel(N)})}function H(N,M){for(const U of a){let B=null;M&&M.level&&(B=O[M.level]),U.userLogHandler=null===N?null:($,ne,...ae)=>{const pe=ae.map(Z=>{if(null==Z)return null;if("string"==typeof Z)return Z;if("number"==typeof Z||"boolean"==typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch{return null}}).filter(Z=>Z).join(" ");ne>=(B??$.logLevel)&&N({level:L[ne].toLowerCase(),message:pe,args:ae,type:$.name})}}}},1878:(Le,Ce,P)=>{"use strict";P.d(Ce,{X3:()=>_e});var a=P(5861);const L=(ue,Ee)=>Ee.some(ye=>ue instanceof ye);let O,z;const X=new WeakMap,V=new WeakMap,H=new WeakMap,N=new WeakMap,M=new WeakMap;let $={get(ue,Ee,ye){if(ue instanceof IDBTransaction){if("done"===Ee)return V.get(ue);if("objectStoreNames"===Ee)return ue.objectStoreNames||H.get(ue);if("store"===Ee)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return Z(ue[Ee])},set:(ue,Ee,ye)=>(ue[Ee]=ye,!0),has:(ue,Ee)=>ue instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in ue};function pe(ue){return"function"==typeof ue?function ae(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function W(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...Ee){return ue.apply(J(this),Ee),Z(X.get(this))}:function(...Ee){return Z(ue.apply(J(this),Ee))}:function(Ee,...ye){const Ne=ue.call(J(this),Ee,...ye);return H.set(Ne,Ee.sort?Ee.sort():[Ee]),Z(Ne)}}(ue):(ue instanceof IDBTransaction&&function B(ue){if(V.has(ue))return;const Ee=new Promise((ye,Ne)=>{const Xe=()=>{ue.removeEventListener("complete",Ze),ue.removeEventListener("error",lt),ue.removeEventListener("abort",lt)},Ze=()=>{ye(),Xe()},lt=()=>{Ne(ue.error||new DOMException("AbortError","AbortError")),Xe()};ue.addEventListener("complete",Ze),ue.addEventListener("error",lt),ue.addEventListener("abort",lt)});V.set(ue,Ee)}(ue),L(ue,function ee(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,$):ue)}function Z(ue){if(ue instanceof IDBRequest)return function U(ue){const Ee=new Promise((ye,Ne)=>{const Xe=()=>{ue.removeEventListener("success",Ze),ue.removeEventListener("error",lt)},Ze=()=>{ye(Z(ue.result)),Xe()},lt=()=>{Ne(ue.error),Xe()};ue.addEventListener("success",Ze),ue.addEventListener("error",lt)});return Ee.then(ye=>{ye instanceof IDBCursor&&X.set(ye,ue)}).catch(()=>{}),M.set(Ee,ue),Ee}(ue);if(N.has(ue))return N.get(ue);const Ee=pe(ue);return Ee!==ue&&(N.set(ue,Ee),M.set(Ee,ue)),Ee}const J=ue=>M.get(ue);function _e(ue,Ee,{blocked:ye,upgrade:Ne,blocking:Xe,terminated:Ze}={}){const lt=indexedDB.open(ue,Ee),gt=Z(lt);return Ne&&lt.addEventListener("upgradeneeded",xt=>{Ne(Z(lt.result),xt.oldVersion,xt.newVersion,Z(lt.transaction),xt)}),ye&&lt.addEventListener("blocked",xt=>ye(xt.oldVersion,xt.newVersion,xt)),gt.then(xt=>{Ze&&xt.addEventListener("close",()=>Ze()),Xe&&xt.addEventListener("versionchange",kt=>Xe(kt.oldVersion,kt.newVersion,kt))}).catch(()=>{}),gt}const he=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],ge=new Map;function be(ue,Ee){var ye;if(!(ue instanceof IDBDatabase)||Ee in ue||"string"!=typeof Ee)return;if(ge.get(Ee))return ge.get(Ee);const Ne=Ee.replace(/FromIndex$/,""),Xe=Ee!==Ne,Ze=Y.includes(Ne);if(!(Ne in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ze&&!he.includes(Ne))return;const lt=function(xt){return(ye=ye||(0,a.Z)(function*(kt,...te){const ce=this.transaction(kt,Ze?"readwrite":"readonly");let fe=ce.store;return Xe&&(fe=fe.index(te.shift())),(yield Promise.all([fe[Ne](...te),Ze&&ce.done]))[0]})).apply(this,arguments)};return ge.set(Ee,lt),lt}!function ne(ue){$=ue($)}(ue=>({...ue,get:(Ee,ye,Ne)=>be(Ee,ye)||ue.get(Ee,ye,Ne),has:(Ee,ye)=>!!be(Ee,ye)||ue.has(Ee,ye)}))},5861:(Le,Ce,P)=>{"use strict";function a(O,z,ee,W,X,V,H){try{var N=O[V](H),M=N.value}catch(U){return void ee(U)}N.done?z(M):Promise.resolve(M).then(W,X)}function L(O){return function(){var z=this,ee=arguments;return new Promise(function(W,X){var V=O.apply(z,ee);function H(M){a(V,W,X,H,N,"next",M)}function N(M){a(V,W,X,H,N,"throw",M)}H(void 0)})}}P.d(Ce,{Z:()=>L})},7582:(Le,Ce,P)=>{"use strict";function z(te,ce){var fe={};for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&ce.indexOf(le)<0&&(fe[le]=te[le]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(le=Object.getOwnPropertySymbols(te);Ue<le.length;Ue++)ce.indexOf(le[Ue])<0&&Object.prototype.propertyIsEnumerable.call(te,le[Ue])&&(fe[le[Ue]]=te[le[Ue]])}return fe}function U(te,ce,fe,le){return new(fe||(fe=Promise))(function(Re,nt){function Be(en){try{wt(le.next(en))}catch(Ft){nt(Ft)}}function On(en){try{wt(le.throw(en))}catch(Ft){nt(Ft)}}function wt(en){en.done?Re(en.value):function Ue(Re){return Re instanceof fe?Re:new fe(function(nt){nt(Re)})}(en.value).then(Be,On)}wt((le=le.apply(te,ce||[])).next())})}function G(te){return this instanceof G?(this.v=te,this):new G(te)}function he(te,ce,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,le=fe.apply(te,ce||[]),Re=[];return Ue={},nt("next"),nt("throw"),nt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function nt(rn){le[rn]&&(Ue[rn]=function(cn){return new Promise(function(Jt,ln){Re.push([rn,cn,Jt,ln])>1||Be(rn,cn)})})}function Be(rn,cn){try{!function On(rn){rn.value instanceof G?Promise.resolve(rn.value.v).then(wt,en):Ft(Re[0][2],rn)}(le[rn](cn))}catch(Jt){Ft(Re[0][3],Jt)}}function wt(rn){Be("next",rn)}function en(rn){Be("throw",rn)}function Ft(rn,cn){rn(cn),Re.shift(),Re.length&&Be(Re[0][0],Re[0][1])}}function ge(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ce=te[Symbol.asyncIterator];return ce?ce.call(te):(te=function ae(te){var ce="function"==typeof Symbol&&Symbol.iterator,fe=ce&&te[ce],le=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&le>=te.length&&(te=void 0),{value:te&&te[le++],done:!te}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},le("next"),le("throw"),le("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function le(Re){fe[Re]=te[Re]&&function(nt){return new Promise(function(Be,On){!function Ue(Re,nt,Be,On){Promise.resolve(On).then(function(wt){Re({value:wt,done:Be})},nt)}(Be,On,(nt=te[Re](nt)).done,nt.value)})}}}P.d(Ce,{FC:()=>he,KL:()=>ge,_T:()=>z,mG:()=>U,qq:()=>G}),"function"==typeof SuppressedError&&SuppressedError}},Le=>{Le(Le.s=7886)}]);